/*
 * ! OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/OverflowToolbarButton","sap/m/library","sap/m/MenuButton","sap/ui/core/library"],function(O,M,a,C){"use strict";var H=C.aria.HasPopup;var r;var T={createSortButton:function(i,e){if(!r){this._loadResourceBundle();}return this._createButton(i+"-sort",{icon:"sap-icon://sort",text:r.getText("table.SETTINGS_SORT"),press:e,tooltip:r.getText("table.SETTINGS_SORT"),ariaHasPopup:H.Dialog});},createColumnsButton:function(i,e){if(!r){this._loadResourceBundle();}return this._createButton(i+"-settings",{icon:"sap-icon://action-settings",text:r.getText("table.SETTINGS_COLUMN"),press:e,tooltip:r.getText("table.SETTINGS_COLUMN"),ariaHasPopup:H.Dialog});},createFilterButton:function(i,e){if(!r){this._loadResourceBundle();}return this._createButton(i+"-filter",{icon:"sap-icon://filter",text:r.getText("filter.PERSONALIZATION_DIALOG_TITLE"),press:e,tooltip:r.getText("filter.PERSONALIZATION_DIALOG_TITLE"),ariaHasPopup:H.Dialog});},createExportButton:function(i,e){if(!r){this._loadResourceBundle();}var m=new a(i+"-export",{icon:"sap-icon://excel-attachment",tooltip:r.getText("table.EXPORT_BUTTON_TEXT"),type:M.ButtonType.Ghost,buttonMode:M.MenuButtonMode.Split,useDefaultActionOnly:true,defaultAction:e.default});sap.ui.getCore().loadLibrary("sap.ui.unified",{async:true}).then(function(){sap.ui.require(["sap/m/Menu","sap/m/MenuItem"],function(b,c){var o=new b({items:[new c({text:r.getText("table.QUICK_EXPORT"),press:e.default}),new c({text:r.getText("table.EXPORT_WITH_SETTINGS"),press:e.exportAs})]});m.setMenu(o);});});return m;},_createButton:function(i,s){return new O(i,s);},_loadResourceBundle:function(){r=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");},showPanel:function(c,p,s,i){T["showP13n"+p](c,s);},showP13nColumns:function(c,s){var A=c.getAdaptationController();A.showP13n(s,"Item");},showP13nSort:function(c,s){var A=c.getAdaptationController();A.showP13n(s,"Sort");},showP13nFilter:function(c,s){var A=c.getAdaptationController();c.retrieveInbuiltFilter().then(function(){A.showP13n(s,"Filter");});},createSort:function(c,p,R){var s={selected:true,name:p,descending:false};c.getCurrentState().sorters.forEach(function(P){if(P.name==p){s.descending=!P.descending;}});var A=c.getAdaptationController();var i=[s];A.createSortChanges(i,true);},moveColumn:function(c,d,n){if(d!=n){this._moveItem(c,d,n,"moveColumn");}},_moveItem:function(c,d,n,m){var v=c.getCurrentState(c).items||[];var o=v[d];var A=c.getAdaptationController();A.createItemChanges([{name:o.name,position:n}]);}};return T;});
