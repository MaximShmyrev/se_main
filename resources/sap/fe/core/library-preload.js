//@ui5-bundle sap/fe/core/library-preload.js
sap.ui.predefine('sap/fe/core/FEController',["sap/ui/core/mvc/Controller","sap/fe/core/CommonUtils"],function(C,a){"use strict";return C.extend("sap.fe.core.FEController",{onInit:function(){var u=this.getAppComponent().getModel("ui"),i=this.getAppComponent().getModel("internal"),p="/pages/"+this.getView().getId();u.setProperty(p,{controls:{}});i.setProperty(p,{controls:{}});this.getView().bindElement({path:p,model:"ui"});this.getView().bindElement({path:p,model:"internal"});this.getView().bindElement({path:p,model:"pageInternal"});this.getView().setModel(i,"pageInternal");this.getView().setModel(u,"ui");this.getView().setModel(i,"internal");},getAppComponent:function(){if(!this._oAppComponent){this._oAppComponent=a.getAppComponent(this.getView());}return this._oAppComponent;},getModel:function(n){return this.getView().getModel(n);},setModel:function(m,n){return this.getView().setModel(m,n);},getResourceBundle:function(i){if(!i){i="i18n";}return this.getAppComponent().getModel(i).getResourceBundle();}});});
sap.ui.predefine('sap/fe/core/Synchronization',["sap/base/Log","sap/ui/base/Object"],function(L,B){"use strict";return B.extend("sap.fe.core.Synchronization",{constructor:function(){this._fnResolve=null;this._isResolved=false;return B.apply(this,arguments);},waitFor:function(){var t=this;if(this._isResolved){return Promise.resolve();}else{return new Promise(function(r,a){t._fnResolve=r;});}},resolve:function(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve();}}}});});
sap.ui.predefine('sap/fe/core/TransactionHelper',["sap/ui/base/Object","sap/fe/core/AnnotationHelper","sap/fe/core/actions/draft","sap/fe/core/actions/sticky","sap/fe/core/actions/operations","sap/ui/model/json/JSONModel","sap/fe/core/actions/messageHandling","sap/m/Popover","sap/m/VBox","sap/m/CheckBox","sap/m/Text","sap/m/Button","sap/m/MessageToast","sap/m/Dialog","sap/ui/model/BindingMode","sap/base/Log","sap/ui/core/message/Message","sap/fe/core/CommonUtils","sap/fe/core/BusyLocker","sap/fe/core/helpers/SideEffectsUtil","sap/ui/core/util/XMLPreprocessor","sap/ui/core/XMLTemplateProcessor","sap/ui/core/Fragment","sap/m/MessageBox","sap/fe/core/helpers/ModelHelper","sap/fe/core/library","sap/ui/core/ValueState"],function(B,A,d,s,o,J,m,P,V,C,T,a,M,D,b,L,c,e,f,S,X,g,F,h,j,k,l){"use strict";var n=k.CreationMode,p=k.ProgrammingModel;
function q(i){if(i&&i.getMetadata&&i.getMetadata().getName()==="sap.ui.base.Event"){i={};}return i||{};}
return B.extend("sap.fe.core.TransactionHelper",{constructor:function(i,r){this._oAppComponent=i;this.oLockObject=r;},getProgrammingModel:function(i){if(!this.sProgrammingModel&&i){if(j.isDraftSupported(i)){this.sProgrammingModel=p.Draft;}else if(j.isStickySessionSupported(i.getModel().getMetaModel())){this.sProgrammingModel=p.Sticky;}else{return p.NonDraft;}}return this.sProgrammingModel;},createDocument:function(i,r,R){var N,t=this,u,v=i.getModel(),w=v.getMetaModel(),x=w.getMetaPath(i.getHeaderContext().getPath()),y=!i.isRelative()&&(w.getObject(x+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction")||w.getObject(x+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction")),z,E={"$$patchWithoutSideEffects":true},G=w.getObject(x+"/@com.sap.vocabularies.Common.v1.Messages/$Path"),H,I="/busy";if(G){E["$select"]=G;}r=q(r);if(!i){return Promise.reject("Binding required for new document creation");}H=this.getProgrammingModel(i);if(H!==p.Draft&&H!==p.Sticky){return Promise.reject("Create document only allowed for draft or sticky session supported services");}if(r.busyMode==="Local"){I="/busyLocal/"+i.sId;}f.lock(this.oLockObject,I);u=!r.refreshList;var K=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");if(y){z=this.callAction(y,{contexts:i.getHeaderContext(),showActionParameterDialog:true,label:K.getText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE"),bindingParameters:E,parentControl:r.parentControl,bIsCreateAction:true});}else{var O=r.creationMode!==n.CreationRow&&r.creationMode!==n.Inline;var Q=O?e.getNonComputedVisibleFields(w,x):[];if(Q.length>0){var U=v.bindList(i.getPath(),i.getContext(),[],[],{$$updateGroupId:"submitLater",$$groupId:"submitLater"});U.refreshInternal=function(){};N=U.create(r.data,u);r.keepTransientContextOnFailed=true;z=this._launchDialogWithKeyFields(i,U,N,Q,v,r);z.catch(function(){L.trace("transient creation context deleted");});}else{N=i.create(r.data,u,r.createAtEnd);z=t.onAfterCreateCompletion(i,N,r,K);}}return z.then(function(W){if(!i.isRelative()){t._bCreateMode=true;}N=N||(W&&W.response);if(W&&W.bConsiderDocumentModified){t.handleDocumentModifications();}return m.showUnboundMessages().then(function(){return N;});}).catch(function(W){return m.showUnboundMessages().then(function(){if(W&&W.bDeleteTransientContext&&N.isTransient()){N.delete("$direct");}return Promise.reject(W);});}).finally(function(){f.unlock(t.oLockObject,I);});},findActiveDraftRootContexts:function(i,r){if(!r){return Promise.resolve();}var t=i.reduce(function(R,u){var v=u.getModel().getMetaModel();var w=v.getMetaPath(u.getPath());if(v.getObject(w+"@com.sap.vocabularies.Common.v1.DraftRoot")){var I=u.getObject().IsActiveEntity,H=u.getObject().HasActiveEntity,x;if(!I&&H){x=u.getModel().bindContext(u.getPath()+"/SiblingEntity").getBoundContext();R.push(x);}}return R;},[]);return Promise.all(t.map(function(u){return u.requestCanonicalPath().then(function(){return u;});}));},afterDeleteProcess:function(i,r,t,R){var I=i.internalModelContext;if(I&&I.getProperty("deleteEnabled")!=undefined){if(r.isCheckBoxVisible===true&&r.isCheckBoxSelected===false){I.setProperty("deleteEnabled",true);var u=Object.assign(I.getObject(),{});u.selectedContexts=u.selectedContexts.filter(function(v){return u.deletableContexts.indexOf(v)===-1;});u.deletableContexts=[];u.selectedContexts=[];u.numberOfSelectedContexts=u.selectedContexts.length;I.setProperty("",u);}else{I.setProperty("deleteEnabled",false);I.setProperty("selectedContexts",[]);I.setProperty("numberOfSelectedContexts",0);}}if(t.length===1){M.show(e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_DELETE_TOAST_SINGULAR",R,null,i.entitySetName));}else{M.show(e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_DELETE_TOAST_PLURAL",R,null,i.entitySetName));}},deleteDocument:function(v,r,R){var t,u,w=[],x=false,y=false,z=false,E,G=false,H=this,I=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),K,N={title:I.getText("C_COMMON_OBJECT_PAGE_DELETE")};f.lock(this.oLockObject);if(!Array.isArray(v)){v=[v];}Promise.resolve(this.getProgrammingModel(v[0])).then(function(O){if(r){if(!r.numberOfSelectedContexts){if(O===p.Draft){for(var i=0;i<v.length;i++){var Q=v[i].getObject();if(Q.IsActiveEntity===true&&Q.HasDraftEntity===true&&Q.DraftAdministrativeData&&Q.DraftAdministrativeData.InProcessByUser){h.show(I.getText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_SINGLE_OBJECT_LOCKED"),{title:I.getText("C_COMMON_OBJECT_PAGE_DELETE"),onClose:t});return;}}}r=q(r);if(r.title){if(r.description){K=[r.title,r.description];N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO",R,K,r.entitySetName);}else{N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",R,null,r.entitySetName);}}else{N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",R);}w=v;}else{N={title:I.getText("C_COMMON_OBJECT_PAGE_DELETE")};if(r.numberOfSelectedContexts===1&&r.numberOfSelectedContexts===v.length){w=v;N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",R,null,r.entitySetName);}else if(r.numberOfSelectedContexts===1&&r.unSavedContexts.length===1){w=r.unSavedContexts;var U=w[0].getObject()["DraftAdministrativeData"]?w[0].getObject()["DraftAdministrativeData"]["LastChangedByUserDescription"]:"";K=[U];N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",R,K);}else if(r.numberOfSelectedContexts===r.unSavedContexts.length){w=r.unSavedContexts;N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS",R);}else if(r.numberOfSelectedContexts===v.concat(r.unSavedContexts.concat(r.lockedContexts)).length){w=v.concat(r.unSavedContexts);N.text=w.length===1?e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",R,null,r.entitySetName):e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",R,null,r.entitySetName);}else{w=v.concat(r.unSavedContexts);z=true;N.text=w.length===1?e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR_NON_DELETABLE",R,null,r.entitySetName):e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL_NON_DELETABLE",R,null,r.entitySetName);N.nonDeletableText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",R,[r.numberOfSelectedContexts-v.concat(r.unSavedContexts).length,r.numberOfSelectedContexts]);}if(r.lockedContexts.length==1){y=true;N.nonDeletableText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED",R,[r.numberOfSelectedContexts]);}if(r.lockedContexts.length>1){y=true;N.nonDeletableText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",R,[r.lockedContexts.length,r.numberOfSelectedContexts]);}if(r.unSavedContexts.length>0&&r.unSavedContexts.length!==r.numberOfSelectedContexts){if((z||y)&&w.length===r.unSavedContexts.length){x=false;w=r.unSavedContexts;if(r.unSavedContexts.length===1){N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",R);}else{N.text=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL",R);}}else{if(r.unSavedContexts.length===1){N.checkBoxText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",R);}else{N.checkBoxText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL",R);}x=true;}}if(z&&y){if(r.unSavedContexts.length>1){N.nonDeletableText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED_AND_NON_DELETABLE",R,[r.numberOfSelectedContexts-v.concat(r.unSavedContexts).length-r.lockedContexts.length,r.lockedContexts.length,r.numberOfSelectedContexts]);}if(r.unSavedContexts.length==1){N.nonDeletableText=e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_ONE_OBJECT_LOCKED_AND_NON_DELETABLE",R,[r.numberOfSelectedContexts-v.concat(r.unSavedContexts).length-r.lockedContexts.length,r.numberOfSelectedContexts]);}}}}var W,Y,Z=new V({items:[(W=new T({text:N.nonDeletableText,visible:y||z})),(Y=new T({text:N.text})),new C({text:N.checkBoxText,selected:true,select:function(a1){var b1=a1.getSource().getSelected();if(b1){w=v.concat(r.unSavedContexts);E=true;}else{w=v;E=false;}},visible:x})]});var $=I.getText("C_COMMON_OBJECT_PAGE_DELETE");var _=new D({title:$,state:"Warning",content:[Z],ariaLabelledBy:W.getVisible()?[W,Y]:Y,beginButton:new a({text:I.getText("C_COMMON_OBJECT_PAGE_DELETE"),type:"Emphasized",press:function(){G=true;f.lock(H.oLockObject);var a1=w;_.close();return H.findActiveDraftRootContexts(a1,r.bFindActiveContexts).then(function(b1){return Promise.all(a1.map(function(c1){return d.deleteDraft(c1).catch(function(d1){return m.showUnboundMessages().then(function(){throw d1;});});})).then(function(){var c1={"isCheckBoxVisible":x,"isCheckBoxSelected":E};if(b1&&b1.length){return Promise.all(b1.map(function(d1){return d1.delete();})).then(function(){H.afterDeleteProcess(r,c1,a1,R);return m.showUnboundMessages().then(u);});}else{H.afterDeleteProcess(r,c1,a1,R);return m.showUnboundMessages().then(u);}});}).catch(function(){t();}).finally(function(){f.unlock(H.oLockObject);});}}),endButton:new a({text:e.getTranslatedText("C_COMMON_OBJECT_PAGE_CANCEL",R),press:function(){_.close();}}),afterClose:function(){_.destroy();if(!G){t();}}});_.addStyleClass("sapUiContentPadding");_.open();}).finally(function(){f.unlock(H.oLockObject);}).catch(function(){L.warning("Couldn't get Programming model");t();});return new Promise(function(i,O){t=O;u=i;});},editDocument:function(i,r,v){var t=this,u=this.getProgrammingModel(i),E;if(!i){return Promise.reject(new Error("Binding context to active document is required"));}this._bIsModified=false;f.lock(t.oLockObject);m.removeBoundTransitionMessages();if(u===p.Draft){E=d.createDraftFromActiveDocument(i,{bPreserveChanges:true,bPrepareOnEdit:r,oView:v});}else if(u===p.Sticky){E=s.editDocumentInStickySession(i);}else{f.unlock(t.oLockObject);return Promise.reject(new Error("Edit is only allowed for draft or sticky session supported services"));}return E.then(function(N){t._bCreateMode=false;return m.showUnboundMessages().then(function(){return N;});}).catch(function(w){return m.showUnboundMessages().then(function(){return Promise.reject(w);});}).finally(function(){f.unlock(t.oLockObject);});},cancelDocument:function(i,r,R){var t=this,u;if(!i){return Promise.reject("No context exists. Pass a meaningful context");}f.lock(t.oLockObject);r=q(r);var v=i,w=r.cancelButton,x=v.getModel(),y;return Promise.resolve(this.getProgrammingModel(i)).then(function(z){u=z;if(z===p.Draft){var E=x.bindContext(v.getPath()+"/DraftAdministrativeData").getBoundContext();if(!t._bIsModified){return E.requestObject().then(function(G){t._bIsModified=!(G.CreationDateTime===G.LastChangeDateTime);});}}}).then(function(){return t._showDiscardPopover(w,t._bIsModified,R);}).then(function(){switch(u){case p.Draft:return v.requestObject("HasActiveEntity").then(function(H){var z;if(!H){if(v&&v.hasPendingChanges()){v.getBinding().resetChanges();}z=d.deleteDraft(v);return z;}else{var E=x.bindContext(v.getPath()+"/SiblingEntity").getBoundContext();return E.requestCanonicalPath().then(function(G){y=G;if(v&&v.hasPendingChanges()){v.getBinding().resetChanges();}z=d.deleteDraft(v);return z;}).then(function(){if(E.getPath()!==y){E=x.bindContext(y).getBoundContext();}return E;});}});case p.Sticky:return s.discardDocument(i).then(function(i){if(i){if(i.hasPendingChanges()){i.getBinding().resetChanges();}if(!t._bCreateMode){i.refresh();return i;}}return false;});default:return Promise.reject("Cancel document only allowed for draft or sticky session supported services");}}).then(function(z){t._bIsModified=false;m.removeBoundTransitionMessages();return m.showUnboundMessages().then(function(){return z;});}).catch(function(z){return m.showUnboundMessages().then(function(){return Promise.reject(z);});}).finally(function(){f.unlock(t.oLockObject);});},saveDocument:function(i,r,E,t){var u=this,v=this.getProgrammingModel(i),w;if(!i){return Promise.reject(new Error("Binding context to draft document is required"));}m.removeBoundTransitionMessages();f.lock(u.oLockObject);if(v===p.Draft){w=d.activateDocument(i);}else if(v===p.Sticky){w=s.activateDocument(i);}else{f.unlock(u.oLockObject);return Promise.reject(new Error("Save is only allowed for draft or sticky session supported services"));}return w.then(function(x){var N=u.sProgrammingModel===p.Sticky?u._bCreateMode:!i.getObject().HasActiveEntity;M.show(N?e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_CREATED",r):e.getTranslatedText("C_TRANSACTION_HELPER_OBJECT_SAVED",r));u._bIsModified=false;return m.showUnboundMessages().then(function(){return x;});}).catch(function(x){if(t&&t.length>0){t.forEach(function(y){if(!e.hasTransientContext(y)&&E){S.requestSideEffects(y.getPath(),i);}});}return m.showUnboundMessages().then(function(){return Promise.reject(x);});}).finally(function(){f.unlock(u.oLockObject);});},callAction:function(r,t){t=q(t);var u=this,v,w,x,N,y=t.bindingParameters;if(!r){return Promise.reject("Provide name of action to be executed");}N=r.split("/")[1];r=N||r;v=N?undefined:t.contexts;if(v&&((Array.isArray(v)&&v.length)||!Array.isArray(v))){v=Array.isArray(v)?v[0]:v;w=v.getModel();}if(t.model){w=t.model;}if(!w){return Promise.reject("Pass a context for a bound action or pass the model for an unbound action");}var z=S.getSideEffectsForAction(r,v)||{},E=u._getAppComponent();if(v&&w){x=new Promise(function(G,H){var I;var K={onClose:function(){I.close();G();},onContinue:function(){I.close();G(t.applicableContext);}};var O=function(){var Z,$=t.notApplicableContext.length,_=[];for(var i=0;i<t.notApplicableContext.length;i++){Z=t.notApplicableContext[i].getObject();_.push(Z);}var a1=new J(_);var b1=new J({total:$,label:t.label});I.setModel(a1,"notApplicable");I.setModel(b1,"totals");I.open();};if(t.notApplicableContext&&t.notApplicableContext.length>=1){var Q="sap.fe.core.controls.ActionPartial";var R=g.loadTemplate(Q,"fragment");var U=w.getMetaModel();var W=t.contexts[0].getCanonicalPath();var Y=W.substr(0,W.indexOf("("))+"/";Promise.resolve(X.process(R,{name:Q},{bindingContexts:{entityType:U.createBindingContext(Y)},models:{entityType:U,metaModel:U}})).then(function(i){return F.load({definition:i,controller:K});}).then(function(i){I=i;t.parentControl.addDependent(i);O();}).catch(H);}else{G(t.contexts);}}).then(function(i){if(i){return o.callBoundAction(r,i,w,{invocationGrouping:t.invocationGrouping,label:t.label,showActionParameterDialog:true,mBindingParameters:y,entitySetName:t.entitySetName,additionalSideEffect:z,onSubmitted:function(){f.lock(u.oLockObject);},onResponse:function(){f.unlock(u.oLockObject);},parentControl:t.parentControl,ownerComponent:E,internalModelContext:t.internalModelContext,operationAvailableMap:t.operationAvailableMap,bIsCreateAction:t.bIsCreateAction,bGetBoundContext:t.bGetBoundContext});}else{return null;}});}else{x=o.callActionImport(r,w,{label:t.label,showActionParameterDialog:true,bindingParameters:y,entitySetName:t.entitySetName,onSubmitted:function(){f.lock(u.oLockObject);},onResponse:function(){f.unlock(u.oLockObject);},parentControl:t.parentControl,internalModelContext:t.internalModelContext,operationAvailableMap:t.operationAvailableMap,ownerComponent:E});}return x.then(function(R){return m.showUnboundMessages().then(function(){return R;});}).catch(function(i){return m.showUnboundMessages().then(function(){return Promise.reject(i);});});},handleValidationError:function(){var i=sap.ui.getCore().getMessageManager(),r=i.getMessageModel().getData().filter(function(t){if(t.validation){return t;}});i.removeMessages(r);},_showDiscardPopover:function(i,I,r){var t=this;t._bContinueDiscard=false;return new Promise(function(u,v){if(!i){v("Cancel button not found");}if(I){var O=function(){i.setEnabled(true);if(t._bContinueDiscard){u();}else{v("Discard operation was rejected. Document has not been discarded");}t._oPopover.detachAfterClose(O);};if(!t._oPopover){var w=new T({text:e.getTranslatedText("C_TRANSACTION_HELPER_DRAFT_DISCARD_MESSAGE",r)}),x=new a({text:e.getTranslatedText("C_TRANSACTION_HELPER_DRAFT_DISCARD_BUTTON",r),width:"100%",press:function(){t.handleValidationError();t._bContinueDiscard=true;t._oPopover.close();},ariaLabelledBy:w});t._oPopover=new P({showHeader:false,placement:"Top",content:[new V({items:[w,x]})],beforeOpen:function(){i.setEnabled(false);t._oPopover.setInitialFocus(x);}});t._oPopover.addStyleClass("sapUiContentPadding");}t._oPopover.attachAfterClose(O);t._oPopover.openBy(i);}else{t.handleValidationError();u();}});},handleDocumentModifications:function(){this._bIsModified=true;},_getAppComponent:function(){return this._oAppComponent;},_launchDialogWithKeyFields:function(r,t,u,v,w,x){var y=this,z,E=x.parentControl,G=false;return new Promise(function(H,I){var K="sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog";var N=g.loadTemplate(K,"fragment"),R=E.getController().oResourceBundle,O=w.getMetaModel(),Q=[],U=y._getAppComponent(),W=O.createBindingContext(r.getPath()),Y=O.getMetaPath(r.getPath());for(var i in v){Q.push(O.createBindingContext(Y+"/"+v[i]));}var Z=new J(Q);Z=Z.createBindingContext("/");return Promise.resolve(X.process(N,{name:K},{bindingContexts:{entitySet:W,fields:Z},models:{entitySet:W.getModel(),fields:Z.getModel(),metaModel:O}})).then(function(N){var $=[],_={},a1,b1=function(){return Promise.all($.map(function(d1){return d1.getFields()[0];}).filter(function(d1){return d1.getRequired();}).map(function(d1){var e1=d1.getId();if(e1 in _){return Promise.resolve(_[e1]).then(function(f1){return f1;}).catch(function(){return undefined;});}return d1.getValueState()===l.Error?undefined:d1.getValue();})).then(function(d1){return d1.every(function(e1){return e1!==undefined&&e1!==null&&e1!=="";});}).catch(function(){return false;}).then(function(d1){a1.setEnabled(d1);});},c1={handleChange:function(d1){m.removeBoundTransitionMessages();var e1=d1.getSource();var f1=d1.getParameter("id");var g1=d1.getParameter("promise");if(g1){_[f1]=g1.then(function(){return e1.getValue();});}b1();},handleLiveChange:function(d1){var e1=d1.getParameter("id");var f1=d1.getParameter("value");_[e1]=f1;b1();}};return F.load({definition:N,controller:c1}).then(function(d1){z=new D({title:e.getTranslatedText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE",R),content:[d1],beginButton:{text:e.getTranslatedText("C_TRANSACTION_HELPER_SAPFE_ACTION_CREATE",R),type:"Emphasized",press:function(e1){var a1=e1.getSource();a1.setEnabled(false);f.lock(z);return Promise.all(Object.keys(_).map(function(f1){return _[f1];})).then(function(){var f1=y.onAfterCreateCompletion(t,u,x,R);w.submitBatch("submitLater");return f1;}).then(function(f1){z.setBindingContext(null);z.close();H(f1);}).finally(function(){f.unlock(z);a1.setEnabled(true);return m.showUnboundMessages();});}},endButton:{text:e.getTranslatedText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL",R),press:function(){z.close();}},afterClose:function(){z.getBindingContext("internal").setProperty("bIsCreateDialogOpen",false);z.destroy();if(!G){I({bDeleteTransientContext:true});}}});$=d1.getAggregation("form").getAggregation("formContainers")[0].getAggregation("formElements");if(E&&E.addDependent){E.addDependent(z);}a1=z.getBeginButton();z.setBindingContext(u);return e.setUserDefaults(U,Q,u).then(function(){b1();z.getBindingContext("internal").setProperty("bIsCreateDialogOpen",true);z.open();}).catch(function(e1){return m.showUnboundMessages().then(function(){return Promise.reject(e1);});});});});});},onAfterCreateCompletion:function(r,N,t,R){var u,v,w=new Promise(function(i,y){u=i;v=y;});var x=function(E){var y=E.getParameter("context"),z=sap.ui.getCore().getMessageManager(),G,H,I,K,O=E.getParameter("success");if(y===N){r.detachCreateCompleted(x,this);if(!O){var Q={bDeleteTransientContext:true};if(t.keepTransientContextOnFailed){G=N.getPath();H=z.getMessageModel().getData();K=false;for(var i=0;i<H.length;i++){if(H[0].target===G){K=true;break;}}if(!K){I=new c({message:e.getTranslatedText("C_TRANSACTION_HELPER_TRANSIENT_CONTEXT_MESSAGE",R),description:e.getTranslatedText("C_TRANSACTION_HELPER_TRANSIENT_CONTEXT_DESCRIPTION",R),target:G,persistent:false,type:"Error"});z.addMessages(I);N.created().then(function(){z.removeMessages(I);},function(){z.removeMessages(I);}).catch(function(Q){L.error("Cannot find a created new document context",Q);});}}else{y.created().then(undefined,function(){L.trace("transient creation context deleted");}).catch(function(Q){L.trace("transient creation context deletion error",Q);});Q.navigateBackFromTransientState=true;}v(Q);}else{u();}}};r.attachCreateCompleted(x,this);return w;}});});
sap.ui.predefine('sap/fe/core/controllerextensions/IntentBasedNavigation',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/base/Log"],function(C,O,L){"use strict";return C.extend("sap.fe.core.controllerextensions.IntentBasedNavigation",{metadata:{methods:{navigateOutbound:{"final":true,"public":true},adaptNavigationContext:{"final":false,"public":true,overrideExecution:O.After}}},navigateOutbound:function(o,n){var m=this.base.getAppComponent().getManifestEntry("sap.app"),a=m.crossNavigation&&m.crossNavigation.outbounds[o];if(!a){L.error("Outbound is not defined in manifest!!");return;}var s=a.semanticObject,A=a.action,b=a.parameters&&this._getOutboundParams(a.parameters);if(n||b){n={navigationContexts:{data:n||b}};}this.base._intentBasedNavigation.navigate(s,A,n);},_getOutboundParams:function(o){var p={};if(o){var P=Object.keys(o)||[];if(P.length>0){P.forEach(function(k){var m=o[k];if(m.value&&m.value.value&&m.value.format==="plain"){if(!p[k]){p[k]=m.value.value;}}});}}return p;},adaptNavigationContext:function(s,t){}});});
sap.ui.predefine('sap/fe/core/controllerextensions/InternalIntentBasedNavigation',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/fe/navigation/SelectionVariant","sap/fe/core/helpers/ModelHelper","sap/base/Log"],function(C,O,S,M,L){"use strict";return C.extend("sap.fe.core.controllerextensions.InternalInternalBasedNavigation",{metadata:{methods:{navigate:{"final":true,"public":true},getEntitySet:{"final":false,"public":false}}},navigate:function(s,a,n){var N=n&&n.navigationContexts,b=N&&!Array.isArray(N)?[N]:N,v=n&&n.semanticObjectMapping,t={semanticObject:s,action:a};if(s&&a){var c,o=new S(),d=this;if(b&&b.length){c=b.map(function(h){if(h.isA&&h.isA("sap.ui.model.odata.v4.Context")){var j=h.getObject(),k=d._oMetaModel.getMetaPath(h.getPath());return d._removeSensitiveData(j,k);}else if(typeof h==="object"){return d._removeSensitiveData(h.data,h.metaPath);}});}if(c&&c.length){o=this._oNavigationService.mixAttributesAndSelectionVariant(c,o.toJSONString());}var m=this._oView.getModel(),e=this.getEntitySet(),f=e?this._oNavigationService.constructContextUrl(e,m):undefined;if(f){o.setFilterContextUrl(f);}this.base.getView().getController().intentBasedNavigation.adaptNavigationContext(o,t);if(v){this._applySemanticObjectMappings(o,v);}this._removeTechnicalParameters(o);var B=this._oView.getBindingContext&&this._oView.getBindingContext(),i=false;if(B){var I=M.isStickySessionSupported(B.getModel().getMetaModel());if(I){i=this._oView.getModel("ui").getProperty("/isEditable");}}if(i){this._oView.getModel("internal").setProperty("/IBN_OpenInNewTable",true);}var g=function(){sap.ui.require(["sap/m/MessageBox"],function(h){var r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");h.show(r.getText("C_COMMON_HELPER_NAVIGATION_ERROR_MESSAGE"),{title:r.getText("C_COMMON_NAVIGATION_ERROR_TITLE")});});};this._oNavigationService.navigate(s,a,o.toJSONString(),null,g,null,i?"explace":"inplace",i);}else{throw new Error("Semantic Object/action is not provided");}},_removeTechnicalParameters:function(s){s.removeSelectOption("@odata.context");s.removeSelectOption("@odata.metadataEtag");s.removeSelectOption("SAP__Messages");},getEntitySet:function(){return this._oView.getViewData().entitySet;},_removeSensitiveData:function(a,m){var p=Object.keys(a);if(p.length){delete a["@odata.context"];delete a["@odata.metadataEtag"];delete a["SAP__Messages"];for(var j=0;j<p.length;j++){var P=p[j],b=this._oMetaModel.getObject(m+"/"+P+"@");if(b){if(b["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||b["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||b["@com.sap.vocabularies.Analytics.v1.Measure"]){delete a[P];}else if(b["@com.sap.vocabularies.Common.v1.FieldControl"]){var f=b["@com.sap.vocabularies.Common.v1.FieldControl"];if(f["$EnumMember"]&&f["$EnumMember"].split("/")[1]==="Inapplicable"){delete a[P];}else if(f["$Path"]&&this._isFieldControlPathInapplicable(f["$Path"],a)){delete a[P];}}}}}return a;},_isFieldControlPathInapplicable:function(f,a){var i=false,p=f.split("/");if(p.length>1){i=a[p[0]]&&a[p[0]].hasOwnProperty(p[1])&&a[p[0]][p[1]]===0;}else{i=a[f]===0;}return i;},_applySemanticObjectMappings:function(s,m){var o=typeof m==="string"?JSON.parse(m):m;for(var i=0;i<o.length;i++){var l=(o[i]["LocalProperty"]&&o[i]["LocalProperty"]["$PropertyPath"])||(o[i]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&o[i]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"]);var a=o[i]["SemanticObjectProperty"]||o[i]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];if(s.getSelectOption(l)){var b=s.getSelectOption(l);s.removeSelectOption(l);s.massAddSelectOption(a,b);}}return s;},override:{onInit:function(){this._oAppComponent=this.base.getAppComponent();this._oMetaModel=this._oAppComponent.getModel().getMetaModel();this._oNavigationService=this._oAppComponent.getNavigationService();this._oView=this.base.getView();}}});});
sap.ui.predefine('sap/fe/core/controllerextensions/InternalRouting',["sap/ui/core/mvc/ControllerExtension","sap/fe/core/controllerextensions/ControllerExtensionMetadata","sap/ui/core/mvc/OverrideExecution","sap/ui/core/Component","sap/fe/core/CommonUtils","sap/fe/core/BusyLocker","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/Log","sap/fe/core/actions/messageHandling","sap/m/MessageBox","sap/fe/core/helpers/EditState"],function(C,a,O,b,c,B,S,F,d,L,m,M,E){"use strict";
function e(s,h){var k=s.substring(s.indexOf("(")+1,s.length-1).split(","),i;if(h.length!=k.length){return null;}if(h.length===1){var K=k[0];if(K.indexOf("'")===0&&K.lastIndexOf("'")===K.length-1){K=decodeURIComponent(K.substring(1,K.length-1));}i=[new F(h[0].$PropertyPath,d.EQ,K)];}else{var j={};k.forEach(function(n){var p=n.split("="),K=p[1];if(K.indexOf("'")===0&&K.lastIndexOf("'")===K.length-1){K=decodeURIComponent(K.substring(1,K.length-1));}j[p[0]]=K;});var l=false;i=h.map(function(n){var p=n.$PropertyPath,v=j[p];if(v!==undefined){return new F(p,d.EQ,v);}else{l=true;return"XX";}});if(l){return null;}}var D=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});i.push(D);var o=new F(i,true);return o;}
function g(s,o,h){var i=o.getMetaModel(),j=i.getMetaContext(s).getPath();if(!h||h.length===0){return Promise.resolve(null);}var k=e(s,h);if(k===null){return Promise.resolve(null);}var l=o.bindList("/"+j,undefined,undefined,k,{"$$groupId":"$auto.Heroes"});return l.requestContexts(0,2).then(function(n){if(n&&n.length){return n[0].getPath();}else{return null;}});}
function f(p,o){var h=/^[\/]?(\w+)\([^\/]+\)$/.exec(p);if(!h){return false;}var s="/"+h[1];var D=o.getObject(s+"@com.sap.vocabularies.Common.v1.DraftRoot");var i=o.getObject(s+"@com.sap.vocabularies.Common.v1.DraftNode");return D||i?true:false;}
return C.extend("sap.fe.core.controllerextensions.InternalRouting",{metadata:{methods:{"navigateToTarget":{"public":true,"final":false},"byId":{"public":false},"getView":{"public":false},"onRouteMatched":{"public":true,"final":false,overrideExecution:O.After},"onRouteMatchedFinished":{"public":true,"final":false,overrideExecution:O.After},"onBeforeBinding":{"public":true,"final":false,overrideExecution:O.After},"onAfterBinding":{"public":true,"final":false,overrideExecution:O.After},"navigateToContext":{"public":true,"final":true},"navigateBackFromContext":{"public":true,"final":true},"navigateForwardToContext":{"public":true,"final":true},"navigateBackFromTransientState":{"public":true,"final":true},"navigateToMessagePage":{"public":true,"final":true},"handleFCLFullScreen":{"public":true,"final":false,overrideExecution:sap.ui.core.mvc.OverrideExecution.Before},"handleFCLExitFullScreen":{"public":true,"final":false,overrideExecution:sap.ui.core.mvc.OverrideExecution.Before},"handleFCLClose":{"public":true,"final":false,overrideExecution:sap.ui.core.mvc.OverrideExecution.Before},"isCurrentStateImpactedBy":{"public":true,"final":true}}},onRouteMatched:function(){},onRouteMatchedFinished:function(){},onBeforeBinding:function(o,p){},onAfterBinding:function(o,p){this._oAppComponent.getRootViewController().onContextBoundToView(o);},navigateToTarget:function(o,n){var N=this._oPageComponent&&this._oPageComponent.getNavigationConfiguration&&this._oPageComponent.getNavigationConfiguration(n);if(N){var D=N.detail;var r=D.route;var p=D.parameters;this._oRoutingService.navigateTo(o,r,p,true);}else{this._oRoutingService.navigateTo(o,null,null,true);}this._oView.getViewData();},navigateToContext:function(o,p){var t=this;var h={};p=p||{};if(o.isA("sap.ui.model.odata.v4.ODataListBinding")){if(p.asyncContext){this._oRouterProxy.activateRouteMatchSynchronization();p.asyncContext.then(function(o){t.navigateToContext(o,{checkNoHashChange:p.checkNoHashChange,editable:p.editable,bPersistOPScroll:p.bPersistOPScroll,updateFCLLevel:p.updateFCLLevel});}).catch(function(i){L.error("Error with the async context",i);});}else if(!p.bDeferredContext){throw"navigation to a list binding is not yet supported";}}else if(o.getBinding()&&o.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){if(c.hasTransientContext(o.getBinding())){return this.oView.getModel("sap.fe.i18n").getResourceBundle().then(function(r){var T=c.getTranslatedText("C_ROUTING_NAVIGATION_DISABLED_TITLE",r,null,o.getBinding().getPath().substr(1));L.warning(T);M.show(T,{icon:M.Icon.WARNING,title:T,actions:[M.Action.CLOSE],details:r.getText("C_TRANSACTION_HELPER_TRANSIENT_CONTEXT_DESCRIPTION"),contentWidth:"100px"});});}}if(p.callExtension){h.sourceBindingContext=o.getObject();if(p.oEvent){h.oEvent=p.oEvent;}if(this.base.getView().getController().routing.onBeforeNavigation(h)){return;}}p.FCLLevel=this._getFCLLevel();return this._oRoutingService.navigateToContext(o,p,this._oView.getViewData(),this._oTargetInformation);},navigateBackFromContext:function(o,p){p=p||{};p.updateFCLLevel=-1;return this.navigateToContext(o,p);},navigateForwardToContext:function(o,p){if(this._oView.getBindingContext("internal").getProperty("messageFooterContainsErrors")===true){return Promise.resolve();}p=p||{};p.updateFCLLevel=1;return this.navigateToContext(o,p,true);},navigateBackFromTransientState:function(){var h=this._oRouterProxy.getHash();if(h.indexOf("(...)")!==-1){this._oRouterProxy.navBack();}},navigateToMessagePage:function(s,p){p=p||{};if(this._oRouterProxy.getHash().indexOf("i-action=create")>-1){this._oRouterProxy.navToHash(this._oRoutingService.getDefaultCreateHash());}p.FCLLevel=this._getFCLLevel();this._oAppComponent.getRootViewController().displayMessagePage(s,p);},handleFCLFullScreen:function(o){var h=o.getSource().getBindingContext(),n=o.getSource().getModel("fclhelper").getProperty("/actionButtonsInfo/fullScreen");this.navigateToContext(h,{sLayout:n});},handleFCLExitFullScreen:function(o){var h=o.getSource().getBindingContext(),n=o.getSource().getModel("fclhelper").getProperty("/actionButtonsInfo/exitFullScreen");this.navigateToContext(h,{sLayout:n});},handleFCLClose:function(o){var h=o.getSource().getBindingContext();this.navigateBackFromContext(h,{noPreservationCache:true});},isCurrentStateImpactedBy:function(o){return this._oRoutingService.isCurrentStateImpactedBy(o);},_onRouteMatched:function(o){var t=o.getParameter("routeInformation")&&o.getParameter("routeInformation").targets;if(!t||t.indexOf(this._oTargetInformation.targetName)===-1){return;}var T;if(this._oPageComponent&&this._oPageComponent.getBindingContextPattern){T=this._oPageComponent.getBindingContextPattern();}T=T||this._oTargetInformation.contextPattern;if(T===null||T===undefined){T=o.getParameter("routePattern");}T=T.replace(":?query:","");var A=o.getParameters().arguments,D=false,n=o.getParameter("navigationInfo");for(var k in A){var v=(A[k]&&typeof A[k]==="string"&&decodeURIComponent(A[k]))||A[k];if(v==="..."&&T.indexOf("{"+k+"}")>=0){D=true;n.bTargetEditable=true;}T=T.replace("{"+k+"}",v);}if(T&&T[0]!=="/"){T="/"+T;}this.onRouteMatched();var h;if(D){h=this._bindDeferred(T,n);}else{h=this._bindPage(T,n);}var i=this;h.finally(function(){i.onRouteMatchedFinished();});this._oAppComponent.getRootViewController().updateUIStateForView(this._oView,this._getFCLLevel());},_bindDeferred:function(t,n){this.onBeforeBinding(null,{editable:n.bTargetEditable});if(n.bDeferredContext||!n.oAsyncContext){if(this._oPageComponent&&this._oPageComponent.createDeferredContext){this._oPageComponent.createDeferredContext(t);}}if(this._getBindingContext()&&this._getBindingContext().hasPendingChanges()){this._getBindingContext().getBinding().resetChanges();}this._setBindingContext(null);this.onAfterBinding(null);return Promise.resolve();},_bindPage:function(t,n){var h=this;if(t===""){return Promise.resolve(this._bindPageToContext(null,n));}else{return this._resolveSemanticPath(t).then(function(T){h._bindPageToPath(T,n);}).catch(function(o){var r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");h.navigateToMessagePage(r.getText("SAPFE_DATA_RECEIVED_ERROR"),{title:r.getText("C_COMMON_SAPFE_ERROR"),description:o.message});});}},_resolveSemanticPath:function(p){var o=this._oView.getModel(),h=o.getMetaModel(),l=this._oRoutingService.getLastSemanticMapping(),s=this._oRouter.getHashChanger().getHash().split("?")[0],t=this;if(s&&s.lastIndexOf("/")===s.length-1){s=s.substring(0,s.length-1);}var r=s&&s.substr(0,s.indexOf("("));if(r.indexOf("/")===0){r=r.substring(1);}var A=f(s,h),i=A&&S.getSemanticKeys(h,r);if(!i){return Promise.resolve(p);}else if(l&&l.semanticPath===p){return Promise.resolve(l.technicalPath);}else{return g(s,o,i).then(function(T){if(T&&T!==p){t._oRoutingService.setLastSemanticMapping({technicalPath:T,semanticPath:p});return T;}else{return p;}});}},_bindPageToPath:function(t,n){var o=this._getBindingContext(),s=o&&o.getPath(),u=n.useContext;if(s!==t||(u&&u.getPath()===t)){var T;if(u&&u.getPath()===t){T=u;}else{T=this._createBindingContext(t);}this._bindPageToContext(T,n);}else if(!n.bReasonIsIappState&&E.isEditStateDirty()){this._refreshBindingContext(o);}},_bindPageToContext:function(o,n){var t=this;if(!o){this.onBeforeBinding(null);this.onAfterBinding(null);}else{var p=o.getBinding();if(!o.getBinding()||o.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){o=this._createBindingContext(o.getPath());if(E.isEditStateDirty()){setTimeout(function(){t._refreshBindingContext(o);},0);}}this.onBeforeBinding(o,{editable:n.bTargetEditable,listBinding:p,bPersistOPScroll:n.bPersistOPScroll});this._setBindingContext(o);this.onAfterBinding(o);}},_createBindingContext:function(p){var s=this._oPageComponent&&this._oPageComponent.getEntitySet&&this._oPageComponent.getEntitySet(),o=this._oView.getModel(),h=o.getMetaModel(),t=this,P={$$patchWithoutSideEffects:true,$$groupId:"$auto.Heroes",$$updateGroupId:"$auto"};if(s){var i=h.getProperty("/"+s+"/@com.sap.vocabularies.Common.v1.Messages/$Path");if(i){P.$select=i;}}var D=h.getObject("/"+s+"@com.sap.vocabularies.Common.v1.DraftRoot");var j=h.getObject("/"+s+"@com.sap.vocabularies.Common.v1.DraftNode");if(D||j){if(P.$select===undefined){P.$select="HasActiveEntity,HasDraftEntity,IsActiveEntity";}else{P.$select+=",HasActiveEntity,HasDraftEntity,IsActiveEntity";}}var H=o.bindContext(p,undefined,P);H.attachEventOnce("dataRequested",function(){B.lock(t._oView);});H.attachEventOnce("dataReceived",function(k){var l=k&&k.getParameter("error");B.unlock(t._oView);if(l){sap.ui.getCore().getLibraryResourceBundle("sap.fe.core",true).then(function(r){m.removeUnboundTransitionMessages();t.navigateToMessagePage(r.getText("SAPFE_DATA_RECEIVED_ERROR"),{title:r.getText("SAPFE_ERROR"),description:l});}).catch(function(n){L.error("Error while getting the core resource bundle",n);});}});return H.getBoundContext();},_refreshBindingContext:function(o){var s=this._oPageComponent&&this._oPageComponent.getEntitySet&&this._oPageComponent.getEntitySet(),h=this._oView.getModel().getMetaModel(),j,n=[],p=[],k=[];function l(q){var D,P=q.getPath();if(q.isA("sap.ui.model.odata.v4.ODataContextBinding")){D=q.getDependentBindings();if(D){for(var i=0;i<D.length;i++){l(D[i]);}}else if(n.indexOf(P)===-1){n.push(P);}}else if(q.isA("sap.ui.model.odata.v4.ODataListBinding")){if(n.indexOf(P)===-1){n.push(P);}}else if(q.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(p.indexOf(P)===-1){p.push(P);}}}if(s){j=h.getProperty("/"+s+"/@com.sap.vocabularies.Common.v1.Messages/$Path");}l(o.getBinding());var i;for(i=0;i<n.length;i++){k.push({$NavigationPropertyPath:n[i]});}for(i=0;i<p.length;i++){k.push({$PropertyPath:p[i]});}if(j){k.push({$PropertyPath:j});}o.requestSideEffects(k);},_getBindingContext:function(){if(this._oPageComponent){return this._oPageComponent.getBindingContext();}else{return this._oView.getBindingContext();}},_setBindingContext:function(o){if(this._oPageComponent){this._oPageComponent.setBindingContext(o);}else{this._oView.setBindingContext(o);}},_getFCLLevel:function(){return this._oTargetInformation.FCLLevel;},override:{onInit:function(){var t=this;this._oView=this.base.getView();this._oAppComponent=c.getAppComponent(this._oView);this._oPageComponent=b.getOwnerComponentFor(this._oView);this._oRouter=this._oAppComponent.getRouter();this._oRouterProxy=this._oAppComponent.getRouterProxy();if(!this._oAppComponent||!this._oPageComponent){throw new Error("Failed to initialize controler extension 'sap.fe.core.controllerextesions.InternalRouting");}if(this._oAppComponent===this._oPageComponent){this._oPageComponent=null;}this._oAppComponent.getService("routingService").then(function(r){t._oRoutingService=r;t._oRoutingService.attachRouteMatched(t._onRouteMatched.bind(t));t._oTargetInformation=r.getTargetInformationFor(t._oPageComponent||t._oView);}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent");});}}},a);});
sap.ui.predefine('sap/fe/core/controllerextensions/PageReady',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/fe/core/controllerextensions/ControllerExtensionMetadata","sap/ui/core/Component","sap/fe/core/CommonUtils","sap/ui/base/EventProvider","sap/base/Log","../helpers/ClassSupport"],function(C,O,a,b,c,E,L,d){"use strict";var _,f,g,h,j,k,l,m;var P=d.Private;var n=d.Extensible;var F=d.Final;var q=d.Public;var r=d.Override;var U=d.UI5Class;
function s(i,e){if(!(i instanceof e)){throw new TypeError("Cannot call a class as a function");}}
function t(e,p){for(var i=0;i<p.length;i++){var o=p[i];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o);}}
function u(e,p,i){if(p)t(e.prototype,p);if(i)t(e,i);return e;}
function v(e,i){if(typeof i!=="function"&&i!==null){throw new TypeError("Super expression must either be null or a function");}e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:true,configurable:true}});if(i)w(e,i);}
function w(o,p){w=Object.setPrototypeOf||function w(o,p){o.__proto__=p;return o;};return w(o,p);}
function x(e){return function(){var S=B(e),i;if(A()){var N=B(this).constructor;i=Reflect.construct(S,arguments,N);}else{i=S.apply(this,arguments);}return y(this,i);};}
function y(e,i){if(i&&(typeof i==="object"||typeof i==="function")){return i;}return z(e);}
function z(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return e;}
function A(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}
function B(o){B=Object.setPrototypeOf?Object.getPrototypeOf:function B(o){return o.__proto__||Object.getPrototypeOf(o);};return B(o);}
function D(e,p,i,o,H){var I={};Object.keys(o).forEach(function(J){I[J]=o[J];});I.enumerable=!!I.enumerable;I.configurable=!!I.configurable;if('value'in I||I.initializer){I.writable=true;}I=i.slice().reverse().reduce(function(I,J){return J(e,p,I)||I;},I);if(H&&I.initializer!==void 0){I.value=I.initializer?I.initializer.call(H):void 0;I.initializer=undefined;}if(I.initializer===void 0){Object.defineProperty(e,p,I);I=null;}return I;}
var G=(_=U("sap.fe.core.controllerextensions.PageReady",a),f=r(),g=r("_routing"),h=r("_routing"),j=r("_routing"),k=n(O.Instead),_(l=(m=function(e){v(G,e);var i=x(G);function G(){s(this,G);return i.apply(this,arguments);}u(G,[{key:"onInit",value:function p(){var o=this;this._oEventProvider=new E();this._oView=this.base.getView();this._oAppComponent=c.getAppComponent(this._oView);this._oPageComponent=b.getOwnerComponentFor(this._oView);if(this._oPageComponent&&this._oPageComponent.attachContainerDefined){this._oPageComponent.attachContainerDefined(function(H){return o.registerContainer(H.getParameter("container"));});}else{this.registerContainer(this._oView);}}},{key:"onRouteMatched",value:function o(){this._bIsPageReady=false;}},{key:"onRouteMatchedFinished",value:function o(){this.checkPageReadyDebounced();}},{key:"onAfterBinding",value:function Q(o){var p=this;if(!this._bAfterBindingAlreadyApplied){this._bAfterBindingAlreadyApplied=true;var H=[];var N=[];var R=0;var I=0;var J=function(V){V.getSource().detachDataRequested(J);R++;p.bDataReceived=false;};var K=function(V){switch(V.getSource().sGroupId){case"$auto.Workers":p._oEventProvider.fireEvent("workersBatchReceived");break;case"$auto.Heroes":p._oEventProvider.fireEvent("heroesBatchReceived");break;default:}V.getSource().detachDataReceived(K);I++;if(I===R&&R!==0){R=0;I=0;p.bDataReceived=true;p.checkPageReadyDebounced();}};var S=function(V){var W=N.filter(function(X){if(V.getSource().sId===X.getFilter()){return true;}return false;});W.forEach(function(X){var Y=X.getRowBinding();var Z=function(){Y.attachDataRequested(J);Y.attachDataReceived(K);H.push(Y);};if(Y){Z();}else{setTimeout(function(){Y=X.getRowBinding();if(Y){Z();}else{L.error("Cannot attach events to unbound table",null);}},0);}});};if(this.isContextExpected()&&o===undefined){this.bHasContext=false;return;}else{this.bHasContext=true;}this.attachEventOnce("pageReady",null,function(){H.forEach(function(V){V.detachEvent("dataRequested",J);V.detachEvent("dataReceived",K);V.detachEvent("search",S);});p._bAfterBindingAlreadyApplied=false;H=[];},null);if(o){var M=o.getBinding();M.attachDataRequested(J);M.attachDataReceived(K);H.push(M);}var T=[];this._oView.findAggregatedObjects(true,function(V){var W=V.getObjectBinding();if(W){W.attachDataRequested(J);W.attachDataReceived(K);H.push(W);}else{var X=Object.keys(V.mBindingInfos);if(X.length>0){X.forEach(function(Y){var Z=V.mBindingInfos[Y].binding;if(Z&&Z.isA("sap.ui.model.odata.v4.ODataListBinding")){Z.attachDataRequested(J);Z.attachDataReceived(K);H.push(Z);}});}}if(V.isA("sap.ui.mdc.Table")){p.bTablesLoaded=false;T.push(V.initialized().then(function(){var Y=V.getRowBinding();if(Y){Y.attachDataRequested(J);Y.attachDataReceived(K);H.push(Y);}else{N.push(V);}}).catch(function(Y){L.error("Cannot find a bound table",Y);}));}else if(V.isA("sap.ui.mdc.FilterBar")){V.attachEvent("search",S);H.push(V);}});if(T.length>0){Promise.all(T).then(function(){p.bTablesLoaded=true;p.checkPageReadyDebounced();}).catch(function(V){L.info("There was an error with one or multiple table",V);p.bTablesLoaded=true;p.checkPageReadyDebounced();});}}}},{key:"isPageReady",value:function o(){return this._bIsPageReady;}},{key:"attachEventOnce",value:function J(o,p,H,I){return this._oEventProvider.attachEventOnce(o,p,H,I);}},{key:"attachEvent",value:function J(o,p,H,I){return this._oEventProvider.attachEvent(o,p,H,I);}},{key:"detachEvent",value:function H(o,p){return this._oEventProvider.detachEvent(o,p);}},{key:"registerContainer",value:function H(o){var p=this;this._oContainer=o;this._oContainer.addEventDelegate({onBeforeShow:function(){p.bShown=false;p._bIsPageReady=false;},onBeforeHide:function(){p.bShown=false;p._bIsPageReady=false;},onAfterShow:function(){p.bShown=true;p._checkPageReady(true);}});}},{key:"isContextExpected",value:function o(){return false;}},{key:"checkPageReadyDebounced",value:function p(){var o=this;if(this.pageReadyTimer){clearTimeout(this.pageReadyTimer);}this.pageReadyTimer=setTimeout(function(){o._checkPageReady();},200);}},{key:"_checkPageReady",value:function J(){var o=this;var p=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var H=function(){if(!sap.ui.getCore().getUIDirty()){sap.ui.getCore().detachEvent("UIUpdated",H);o._bWaitingForRefresh=false;setTimeout(function(){o._checkPageReady();},20);}};var I=function(){if(sap.ui.getCore().getUIDirty()){setTimeout(I,500);}else if(o._bWaitingForRefresh){o._bWaitingForRefresh=false;sap.ui.getCore().detachEvent("UIUpdated",H);o._checkPageReady();}};if(this.bShown&&this.bDataReceived!==false&&this.bTablesLoaded!==false&&(!this.isContextExpected()||this.bHasContext)){if(this.bDataReceived===true&&!p&&!this._bWaitingForRefresh&&sap.ui.getCore().getUIDirty()){this.bDataReceived=undefined;this._bWaitingForRefresh=true;sap.ui.getCore().attachEvent("UIUpdated",H);setTimeout(I,500);}else if(!this._bWaitingForRefresh&&sap.ui.getCore().getUIDirty()){this._bWaitingForRefresh=true;sap.ui.getCore().attachEvent("UIUpdated",H);setTimeout(I,500);}else if(!this._bWaitingForRefresh){this._bIsPageReady=true;this._oEventProvider.fireEvent("pageReady");}}}}]);return G;}(C),(D(m.prototype,"onInit",[f],Object.getOwnPropertyDescriptor(m.prototype,"onInit"),m.prototype),D(m.prototype,"onRouteMatched",[g],Object.getOwnPropertyDescriptor(m.prototype,"onRouteMatched"),m.prototype),D(m.prototype,"onRouteMatchedFinished",[h],Object.getOwnPropertyDescriptor(m.prototype,"onRouteMatchedFinished"),m.prototype),D(m.prototype,"onAfterBinding",[j],Object.getOwnPropertyDescriptor(m.prototype,"onAfterBinding"),m.prototype),D(m.prototype,"isPageReady",[q,F],Object.getOwnPropertyDescriptor(m.prototype,"isPageReady"),m.prototype),D(m.prototype,"attachEventOnce",[q,F],Object.getOwnPropertyDescriptor(m.prototype,"attachEventOnce"),m.prototype),D(m.prototype,"attachEvent",[q,F],Object.getOwnPropertyDescriptor(m.prototype,"attachEvent"),m.prototype),D(m.prototype,"detachEvent",[q,F],Object.getOwnPropertyDescriptor(m.prototype,"detachEvent"),m.prototype),D(m.prototype,"isContextExpected",[P,k],Object.getOwnPropertyDescriptor(m.prototype,"isContextExpected"),m.prototype)),m))||l);return G;},false);
sap.ui.predefine('sap/fe/core/controllerextensions/Routing',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution"],function(C,O){"use strict";return C.extend("sap.fe.core.controllerextensions.Routing",{metadata:{methods:{"onBeforeNavigation":{"public":true,"final":false,overrideExecution:O.After}}},onBeforeNavigation:function(c){}});});
sap.ui.predefine('sap/fe/core/controllerextensions/RoutingListener',["sap/fe/core/controllerextensions/InternalRouting"],function(I){"use strict";return I;});
sap.ui.predefine('sap/fe/core/controllerextensions/SideEffects',["sap/ui/core/mvc/ControllerExtension"],function(C){"use strict";return C.extend("sap.fe.core.controllerextensions.SideEffects",{metadata:{methods:{"addControlSideEffects":{"public":true,"final":true},"getEntitySideEffects":{"public":true,"final":true},"getControlSideEffects":{"public":false,"final":true},"getEmptyPropertySideEffects":{"public":false,"final":true},"removeControlSideEffects":{"public":true,"final":true},"setControlSideEffects":{"public":false,"final":true}}},destroy:function(){delete this._mAppSideEffects;C.prototype.destroy.apply(this);},getEmptyPropertySideEffects:function(){return{TargetEntities:[],TargetProperties:[]};},getEntitySideEffects:function(e){var E={},t=this;Object.keys(this._mAppSideEffects).forEach(function(c){var m=t._mAppSideEffects[c],a=m[e];if(a){E=t._aggregateEntitySideEffects(a,E);}});return E;},getControlSideEffects:function(c){return this._mAppSideEffects[c]||{};},setControlSideEffects:function(c,m){this._mAppSideEffects[c]=m;},addControlSideEffects:function(a,c){var v=this._isValidControl(c),s=a.entityType,S=a.property;if(v&&s&&a.property){var b=c.getId(),m=this.getControlSideEffects(b),e=m[s]||{};e[S]=this._aggregatePropertySideEffects(a,e[S]);m[s]=e;this.setControlSideEffects(b,m);}},removeControlSideEffects:function(c){if(this._isValidControl(c)){delete this._mAppSideEffects[c.getId()];}},_aggregateEntitySideEffects:function(n,t){var a=this,A={},T=t||{};Object.keys(n).forEach(function(e){A[e]=a._aggregatePropertySideEffects(n[e],T[e]);});return A;},_aggregatePropertySideEffects:function(n,t){var a=this.getEmptyPropertySideEffects(),T=t||this.getEmptyPropertySideEffects();Object.keys(a).forEach(function(s){var A=n[s],b=T[s]||[];if(A){a[s]=b.concat(A.filter(function(v){if(v.$NavigationPropertyPath){return b.map(function(o){return o.$NavigationPropertyPath;}).indexOf(v.$NavigationPropertyPath);}else if(typeof v==="string"){return b.indexOf(v)<0;}else{throw new Error("Unsupported SideEffect type for "+s);}}));}});return a;},_isValidControl:function(c){return c&&c.isA&&c.isA("sap.ui.base.ManagedObject");},override:{onInit:function(){this._mAppSideEffects={};}}});});
sap.ui.predefine('sap/fe/core/controllerextensions/ViewState',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/base/Log","sap/base/util/merge","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/ui/mdc/p13n/StateUtil","sap/fe/navigation/library"],function(C,O,L,m,a,S,N){"use strict";var A="#additionalStates",b=N.NavType;var _={"sap.ui.fl.variants.VariantManagement":{retrieve:function(v){return{"variantId":v.getModified()?v.getId():v.getCurrentVariantKey()};},apply:function(v,c){if(c&&c.variantId!==undefined&&c.variantId!==v.getCurrentVariantKey()){return a.activateVariant({element:v,variantReference:c.variantId});}}},"sap.m.IconTabBar":{retrieve:function(t){return{selectedKey:t.getSelectedKey()};},apply:function(t,c){if(c&&c.selectedKey){var s=t.getItems().find(function(i){return i.getKey()===c.selectedKey;});if(s){t.setSelectedItem(s);}}}},"sap.ui.mdc.FilterBar":{retrieve:function(f){return S.retrieveExternalState(f).then(function(F){var p=f.getPropertyInfoSet(),c=F.filter||{};p.filter(function(P){return(c[P.path]&&(P.removeFromAppState||c[P.path].length===0));}).forEach(function(P){delete c[P.path];});return F;});},apply:function(f,c){if(c){return S.applyExternalState(f,c);}}},"sap.ui.mdc.Table":{retrieve:function(t){return S.retrieveExternalState(t);},apply:function(t,c){if(c){return S.applyExternalState(t,c);}}},"sap.uxap.ObjectPageLayout":{retrieve:function(o){return{selectedSection:o.getSelectedSection()};},apply:function(o,c){c&&o.setSelectedSection(c.selectedSection);}},"sap.m.SegmentedButton":{retrieve:function(s){return{selectedKey:s.getSelectedKey()};},apply:function(s,c){c&&s.setSelectedKey(c.selectedKey);}},"sap.m.Select":{retrieve:function(s){return{selectedKey:s.getSelectedKey()};},apply:function(s,c){c&&s.setSelectedKey(c.selectedKey);}},"sap.f.DynamicPage":{retrieve:function(d){return{headerExpanded:d.getHeaderExpanded()};},apply:function(d,c){c&&d.setHeaderExpanded(c.headerExpanded);}},"sap.ui.core.mvc.View":{retrieve:function(v){var c=v.getController();if(c&&c.viewState){return c.viewState.retrieveViewState();}return{};},apply:function(v,c,n){var o=v.getController();if(o&&o.viewState){return o.viewState.applyViewState(c,n);}}},"sap.ui.core.ComponentContainer":{retrieve:function(c){var o=c.getComponentInstance();if(o){return this.retrieveControlState(o.getRootControl());}return{};},apply:function(c,o,n){var d=c.getComponentInstance();if(d){return this.applyControlState(d.getRootControl(),o,n);}}}};
var V=C.extend("sap.fe.core.controllerextensions.ViewState",{
metadata:{methods:{collectResults:{"public":false,"final":true},adaptControlStateHandler:{"public":false,"final":false,overrideExecution:O.After},getControlStateHandler:{"public":false,"final":true},adaptStateControls:{"public":false,"final":false,overrideExecution:O.After},retrieveAdditionalStates:{"public":false,"final":false,overrideExecution:O.After},retrieveViewState:{"public":true,"final":true},retrieveControlState:{"public":false,"final":true},applyInitialStateOnly:{"public":false,"final":false,overrideExecution:O.Instead},applyViewState:{"public":true,"final":true},applyControlState:{"public":false,"final":true},applyAdditionalStates:{"public":false,"final":false,overrideExecution:O.After},applyNavigationParameters:{"public":false,"final":false,overrideExecution:O.After},onBeforeStateApplied:{"public":false,"final":false,overrideExecution:O.After},onAfterStateApplied:{"public":false,"final":false,overrideExecution:O.After}}},
constructor:function(){C.apply(this);var t=this;t._iRetrievingStateCounter=0;this._pInitialStateApplied=new Promise(function(r){t._pInitialStateAppliedResolve=r;});},
destroy:function(){delete this._pInitialStateApplied;delete this._pInitialStateAppliedResolve;delete this._iRetrievingStateCounter;C.prototype.destroy.apply(this);},
collectResults:function(c){var r=[],d=Array.prototype.slice.call(arguments,1);d.push(r);c.apply(this,d);return Promise.all(r);},
adaptControlStateHandler:function(c,d){},
getControlStateHandler:function(c){var i=[],d=[];if(c){for(var t in _){if(c.isA(t)){i.push(Object.assign({},_[t]));break;}}}this.adaptControlStateHandler(c,d);return i.concat(d);},
adaptStateControls:function(c){},
getStateKey:function(c){return this.getView().getLocalId(c.getId())||c.getId();},
retrieveViewState:function(){var t=this;++t._iRetrievingStateCounter;return t._pInitialStateApplied.then(function(){return t.collectResults(t.adaptStateControls);}).then(function(c){return Promise.all(c.filter(function(o){return o&&o.isA&&o.isA("sap.ui.base.ManagedObject");}).map(function(o){return t.retrieveControlState(o).then(function(r){return{key:t.getStateKey(o),value:r};});}));}).then(function(r){return r.reduce(function(s,c){var o={};o[c.key]=c.value;return m(s,o);},{});}).then(function(v){return Promise.resolve(t._retrieveAdditionalStates()).then(function(c){if(c&&Object.keys(c).length){v[A]=c;}return v;});}).finally(function(){--t._iRetrievingStateCounter;}).then(function(v){return t._iRetrievingStateCounter===0?v:undefined;});},
retrieveAdditionalStates:function(c){},
_retrieveAdditionalStates:function(){var c={};this.retrieveAdditionalStates(c);return c;},
retrieveControlState:function(c){var d=this.getControlStateHandler(c);return Promise.all(d.map(function(e){if(typeof e.retrieve!=="function"){throw new Error("controlStateHandler.retrieve is not a function for control: "+c.getMetadata().getName());}return e.retrieve.call(this,c);})).then(function(s){return s.reduce(function(f,o){return m(f,o);},{});});},
applyInitialStateOnly:function(){return false;},
applyViewState:function(v,n){var t=this;if(this.applyInitialStateOnly()&&this._getInitialStateApplied()){return Promise.resolve();}return this.collectResults(this.onBeforeStateApplied).then(function(){return t.collectResults(t.adaptStateControls);}).then(function(c){var p=Promise.resolve();c.filter(function(o){return o&&o.isA&&o.isA("sap.ui.base.ManagedObject");}).forEach(function(o){var k=t.getStateKey(o);p=p.then(t.applyControlState.bind(t,o,v?v[k]:undefined,n));});return p;}).then(function(){if(n.navigationType===b.iAppState){return t.collectResults(t.applyAdditionalStates,v?v[A]:undefined);}else{return t.collectResults(t.applyNavigationParameters,n);}}).finally(function(){return t.collectResults(t.onAfterStateApplied).then(t._setInitialStateApplied.bind(t));});},
_setInitialStateApplied:function(){if(this._pInitialStateAppliedResolve){var p=this._pInitialStateAppliedResolve;delete this._pInitialStateAppliedResolve;p();}},
_getInitialStateApplied:function(){return!this._pInitialStateAppliedResolve;},
onBeforeStateApplied:function(p){},
onAfterStateApplied:function(p){},
applyAdditionalStates:function(v,p){},
applyNavigationParameters:function(n,p){},
applyControlState:function(c,o,n){var d=this.getControlStateHandler(c),p=Promise.resolve(),t=this;d.forEach(function(e){if(typeof e.apply!=="function"){throw new Error("controlStateHandler.apply is not a function for control: "+c.getMetadata().getName());}p=p.then(e.apply.bind(t,c,o,n));});return p;}
});
return V;});
sap.ui.predefine('sap/fe/core/controls/CommandExecution',["sap/ui/core/CommandExecution"],function(C){"use strict";return C.extend("sap.fe.core.controls.CommandExecution",{setParent:function(p){var e=["escape"],c;C.prototype.setParent.apply(this,arguments);c=p.data("sap.ui.core.Shortcut");if(Array.isArray(c)&&c.length>0){var o=p.data("sap.ui.core.Shortcut")[c.length-1],s=o.shortcutSpec;if(s&&e.indexOf(s.key)>-1){for(var k in s){if(s[k]&&k!=="key"){return this;}}p.addDelegate({"onkeydown":function(E){if(e.indexOf(E.key.toLowerCase())>-1){var a=E.target?E.target.tagName.toLowerCase():undefined;if(a==="input"){E.setMarked();}}}},true,undefined,true);}return this;}}});});
sap.ui.predefine('sap/fe/core/controls/FieldWrapper',["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver"],function(C,M){"use strict";return C.extend("sap.fe.core.controls.FieldWrapper",{metadata:{interfaces:["sap.ui.core.IFormContent"],properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:null},formDoNotAdjustWidth:{type:"boolean",defaultValue:false},editMode:{type:"string",defaultValue:"Display"},emptyIndicatorTrigger:{type:"string",defaultValue:""},required:{type:"boolean",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"contentDisplay",aggregations:{contentDisplay:{type:"sap.ui.core.Control",multiple:false},contentEdit:{type:"sap.ui.core.Control",multiple:true}}},enhanceAccessibilityState:function(e,a){var p=this.getParent();if(p&&p.enhanceAccessibilityState){p.enhanceAccessibilityState(this,a);}return a;},_setAriaLabelledBy:function(c){if(c&&c.addAriaLabelledBy){var a=this.getAriaLabelledBy();for(var i=0;i<a.length;i++){var I=a[i];var A=c.getAriaLabelledBy()||[];if(A.indexOf(I)===-1){c.addAriaLabelledBy(I);}}}},onBeforeRendering:function(){this._setAriaLabelledBy(this.getContentDisplay());var c=this.getContentEdit();for(var i=0;i<c.length;i++){this._setAriaLabelledBy(c[i]);}},renderer:function(r,c){r.write("<div");r.writeControlData(c);if(c.getEditMode()==="Display"){r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("display","inline-block");r.writeStyles();r.write(">");var o=c.getContentDisplay();var h=["sap.m.ObjectStatus","sap.m.RatingIndicator","sap.m.ProgressIndicator"];var b=h.every(function(B){return!o.isA(B);});if(b&&o&&!c.getEmptyIndicatorTrigger()){var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");r.openStart("span");r.class("sapUiPseudoInvisibleText");r.openEnd();r.text(R.getText("T_FIELDWRAPPER_NO_VALUE"));r.close("span");r.openStart("span");r.attr("aria-hidden","true");r.attr("emptyIndicator",R.getText("T_FIELDWRAPPER_EMPTY_INDICATOR"));r.class("sapMText");r.class("sapUiSelectable");r.class("sapMTextMaxWidth");r.class("sapUiMdcFieldBaseEmpty");r.openEnd();r.close("span");}r.renderControl(c.getContentDisplay());}else{var a=c.getContentEdit();r.writeClasses();r.addStyle("width",c.getWidth());r.addStyle("display","inline-block");r.writeStyles();r.write(">");for(var i=0;i<a.length;i++){var d=a[i];r.renderControl(d);}}r.write("</div>");}});});
sap.ui.predefine('sap/fe/core/controls/FormElementWrapper',["sap/ui/core/Control","sap/ui/Device"],function(C,D){"use strict";return C.extend("sap.fe.core.controls.FormElementWrapper",{metadata:{interfaces:["sap.ui.core.IFormContent"],properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:null},formDoNotAdjustWidth:{type:"boolean",defaultValue:false}},defaultAggregation:"content",aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.writeClasses();r.addStyle("min-height","1rem");r.addStyle("width",c.getWidth());if(D.browser.msie){r.addStyle("display","block");}else{r.addStyle("display","inline-block");}r.writeStyles();r.write(">");r.renderControl(c.getContent());r.write("</div>");}});});
sap.ui.predefine('sap/fe/core/controls/LinkWrapper',["sap/ui/core/Control","sap/ui/base/ManagedObjectObserver","sap/ui/model/json/JSONModel","sap/ui/model/BindingMode"],function(C,M,J,B){"use strict";return C.extend("sap.fe.core.controls.LinkWrapper",{metadata:{interfaces:["sap.ui.core.IFormContent"],properties:{width:{type:"sap.ui.core.CSSSize",defaultValue:null},formDoNotAdjustWidth:{type:"boolean",defaultValue:false},linksFetched:{type:"boolean",defaultValue:false},hasTargetsAvailable:{type:"boolean",defaultValue:false}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},defaultAggregation:"contentTargets",aggregations:{contentTargets:{type:"sap.ui.core.Control",multiple:false},contentNoTargets:{type:"sap.ui.core.Control",multiple:false}}},enhanceAccessibilityState:function(e,a){var p=this.getParent();if(p&&p.enhanceAccessibilityState){p.enhanceAccessibilityState(this,a);}return a;},_setAriaLabelledBy:function(c){if(c&&c.addAriaLabelledBy){var a=this.getAriaLabelledBy();for(var i=0;i<a.length;i++){var I=a[i];var A=c.getAriaLabelledBy()||[];if(A.indexOf(I)===-1){c.addAriaLabelledBy(I);}}}},onBeforeRendering:function(){this._setAriaLabelledBy(this.getContentTargets());this._setAriaLabelledBy(this.getContentNoTargets());},renderer:{apiVersion:2,render:function(r,c){r.openStart("div",c);r.style("width",c.getWidth());r.style("display","inline-block");r.openEnd();if(c.getHasTargetsAvailable()){r.renderControl(c.getContentTargets());}else{r.renderControl(c.getContentNoTargets());}r.close("div");}}});});
sap.ui.predefine('sap/fe/core/converters/ConverterContext',["sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper"],function(M,a,D){"use strict";var _={};var g=D.getTargetObjectPath;var c=a.convertTypes;var b=M.createManifestWrapper;var d=function(A){return typeof A==="object";};var e=function(i){var j={startingEntitySet:i,targetEntityType:i.entityType,targetEntitySet:i,navigationProperties:[],contextLocation:undefined,targetObject:i};j.contextLocation=j;return j;};
function f(C,m,t,s,j,k,l){var o=b(m,k);var B=g(l);var n=function(i){var O=C.entityTypes.find(function(P){if(i.startsWith(P.fullyQualifiedName)){var Q=i.replace(P.fullyQualifiedName,"");return Q.startsWith("/")||Q.startsWith("@");}return false;});return O;};var p=function(i){if(i){var O=i.fullyQualifiedName;var P=n(O);if(!P){throw new Error("Cannot find Entity Type for "+i.fullyQualifiedName);}return P;}else{return l.targetEntityType;}};var q=function(i){if(d(i)){return o.getControlConfiguration(F(i.fullyQualifiedName,l.targetEntityType));}return o.getControlConfiguration(i);};var r=function(i){if(!i){return i;}if(i[0]==="/"){return i;}return B+"/"+i;};var u=function(){return l.targetEntitySet;};var v=function(){return l;};var w=function(i){if(i===undefined){return l.targetEntitySet;}return C.entitySets.find(function(O){return O.name===i;});};var x=function(i){return C.entitySets.find(function(O){return O.entityType===i;});};var y=function(){return l.targetEntityType;};var z=function(i){if(i){var O;var P=n(i);return P===null||P===void 0?void 0:(O=P.entityProperties)===null||O===void 0?void 0:O.find(function(Q){return Q.name===i.split("/").pop();});}return undefined;};var A=function(O){if(O.indexOf("@")===-1){O="@"+O;}var P=l.targetEntityType.resolvePath(O,true);var Q=l.targetEntitySet;var R=l.targetEntityType;var S=l.navigationProperties.concat();var i=1;var T;var U=[];while(i<P.visitedObjects.length){T=P.visitedObjects[i++];if(T._type==="NavigationProperty"){U.push(T.name);S.push(T);R=T.targetType;if(Q&&Q.navigationPropertyBinding.hasOwnProperty(U.join("/"))){Q=Q.navigationPropertyBinding[T.name];U=[];}}if(T._type==="EntitySet"){Q=T;R=Q.entityType;}}var V={startingEntitySet:l.startingEntitySet,targetEntitySet:Q,targetEntityType:R,targetObject:S[S.length-1],navigationProperties:S,contextLocation:l.contextLocation};return{annotation:P.target,converterContext:f(C,m,t,s,j,k,V)};};var E=function(){return t;};var F=function(i,O){return i.replace(O.fullyQualifiedName,"");};var G=function(i){if(!i){return i;}var O=l.targetEntityType.fullyQualifiedName;if(l.targetEntitySet){var P=i.replace(O,"/");if(P.length>2&&P[0]==="/"&&P[1]==="/"){P=P.substr(1);}return B+P;}else{return"/"+i;}};var H=function(){return o;};var I=function(){return s;};var J=function(){return j;};var K=function(i){var O=e(i);return f(C,m,t,s,j,k,O);};var L=function(i,O){var P=arguments.length>2&&arguments[2]!==undefined?arguments[2]:y();var Q=(P===null||P===void 0?void 0:P.annotations[i])||{};var R=[];if(Q){R=Object.keys(Q).filter(function(S){return Q[S].term===O;}).reduce(function(S,T){S.push(Q[T]);return S;},[]);}return R;};var N=function(){return C.entityContainer;};return{getAnnotationEntityType:p,getManifestControlConfiguration:q,getAbsoluteAnnotationPath:r,getEntitySet:u,getDataModelObjectPath:v,findEntitySet:w,getEntitySetForEntityType:x,getEntityType:y,getEntityTypeAnnotation:A,getTemplateType:E,getRelativeAnnotationPath:F,getEntitySetBasedAnnotationPath:G,getManifestWrapper:H,getShellServices:I,getDiagnostics:J,getConverterContextFor:K,getEntityPropertyFromFullyQualifiedName:z,getAnnotationByType:L,getEntityContainer:N};}
_.createConverterContext=f;
function h(E,m,t,s,i,j,k){var l=arguments.length>7&&arguments[7]!==undefined?arguments[7]:{};var o=m.isA("sap.ui.model.odata.v4.ODataMetaModel")?m:m.getModel();var C=c(o);var n=C.entitySets.find(function(p){return p.name===E;});if(!k){k={startingEntitySet:n,navigationProperties:[],targetEntitySet:n,targetEntityType:n.entityType,targetObject:n};}return f(C,l,t,s,i,j,k);}
_.createConverterContextForMacro=h;return _;},false);
sap.ui.predefine('sap/fe/core/converters/ManifestSettings',[],function(){"use strict";var _={};var A;(function(A){A["DataFieldForAction"]="ForAction";A["DataFieldForIntentBasedNavigation"]="ForNavigation";A["Default"]="Default";A["Primary"]="Primary";A["Secondary"]="Secondary";A["DefaultApply"]="DefaultApply";A["Menu"]="Menu";})(A||(A={}));_.ActionType=A;var V;(function(V){V["Table"]="Table";V["Chart"]="Chart";})(V||(V={}));_.VisualizationType=V;var a;(function(a){a["Page"]="Page";a["Control"]="Control";a["None"]="None";})(a||(a={}));_.VariantManagementType=a;var C;(function(C){C["NewPage"]="NewPage";C["Inline"]="Inline";C["CreationRow"]="CreationRow";})(C||(C={}));_.CreationMode=C;var b;(function(b){b["Default"]="Default";b["Adaptation"]="Adaptation";b["Hidden"]="Hidden";})(b||(b={}));_.AvailabilityType=b;var H;(function(H){H["End"]="End";H["Begin"]="Begin";H["Center"]="Center";})(H||(H={}));_.HorizontalAlign=H;var S;(function(S){S["Auto"]="Auto";S["None"]="None";S["Multi"]="Multi";S["Single"]="Single";})(S||(S={}));_.SelectionMode=S;
function c(m,d){return{getFormContainer:function(f){var e;return(e=m.controlConfiguration)===null||e===void 0?void 0:e[f.Target.value];},getHeaderFacets:function(){var e,f,g,h;return d({},(e=m.controlConfiguration)===null||e===void 0?void 0:(f=e["@com.sap.vocabularies.UI.v1.HeaderFacets"])===null||f===void 0?void 0:f.facets,(g=m.content)===null||g===void 0?void 0:(h=g.header)===null||h===void 0?void 0:h.facets);},getHeaderActions:function(){var e,f;return((e=m.content)===null||e===void 0?void 0:(f=e.header)===null||f===void 0?void 0:f.actions)||{};},getFooterActions:function(){var e,f;return((e=m.content)===null||e===void 0?void 0:(f=e.footer)===null||f===void 0?void 0:f.actions)||{};},getVariantManagement:function(){return m.variantManagement||a.None;},getDefaultTemplateAnnotationPath:function(){return m.defaultTemplateAnnotationPath;},getControlConfiguration:function(s){var e;return(m===null||m===void 0?void 0:(e=m.controlConfiguration)===null||e===void 0?void 0:e[s])||{};},getNavigationConfiguration:function(n){var e;return(m===null||m===void 0?void 0:(e=m.navigation)===null||e===void 0?void 0:e[n])||{};},getSections:function(){var e,f,g,h;return d({},(e=m.controlConfiguration)===null||e===void 0?void 0:(f=e["@com.sap.vocabularies.UI.v1.Facets"])===null||f===void 0?void 0:f.sections,(g=m.content)===null||g===void 0?void 0:(h=g.body)===null||h===void 0?void 0:h.sections);},isHeaderEditable:function(){return this.getShowObjectPageHeader()&&m.editableHeaderContent;},getViewConfiguration:function(){return m.views;},getViewLevel:function(){return(m===null||m===void 0?void 0:m.viewLevel)||-1;},useIconTabBar:function(){return this.getShowAnchorBar()&&m.sectionLayout==="Tabs";},getContentDensities:function(){return(m===null||m===void 0?void 0:m.contentDensities)||{cozy:false,compact:false};},isFclEnabled:function(){return!!(m===null||m===void 0?void 0:m.fclEnabled);},getFilterConfiguration:function(){return this.getControlConfiguration("@com.sap.vocabularies.UI.v1.SelectionFields");},hasMultipleEntitySets:function(){var v=this.getViewConfiguration()||{paths:[]};return v.paths.find(function(p){return p.entitySet&&p.entitySet!==m.entitySet;})!==undefined;},getShowAnchorBar:function(){var e,f,g,h;return((e=m.content)===null||e===void 0?void 0:(f=e.header)===null||f===void 0?void 0:f.anchorBarVisible)!==undefined?!!((g=m.content)===null||g===void 0?void 0:(h=g.header)===null||h===void 0?void 0:h.anchorBarVisible):true;},getShowObjectPageHeader:function(){var e,f,g,h;return((e=m.content)===null||e===void 0?void 0:(f=e.header)===null||f===void 0?void 0:f.visible)!==undefined?!!((g=m.content)===null||g===void 0?void 0:(h=g.header)===null||h===void 0?void 0:h.visible):true;}};}
_.createManifestWrapper=c;return _;},false);
sap.ui.predefine('sap/fe/core/converters/MetaModelConverter',["sap/fe/core/converters/common/AnnotationConverter"],function(A){"use strict";var _={};
function c(o,a,v){if(a in o){Object.defineProperty(o,a,{value:v,enumerable:true,configurable:true,writable:true});}else{o[a]=v;}return o;}
function d(a,i){return j(a)||h(a,i)||f(a,i)||e();}
function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function f(o,a){if(!o)return;if(typeof o==="string")return g(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(o,a);}
function g(a,b){if(b==null||b>a.length)b=a.length;for(var i=0,n=new Array(b);i<b;i++){n[i]=a[i];}return n;}
function h(a,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(a)))return;var b=[];var n=true;var o=false;var s=undefined;try{for(var t=a[Symbol.iterator](),u;!(n=(u=t.next()).done);n=true){b.push(u.value);if(i&&b.length===i)break;}}catch(v){o=true;s=v;}finally{try{if(!n&&t["return"]!=null)t["return"]();}finally{if(o)throw s;}}return b;}
function j(a){if(Array.isArray(a))return a;}
var V={"Org.OData.Capabilities.V1":"Capabilities","Org.OData.Core.V1":"Core","Org.OData.Measures.V1":"Measures","com.sap.vocabularies.Common.v1":"Common","com.sap.vocabularies.UI.v1":"UI","com.sap.vocabularies.Session.v1":"Session","com.sap.vocabularies.Analytics.v1":"Analytics","com.sap.vocabularies.PersonalData.v1":"PersonalData","com.sap.vocabularies.Communication.v1":"Communication"};var D={Chart:true,MicroChart:true,UShell:true,IntentBasedNavigation:true};_.DefaultEnvironmentCapabilities=D;var M={parsePropertyValue:function(a,b,i,n,C){var o=this;var v;var s=i+"/"+b;if(a===null){v={type:"Null",Null:null};}else if(typeof a==="string"){v={type:"String",String:a};}else if(typeof a==="boolean"){v={type:"Bool",Bool:a};}else if(typeof a==="number"){v={type:"Int",Int:a};}else if(Array.isArray(a)){v={type:"Collection",Collection:a.map(function(t,u){return o.parseAnnotationObject(t,s+"/"+u,n,C);})};if(a.length>0){if(a[0].hasOwnProperty("$PropertyPath")){v.Collection.type="PropertyPath";}else if(a[0].hasOwnProperty("$Path")){v.Collection.type="Path";}else if(a[0].hasOwnProperty("$NavigationPropertyPath")){v.Collection.type="NavigationPropertyPath";}else if(a[0].hasOwnProperty("$AnnotationPath")){v.Collection.type="AnnotationPath";}else if(a[0].hasOwnProperty("$Type")){v.Collection.type="Record";}else if(a[0].hasOwnProperty("$If")){v.Collection.type="If";}else if(a[0].hasOwnProperty("$Apply")){v.Collection.type="Apply";}else if(typeof a[0]==="object"){v.Collection.type="Record";}else{v.Collection.type="String";}}}else if(a.$Path!==undefined){v={type:"Path",Path:a.$Path};}else if(a.$Decimal!==undefined){v={type:"Decimal",Decimal:parseFloat(a.$Decimal)};}else if(a.$PropertyPath!==undefined){v={type:"PropertyPath",PropertyPath:a.$PropertyPath};}else if(a.$NavigationPropertyPath!==undefined){v={type:"NavigationPropertyPath",NavigationPropertyPath:a.$NavigationPropertyPath};}else if(a.$If!==undefined){v={type:"If",If:a.$If};}else if(a.$Apply!==undefined){v={type:"Apply",Apply:a.$Apply,Function:a.$Function};}else if(a.$AnnotationPath!==undefined){v={type:"AnnotationPath",AnnotationPath:a.$AnnotationPath};}else if(a.$EnumMember!==undefined){v={type:"EnumMember",EnumMember:this.mapNameToAlias(a.$EnumMember.split("/")[0])+"/"+a.$EnumMember.split("/")[1]};}else if(a.$Type){v={type:"Record",Record:this.parseAnnotationObject(a,i,n,C)};}else{v={type:"Record",Record:this.parseAnnotationObject(a,i,n,C)};}return{name:b,value:v};},mapNameToAlias:function(a){var b=a.split("@"),i=d(b,2),n=i[0],o=i[1];if(!o){o=n;n="";}else{n+="@";}var s=o.lastIndexOf(".");return n+V[o.substr(0,s)]+"."+o.substr(s+1);},parseAnnotationObject:function(a,b,i,C){var n=this;var o={};if(a===null){o={type:"Null",Null:null};}else if(typeof a==="string"){o={type:"String",String:a};}else if(typeof a==="boolean"){o={type:"Bool",Bool:a};}else if(typeof a==="number"){o={type:"Int",Int:a};}else if(a.$AnnotationPath!==undefined){o={type:"AnnotationPath",AnnotationPath:a.$AnnotationPath};}else if(a.$Path!==undefined){o={type:"Path",Path:a.$Path};}else if(a.$Decimal!==undefined){o={type:"Decimal",Decimal:parseFloat(a.$Decimal)};}else if(a.$PropertyPath!==undefined){o={type:"PropertyPath",PropertyPath:a.$PropertyPath};}else if(a.$If!==undefined){o={type:"If",If:a.$If};}else if(a.$Apply!==undefined){o={type:"Apply",Apply:a.$Apply,Function:a.$Function};}else if(a.$NavigationPropertyPath!==undefined){o={type:"NavigationPropertyPath",NavigationPropertyPath:a.$NavigationPropertyPath};}else if(a.$EnumMember!==undefined){o={type:"EnumMember",EnumMember:this.mapNameToAlias(a.$EnumMember.split("/")[0])+"/"+a.$EnumMember.split("/")[1]};}else if(Array.isArray(a)){var s=o;s.collection=a.map(function(v,w){return n.parseAnnotationObject(v,b+"/"+w,i,C);});if(a.length>0){if(a[0].hasOwnProperty("$PropertyPath")){s.collection.type="PropertyPath";}else if(a[0].hasOwnProperty("$Path")){s.collection.type="Path";}else if(a[0].hasOwnProperty("$NavigationPropertyPath")){s.collection.type="NavigationPropertyPath";}else if(a[0].hasOwnProperty("$AnnotationPath")){s.collection.type="AnnotationPath";}else if(a[0].hasOwnProperty("$Type")){s.collection.type="Record";}else if(a[0].hasOwnProperty("$If")){s.collection.type="If";}else if(a[0].hasOwnProperty("$Apply")){s.collection.type="Apply";}else if(typeof a[0]==="object"){s.collection.type="Record";}else{s.collection.type="String";}}}else{if(a.$Type){var t=a.$Type;o.type=t;}var u=[];Object.keys(a).forEach(function(v){if(v!=="$Type"&&v!=="$If"&&v!=="$Apply"&&v!=="$Eq"&&!v.startsWith("@")){u.push(n.parsePropertyValue(a[v],v,b,i,C));}else if(v.startsWith("@")){n.createAnnotationLists(c({},v,a[v]),b,i,C);}});o.propertyValues=u;}return o;},getOrCreateAnnotationList:function(t,a){var b=a.find(function(i){return i.target===t;});if(!b){b={target:t,annotations:[]};a.push(b);}return b;},createAnnotationLists:function(a,b,i,C){var n=this;var o=this.getOrCreateAnnotationList(b,i);if(!C.MicroChart){delete a["@com.sap.vocabularies.UI.v1.Chart"];}function s(v){return v.filter(function(R){if(R.Target&&R.Target.$AnnotationPath){return R.Target.$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.Chart")===-1;}else{return true;}});}function t(v){return v.filter(function(R){return R.$Type!=="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation";});}function u(v){return v.filter(function(R){return R.$AnnotationPath!=="@com.sap.vocabularies.UI.v1.Chart";});}Object.keys(a).forEach(function(v){var w=a[v];switch(v){case"@com.sap.vocabularies.UI.v1.HeaderFacets":if(!C.MicroChart){w=s(w);}break;case"@com.sap.vocabularies.UI.v1.Identification":if(!C.IntentBasedNavigation){w=t(w);}break;case"@com.sap.vocabularies.UI.v1.LineItem":if(!C.IntentBasedNavigation){w=t(w);}if(!C.MicroChart){w=s(w);}break;case"@com.sap.vocabularies.UI.v1.FieldGroup":if(!C.IntentBasedNavigation){w.Data=t(w.Data);}if(!C.MicroChart){w.Data=s(w.Data);}break;case"@com.sap.vocabularies.UI.v1.PresentationVariant":if(!C.Chart&&w.Visualizations){w.Visualizations=u(w.Visualizations);}break;default:break;}a[v]=w;var x=o;var y=v.split("#");var z=y[1];v=y[0];var B=v.split("@");if(B.length>2){x=n.getOrCreateAnnotationList(b+"@"+B[1],i);v=B[2];}else{v=B[1];}var E={term:"".concat(v),qualifier:z};var F=b+"@"+E.term;if(z){F+="#"+z;}var G=false;if(w===null){E.value={type:"Bool",Bool:w};}else if(typeof w==="string"){E.value={type:"String",String:w};}else if(typeof w==="boolean"){E.value={type:"Bool",Bool:w};}else if(typeof w==="number"){E.value={type:"Int",Int:w};}else if(w.$If!==undefined){E.value={type:"If",If:w.$If};}else if(w.$Apply!==undefined){E.value={type:"Apply",Apply:w.$Apply,Function:w.$Function};}else if(w.$Path!==undefined){E.value={type:"Path",Path:w.$Path};}else if(w.$AnnotationPath!==undefined){E.value={type:"AnnotationPath",AnnotationPath:w.$AnnotationPath};}else if(w.$Decimal!==undefined){E.value={type:"Decimal",Decimal:parseFloat(w.$Decimal)};}else if(w.$EnumMember!==undefined){E.value={type:"EnumMember",EnumMember:n.mapNameToAlias(w.$EnumMember.split("/")[0])+"/"+w.$EnumMember.split("/")[1]};}else if(Array.isArray(w)){G=true;E.collection=w.map(function(K,L){return n.parseAnnotationObject(K,F+"/"+L,i,C);});if(w.length>0){if(w[0].hasOwnProperty("$PropertyPath")){E.collection.type="PropertyPath";}else if(w[0].hasOwnProperty("$Path")){E.collection.type="Path";}else if(w[0].hasOwnProperty("$NavigationPropertyPath")){E.collection.type="NavigationPropertyPath";}else if(w[0].hasOwnProperty("$AnnotationPath")){E.collection.type="AnnotationPath";}else if(w[0].hasOwnProperty("$Type")){E.collection.type="Record";}else if(w[0].hasOwnProperty("$If")){E.collection.type="If";}else if(w[0].hasOwnProperty("$Apply")){E.collection.type="Apply";}else if(typeof w[0]==="object"){E.collection.type="Record";}else{E.collection.type="String";}}}else{var H={propertyValues:[]};if(w.$Type){var I=w.$Type;H.type="".concat(I);}var J=[];Object.keys(w).forEach(function(K){if(K!=="$Type"&&!K.startsWith("@")){J.push(n.parsePropertyValue(w[K],K,F,i,C));}else if(K.startsWith("@")){n.createAnnotationLists(c({},K,w[K]),F,i,C);}});H.propertyValues=J;E.record=H;}E.isCollection=G;x.annotations.push(E);});},parseProperty:function(o,a,b,i,C){var n=o.getObject("/".concat(a.fullyQualifiedName,"/").concat(b,"@"));var s=o.getObject("/".concat(a.fullyQualifiedName,"/").concat(b));var t={_type:"Property",name:b,fullyQualifiedName:"".concat(a.fullyQualifiedName,"/").concat(b),type:s.$Type,maxLength:s.$MaxLength,precision:s.$Precision,scale:s.$Scale,nullable:s.$Nullable};this.createAnnotationLists(n,t.fullyQualifiedName,i,C);return t;},parseNavigationProperty:function(o,a,n,b,C){var i=o.getObject("/".concat(a.fullyQualifiedName,"/").concat(n,"@"));var s=o.getObject("/".concat(a.fullyQualifiedName,"/").concat(n));var t=[];if(s.$ReferentialConstraint){t=Object.keys(s.$ReferentialConstraint).map(function(v){return{sourceTypeName:a.name,sourceProperty:v,targetTypeName:s.$Type,targetProperty:s.$ReferentialConstraint[v]};});}var u={_type:"NavigationProperty",name:n,fullyQualifiedName:"".concat(a.fullyQualifiedName,"/").concat(n),partner:s.$Partner,isCollection:s.$isCollection?s.$isCollection:false,containsTarget:s.$ContainsTarget,targetTypeName:s.$Type,referentialConstraint:t};this.createAnnotationLists(i,u.fullyQualifiedName,b,C);return u;},parseEntitySet:function(o,a,b,i,C){var n=o.getObject("/".concat(a));var s=o.getObject("/".concat(a,"@"));var t={_type:"EntitySet",name:a,navigationPropertyBinding:{},entityTypeName:n.$Type,fullyQualifiedName:"".concat(i,"/").concat(a)};this.createAnnotationLists(s,t.fullyQualifiedName,b,C);return t;},parseEntityType:function(o,a,b,n,C){var i=this;var s=o.getObject("/".concat(a,"@"));var t=o.getObject("/".concat(a));var u=t.$Key||[];var v={_type:"EntityType",name:a.replace(n+".",""),fullyQualifiedName:a,keys:[],entityProperties:[],navigationProperties:[]};this.createAnnotationLists(s,v.fullyQualifiedName,b,C);var w=Object.keys(t).filter(function(y){if(y!="$Key"&&y!="$kind"){return t[y].$kind==="Property";}}).map(function(y){return i.parseProperty(o,v,y,b,C);});var x=Object.keys(t).filter(function(y){if(y!="$Key"&&y!="$kind"){return t[y].$kind==="NavigationProperty";}}).map(function(y){return i.parseNavigationProperty(o,v,y,b,C);});v.keys=u.map(function(y){return w.find(function(z){return z.name===y;});}).filter(function(y){return y!==undefined;});v.entityProperties=w;v.navigationProperties=x;return v;},parseComplexType:function(o,a,b,n,C){var i=this;var s=o.getObject("/".concat(a,"@"));var t=o.getObject("/".concat(a));var u={_type:"ComplexType",name:a.replace(n+".",""),fullyQualifiedName:a,properties:[],navigationProperties:[]};this.createAnnotationLists(s,u.fullyQualifiedName,b,C);var v=Object.keys(t).filter(function(x){if(x!="$Key"&&x!="$kind"){return t[x].$kind==="Property";}}).map(function(x){return i.parseProperty(o,u,x,b,C);});u.properties=v;var w=Object.keys(t).filter(function(x){if(x!="$Key"&&x!="$kind"){return t[x].$kind==="NavigationProperty";}}).map(function(x){return i.parseNavigationProperty(o,u,x,b,C);});u.navigationProperties=w;return u;},parseAction:function(a,b,n,i){var o="";var s="".concat(a);var t=a.substr(n.length+1);if(b.$IsBound){var u=b.$Parameter[0];o=u.$Type;if(u.$isCollection===true){s="".concat(a,"(Collection(").concat(o,"))");}else{s="".concat(a,"(").concat(o,")");}}else{s="".concat(i,"/").concat(t);}var v=b.$Parameter||[];return{_type:"Action",name:t,fullyQualifiedName:s,isBound:b.$IsBound,sourceType:o,returnType:b.$ReturnType?b.$ReturnType.$Type:"",parameters:v.map(function(w){return{_type:"ActionParameter",isEntitySet:w.$Type===b.$EntitySetPath,fullyQualifiedName:"".concat(s,"/").concat(w.$Name),type:w.$Type};})};},parseEntityTypes:function(o,i){var n=this;var C;if(!i){C=D;}else{C=i;}var s=o.getObject("/$");var E=o.getObject("/");var t=[];var u=[];var v=[];var w=[];var x=s.$EntityContainer;var y="";var z=Object.keys(s).filter(function(a){return s[a].$kind==="Schema";});if(z&&z.length>0){y=z[0].substr(0,z[0].length-1);}else if(u&&u.length){y=u[0].fullyQualifiedName.replace(u[0].name,"");y=y.substr(0,y.length-1);}Object.keys(s).filter(function(a){return a!=="$kind"&&s[a].$kind==="EntityType";}).forEach(function(a){var b=n.parseEntityType(o,a,t,y,C);u.push(b);});Object.keys(E).filter(function(a){return a!=="$kind"&&E[a].$kind==="EntitySet";}).forEach(function(a){var b=n.parseEntitySet(o,a,t,x,C);v.push(b);});Object.keys(s).filter(function(a){return a!=="$kind"&&s[a].$kind==="ComplexType";}).forEach(function(a){var b=n.parseComplexType(o,a,t,y,C);w.push(b);});var B=Object.keys(s).find(function(x){return x!=="$kind"&&s[x].$kind==="EntityContainer";});var F={};if(B){F={name:B.replace(y+".",""),fullyQualifiedName:B};}v.forEach(function(a){var b=s[x][a.name].$NavigationPropertyBinding;if(b){Object.keys(b).forEach(function(L){var N=v.find(function(O){return O.name===b[L];});if(N){a.navigationPropertyBinding[L]=N;}});}});var G=Object.keys(s).filter(function(a){return Array.isArray(s[a])&&s[a].length>0&&s[a][0].$kind==="Action";}).reduce(function(a,b){var G=s[b];G.forEach(function(L){a.push(n.parseAction(b,L,y,x));});return a;},[]);var H=s.$Annotations;var I=Object.keys(H).filter(function(a){return a.indexOf("(")!==-1;});I.forEach(function(a){n.createAnnotationLists(s.$Annotations[a],a,t,C);});var J=H[x];if(J){this.createAnnotationLists(J,x,t,C);}t=t.sort(function(a,b){return a.target.length>=b.target.length?1:-1;});var K=[];return{identification:"metamodelResult",version:"4.0",schema:{entityContainer:F,entitySets:v,entityTypes:u,complexTypes:w,associations:[],actions:G,namespace:y,annotations:{"metamodelResult":t}},references:K};}};var m={};
function k(o,C){var s=o.id;if(!m.hasOwnProperty(s)){var a=M.parseEntityTypes(o,C);m[s]=A.convertTypes(a);}return m[s];}
_.convertTypes=k;var p={};
function l(o){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var C=k(o.getModel());var P=o.getPath();if(!i&&p.hasOwnProperty(P)){return p[P];}var a=P.split("/");var t=C.entitySets.find(function(z){return z.name===a[1];});var b=a.slice(2).join("/");var n=[t];var s=function(){var v=b.split("/");var z=t.entityType.navigationProperties.find(function(B){return B.name===v[1];});if(z){n.push(z);}t=t.navigationPropertyBinding[v[1]];n.push(t);b=v.slice(2).join("/");};while(b&&b.length>0&&b.startsWith("$NavigationPropertyBinding")){s();}if(b.startsWith("$Type")){b=a.slice(3).join("/");}if(t&&b.length){var T=t.entityType.resolvePath(b,i);if(T){if(i){T.visitedObjects=n.concat(T.visitedObjects);}else{p[P]=T;}}else if(t.entityType&&t.entityType.actions){var u=t.entityType&&t.entityType.actions;var v=b.split("/");if(u[v[0]]){var w=u[v[0]];if(v[1]&&w.parameters){var x=v[1];var y=w.parameters.find(function(z){return z.fullyQualifiedName.endsWith("/"+x);});return y;}else if(b.length===1){return w;}}}return T;}else{if(i){return{target:t,visitedObjects:n};}else{p[P]=t;}return t;}}
_.convertMetaModelContext=l;
function q(o,E){var a=l(o,true);var t;if(E&&E.getPath()!=="/"){t=q(E);}return r(a,t);}
_.getInvolvedDataModelObjects=q;
function r(a,t){var b=a.visitedObjects.filter(function(B){return B&&B.hasOwnProperty("_type")&&B._type!=="EntityType";});if(a.target&&a.target.hasOwnProperty("_type")&&a.target._type!=="EntityType"){b.push(a.target);}var n=[];var o=b[0];var s=o;var u=o.entityType;var i=1;var v;var w=[];while(i<b.length){v=b[i++];if(v._type==="NavigationProperty"){w.push(v.name);n.push(v);u=v.targetType;if(s&&s.navigationPropertyBinding.hasOwnProperty(w.join("/"))){s=s.navigationPropertyBinding[v.name];w=[];}}if(v._type==="EntitySet"){s=v;u=s.entityType;}}if(t&&t.startingEntitySet!==o){var x=b.indexOf(t.startingEntitySet);if(x!==-1){var y=b.slice(0,x);t.startingEntitySet=o;t.navigationProperties=y.filter(function(B){return B._type==="NavigationProperty";}).concat(t.navigationProperties);}}var z={startingEntitySet:o,targetEntitySet:s,targetEntityType:u,targetObject:a.target,navigationProperties:n,contextLocation:t};if(!z.contextLocation){z.contextLocation=z;}return z;}
_.getInvolvedDataModelObjectFromPath=r;return _;},false);
sap.ui.predefine('sap/fe/core/converters/TemplateConverter',["./templates/ListReportConverter","./templates/ObjectPageConverter","./MetaModelConverter","./templates/BaseConverter","sap/fe/core/converters/ConverterContext","sap/fe/core/converters/helpers/IssueManager","sap/base/util/merge"],function(L,O,M,B,C,I,m){"use strict";var _={};var a=I.IssueCategoryType;var b=I.IssueSeverity;var c=I.IssueCategory;var d=C.createConverterContext;var T=B.TemplateType;var g=M.getInvolvedDataModelObjects;var e=M.convertTypes;
function h(F,D,E,l){F.forEach(function(o){var i="For entity set "+E;if((o===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!(o===null||o===void 0?void 0:o.ID)){var j;i=i+", "+"level "+l+", the collection facet does not have an ID.";D.addIssue(c.Facets,b.High,i,a,a===null||a===void 0?void 0:(j=a.Facets)===null||j===void 0?void 0:j.MissingID);}if((o===null||o===void 0?void 0:o.$Type)==="com.sap.vocabularies.UI.v1.CollectionFacet"&&l>=3){var k;i=i+", collection facet "+o.Label+" is not supported at "+"level "+l;D.addIssue(c.Facets,b.Medium,i,a,a===null||a===void 0?void 0:(k=a.Facets)===null||k===void 0?void 0:k.UnSupportedLevel);}if(o===null||o===void 0?void 0:o.Facets){h(o===null||o===void 0?void 0:o.Facets,D,E,++l);l=l-1;}});}
function f(t,o,i,s,D,F,j){var k;var l=e(o,j);l.diagnostics.forEach(function(r){var u=D.checkIfIssueExists(c.Annotation,b.High,r.message);if(!u){D.addIssue(c.Annotation,b.High,r.message);}});l===null||l===void 0?void 0:(k=l.entityTypes)===null||k===void 0?void 0:k.forEach(function(E){var r,u;if(E===null||E===void 0?void 0:(r=E.annotations)===null||r===void 0?void 0:(u=r.UI)===null||u===void 0?void 0:u.Facets){var v,w;h(E===null||E===void 0?void 0:(v=E.annotations)===null||v===void 0?void 0:(w=v.UI)===null||w===void 0?void 0:w.Facets,D,E===null||E===void 0?void 0:E.name,1);}});var n=i.entitySet;var p=g(o.createBindingContext(F==="/"?F+n:F));if(p){var q;switch(t){case T.ListReport:case T.AnalyticalListPage:q=L.convertPage(d(l,i,t,s,D,m,p));break;case T.ObjectPage:q=O.convertPage(d(l,i,t,s,D,m,p));break;}return q;}return undefined;}
_.convertPage=f;return _;},false);
sap.ui.predefine('sap/fe/core/converters/annotations/DataField',["sap/fe/core/templating/UIFormatters","sap/fe/core/templating/PropertyHelper"],function(U,P){"use strict";var _={};var g=P.getAssociatedUnitProperty;var a=P.getAssociatedCurrencyProperty;var b=U.getDisplayMode;
function i(j){return j.hasOwnProperty("Action");}
_.isDataFieldForActionAbstract=i;
function c(j){return j.hasOwnProperty("Value");}
_.isDataFieldTypes=c;
function d(j){var k,l,m,n,o,p;return((k=j.annotations)===null||k===void 0?void 0:(l=k.UI)===null||l===void 0?void 0:l.Hidden)===true||c(j)&&((m=j.Value)===null||m===void 0?void 0:(n=m.$target)===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(p=o.UI)===null||p===void 0?void 0:p.Hidden)===true;}
_.isDataFieldAlwaysHidden=d;
function e(j,o){if(typeof o==="object"){var k,l;if(c(o)&&((k=o.Value)===null||k===void 0?void 0:(l=k.$target)===null||l===void 0?void 0:l.fullyQualifiedName)){var m,n,p,q;var r=j.getEntityPropertyFromFullyQualifiedName((m=o.Value)===null||m===void 0?void 0:(n=m.$target)===null||n===void 0?void 0:n.fullyQualifiedName);if((r===null||r===void 0?void 0:(p=r.annotations)===null||p===void 0?void 0:(q=p.Common)===null||q===void 0?void 0:q.SemanticObject)!==undefined){return j.getEntitySetBasedAnnotationPath(r===null||r===void 0?void 0:r.fullyQualifiedName);}}}else{var s,t;var u=j.getEntityPropertyFromFullyQualifiedName(o);if((u===null||u===void 0?void 0:(s=u.annotations)===null||s===void 0?void 0:(t=s.Common)===null||t===void 0?void 0:t.SemanticObject)!==undefined){return j.getEntitySetBasedAnnotationPath(u===null||u===void 0?void 0:u.fullyQualifiedName);}}return undefined;}
_.getSemanticObjectPath=e;
function f(p,j,r){function k(H,I){if(!r.properties.hasOwnProperty(H)){r.properties[H]=I;}return Object.keys(r.properties).indexOf(H);}function l(H){r.exportSettingsTemplate=r.exportSettingsTemplate?"".concat(r.exportSettingsTemplate).concat(H):"".concat(H);}if(p===null||p===void 0?void 0:p.path){var m,n,o;var q=p.path.indexOf("/")>-1?p.path.substring(0,p.path.lastIndexOf("/")+1):"";var t=p===null||p===void 0?void 0:(m=p.$target)===null||m===void 0?void 0:(n=m.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.Text;var v;var s;if(r.exportSettingsTemplate){l("\n");}if(t===null||t===void 0?void 0:t.path){var u=j.getDataModelObjectPath();var w=q+t.path;var x=b(p,u);var y;switch(x){case"Value":v=k(p.path,{value:p.$target});l("{".concat(v,"}"));break;case"Description":y=k(w,{value:t.$target,description:p.$target});k(p.path,{value:p.$target});l("{".concat(y,"}"));break;case"ValueDescription":v=k(p.path,{value:p.$target});y=k(w,{value:t.$target,description:p.$target});l("{".concat(v,"} ({").concat(y,"})"));break;case"DescriptionValue":y=k(w,{value:t.$target,description:p.$target});v=k(p.path,{value:p.$target});l("{".concat(y,"} ({").concat(v,"})"));break;}}else{var z,A,B,C,D,E;var F=a(p.$target)||g(p.$target);var G=(p===null||p===void 0?void 0:(z=p.$target)===null||z===void 0?void 0:(A=z.annotations)===null||A===void 0?void 0:(B=A.Measures)===null||B===void 0?void 0:B.ISOCurrency)||(p===null||p===void 0?void 0:(C=p.$target)===null||C===void 0?void 0:(D=C.annotations)===null||D===void 0?void 0:(E=D.Measures)===null||E===void 0?void 0:E.Unit);if(F){v=k(p.path,{value:p.$target});s=k(F.name,{value:G.$target});l("{".concat(v,"}  {").concat(s,"}"));}else{v=k(p.path,{value:p.$target});l("{".concat(v,"}"));}}}return r;}
function h(j,k){var l,m,n;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{properties:{}};if(j.$Type==="com.sap.vocabularies.UI.v1.DataField"&&j.Value){var p=j.Value;r=f(p,k,r);}else if(j.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){switch((l=j.Target)===null||l===void 0?void 0:(m=l.$target)===null||m===void 0?void 0:m.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(n=j.Target.$target.Data)===null||n===void 0?void 0:n.forEach(function(o){r=h(o,k,r);});break;case"com.sap.vocabularies.UI.v1.DataPointType":r=f(j.Target.$target.Value,k,r);break;}}return r;}
_.collectRelatedProperties=h;return _;},false);
sap.ui.predefine('sap/fe/core/converters/common/AnnotationConverter',[],function(){"use strict";var _={};
function a(o,i){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(o);if(i)Q=Q.filter(function(R){return Object.getOwnPropertyDescriptor(o,R).enumerable;});n.push.apply(n,Q);}return n;}
function b(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};if(i%2){a(Object(o),true).forEach(function(Q){c(n,Q,o[Q]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(n,Object.getOwnPropertyDescriptors(o));}else{a(Object(o)).forEach(function(Q){Object.defineProperty(n,Q,Object.getOwnPropertyDescriptor(o,Q));});}}return n;}
function c(o,i,n){if(i in o){Object.defineProperty(o,i,{value:n,enumerable:true,configurable:true,writable:true});}else{o[i]=n;}return o;}
function d(n,i){return l(n)||e(n,i)||h(n,i)||g();}
function e(n,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(n)))return;var o=[];var Q=true;var R=false;var S=undefined;try{for(var T=n[Symbol.iterator](),U;!(Q=(U=T.next()).done);Q=true){o.push(U.value);if(i&&o.length===i)break;}}catch(V){R=true;S=V;}finally{try{if(!Q&&T["return"]!=null)T["return"]();}finally{if(R)throw S;}}return o;}
function f(i){return l(i)||k(i)||h(i)||g();}
function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function h(o,i){if(!o)return;if(typeof o==="string")return j(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(o,i);}
function j(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,Q=new Array(o);i<o;i++){Q[i]=n[i];}return Q;}
function k(i){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(i))return Array.from(i);}
function l(i){if(Array.isArray(i))return i;}
function m(i,n){if(!(i instanceof n)){throw new TypeError("Cannot call a class as a function");}}
var P=function P(i,n,o,Q,R){m(this,P);this.path=i.Path;this.type="Path";this.$target=n;this.term=R,this.annotationType=Q,this.annotationsTerm=o;};var p=[{alias:"Capabilities",namespace:"Org.OData.Capabilities.V1",uri:""},{alias:"Aggregation",namespace:"Org.OData.Aggregation.V1",uri:""},{alias:"Validation",namespace:"Org.OData.Validation.V1",uri:""},{namespace:"Org.OData.Core.V1",alias:"Core",uri:""},{namespace:"Org.OData.Measures.V1",alias:"Measures",uri:""},{namespace:"com.sap.vocabularies.Common.v1",alias:"Common",uri:""},{namespace:"com.sap.vocabularies.UI.v1",alias:"UI",uri:""},{namespace:"com.sap.vocabularies.Session.v1",alias:"Session",uri:""},{namespace:"com.sap.vocabularies.Analytics.v1",alias:"Analytics",uri:""},{namespace:"com.sap.vocabularies.CodeList.v1",alias:"CodeList",uri:""},{namespace:"com.sap.vocabularies.PersonalData.v1",alias:"PersonalData",uri:""},{namespace:"com.sap.vocabularies.Communication.v1",alias:"Communication",uri:""},{namespace:"com.sap.vocabularies.HTML5.v1",alias:"HTML5",uri:""}];_.defaultReferences=p;
function q(i,n){if(!i.reverseReferenceMap){i.reverseReferenceMap=i.reduce(function(X,S){X[S.namespace]=S;return X;},{});}if(!n){return n;}var o=n.lastIndexOf(".");var Q=n.substr(0,o);var R=n.substr(o+1);var S=i.reverseReferenceMap[Q];if(S){return"".concat(S.alias,".").concat(R);}else{if(n.indexOf("@")!==-1){var T=n.split("@"),U=f(T),V=U[0],W=U.slice(1);return"".concat(V,"@").concat(q(i,W.join("@")));}else{return n;}}}
function u(i,n){if(!i.referenceMap){i.referenceMap=i.reduce(function(X,S){X[S.alias]=S;return X;},{});}if(!n){return n;}var o=n.split("."),Q=d(o,2),q=Q[0],R=Q[1];var S=i.referenceMap[q];if(S){return"".concat(S.namespace,".").concat(R);}else{if(n.indexOf("@")!==-1){var T=n.split("@"),U=f(T),V=U[0],W=U.slice(1);return"".concat(V,"@").concat(u(i,W.join("@")));}else{return n;}}}
function r(i){var o={};if(i.schema.entityContainer&&i.schema.entityContainer.fullyQualifiedName){o[i.schema.entityContainer.fullyQualifiedName]=i.schema.entityContainer;}i.schema.entitySets.forEach(function(n){o[n.fullyQualifiedName]=n;});i.schema.actions.forEach(function(n){o[n.fullyQualifiedName]=n;o[n.fullyQualifiedName.split("(")[0]]=n;n.parameters.forEach(function(Q){o[Q.fullyQualifiedName]=Q;});});i.schema.complexTypes.forEach(function(n){o[n.fullyQualifiedName]=n;n.properties.forEach(function(Q){o[Q.fullyQualifiedName]=Q;});});i.schema.entityTypes.forEach(function(n){o[n.fullyQualifiedName]=n;n.entityProperties.forEach(function(Q){o[Q.fullyQualifiedName]=Q;if(Q.type.indexOf("Edm")===-1){var R=o[Q.type];if(R&&R.properties){R.properties.forEach(function(S){var T=Object.assign(S,{_type:"Property",fullyQualifiedName:Q.fullyQualifiedName+"/"+S.name});o[T.fullyQualifiedName]=T;});}}});n.navigationProperties.forEach(function(Q){o[Q.fullyQualifiedName]=Q;});});Object.keys(i.schema.annotations).forEach(function(n){i.schema.annotations[n].forEach(function(Q){var R=u(i.references,Q.target);Q.annotations.forEach(function(S){var T="".concat(R,"@").concat(u(i.references,S.term));if(S.qualifier){T+="#".concat(S.qualifier);}o[T]=S;S.fullyQualifiedName=T;});});});return o;}
function s(i,n){if(n.startsWith("@")){return i+u(p,n);}else{return i+"/"+n;}}
function t(i,o){if(!K[i]){K[i]=[o];}else{K[i].push(o);}}
function v(o,i,n){var Q=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var R=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var S=arguments.length>5?arguments[5]:undefined;var T=arguments.length>6?arguments[6]:undefined;if(!n){return undefined;}var V=[];n=s(i.fullyQualifiedName,n);var U=n.split("/");var W=n;var X=U.reduce(function(Z,$){if($.length===0){return Z;}if(R&&Z!==null){V.push(Z);}if(!Z){W=$;}else if(Z._type==="EntitySet"&&Z.entityType){W=s(Z.entityTypeName,$);}else if(Z._type==="NavigationProperty"&&Z.targetTypeName){W=s(Z.targetTypeName,$);}else if(Z._type==="NavigationProperty"&&Z.targetType){W=s(Z.targetType.fullyQualifiedName,$);}else if(Z._type==="Property"){if(Z.type.indexOf("Edm")===-1){W=s(Z.fullyQualifiedName,$);}else{W=s(i.fullyQualifiedName.substr(0,i.fullyQualifiedName.lastIndexOf("/")),$);}}else if(Z._type==="Action"&&Z.isBound){W=s(Z.fullyQualifiedName,$);if(!o[W]){W=s(Z.sourceType,$);}}else if(Z._type==="ActionParameter"&&Z.isEntitySet){W=s(Z.type,$);}else if(Z._type==="ActionParameter"&&!Z.isEntitySet){W=s(i.fullyQualifiedName.substr(0,i.fullyQualifiedName.lastIndexOf("/")),$);if(!o[W]){var a1=i.fullyQualifiedName.lastIndexOf("/");if(a1===-1){a1=i.fullyQualifiedName.length;}W=s(o[i.fullyQualifiedName.substr(0,a1)].sourceType,$);}}else{W=s(Z.fullyQualifiedName,$);if($!=="name"&&Z[$]!==undefined){return Z[$];}else if($==="$AnnotationPath"&&Z.$target){return Z.$target;}else if($==="$Path"&&Z.$target){return Z.$target;}else if($.startsWith("$Path")&&Z.$target){var b1=Z.$target;W=s(b1.fullyQualifiedName,$.substr(5));}else if(Z.hasOwnProperty("$Type")){var c1=o[Z.fullyQualifiedName.split("@")[0]];if(c1){W=s(c1.fullyQualifiedName,$);}}}return o[W];},null);if(!X){if(T&&S){var Y={message:"Unable to resolve the path expression: "+"\n"+n+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+T+">"+"\n"+"<Record Type = "+S+">"+"\n"+"<AnnotationPath = "+n+">"};t(n,Y);}else{var Y={message:"Unable to resolve the path expression: "+n+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+U[0]+">"+"\n"+"<PropertyValue  Path= "+U[1]+">"};t(n,Y);}}if(Q){return W;}if(R){return{visitedObjects:V,target:X};}return X;}
function w(i){return i.indexOf("@")!==-1;}
function x(i,n,o,Q,R,S,T,U,V,W){if(i===undefined){return undefined;}switch(i.type){case"String":return i.String;case"Int":return i.Int;case"Bool":return i.Bool;case"Decimal":return i.Decimal;case"Date":return i.Date;case"EnumMember":return q(o.references,i.EnumMember);case"PropertyPath":return{type:"PropertyPath",value:i.PropertyPath,fullyQualifiedName:n,$target:v(R,Q,i.PropertyPath,false,false,V,W)};case"NavigationPropertyPath":return{type:"NavigationPropertyPath",value:i.NavigationPropertyPath,fullyQualifiedName:n,$target:v(R,Q,i.NavigationPropertyPath,false,false,V,W)};case"AnnotationPath":var X=v(R,Q,u(o.references,i.AnnotationPath),true,false,V,W);var Y={type:"AnnotationPath",value:i.AnnotationPath,fullyQualifiedName:n,$target:X,annotationType:V,annotationsTerm:W,term:"",path:""};S.push(Y);return Y;case"Path":if(w(i.Path)){var Z=v(R,Q,i.Path,false,false,V,W);if(Z){return Z;}}var $=v(R,Q,i.Path,true,false,V,W);var a1=new P(i,$,W,V,"");S.push(a1);return a1;case"Record":return y(i.Record,n,o,Q,R,S,T,U,V,W);case"Collection":return A(i.Collection,n,o,Q,R,S,T,U,V,W);case"Apply":case"If":return i;}}
function y(i,n,o,Q,R,S,T,U,V,W){var X={$Type:u(o.references,i.type),fullyQualifiedName:n};var Y={};if(i.annotations&&Array.isArray(i.annotations)){var Z={target:n,annotations:i.annotations,__source:T};U.push(Z);}i.propertyValues.forEach(function($){Y[$.name]=x($.value,"".concat(n,"/").concat($.name),o,Q,R,S,T,U,V,W);if($.annotations&&Array.isArray($.annotations)){var a1={target:"".concat(n,"/").concat($.name),annotations:$.annotations,__source:T};U.push(a1);}if(Y.hasOwnProperty("Action")&&(X.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||X.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")){if(Q.actions){Y.ActionTarget=Q.actions[Y.Action]||R[Y.Action];if(!Y.ActionTarget){J.push({message:"Unable to resolve the action "+Y.Action+" defined for "+X.fullyQualifiedName});}}}});return Object.assign(X,Y);}
function z(i){var n=i.type;if(n===undefined&&i.length>0){var o=i[0];if(o.hasOwnProperty("PropertyPath")){n="PropertyPath";}else if(o.hasOwnProperty("Path")){n="Path";}else if(o.hasOwnProperty("AnnotationPath")){n="AnnotationPath";}else if(o.hasOwnProperty("NavigationPropertyPath")){n="NavigationPropertyPath";}else if(typeof o==="object"&&(o.hasOwnProperty("type")||o.hasOwnProperty("propertyValues"))){n="Record";}else if(typeof o==="string"){n="String";}}else if(n===undefined){n="EmptyCollection";}return n;}
function A(i,n,o,Q,R,S,T,U,V,W){var X=z(i);switch(X){case"PropertyPath":return i.map(function(Y,Z){return{type:"PropertyPath",value:Y.PropertyPath,fullyQualifiedName:"".concat(n,"/").concat(Z),$target:v(R,Q,Y.PropertyPath,false,false,V,W)};});case"Path":return i.map(function(Y){if(w(Y.Path)){var Z=v(R,Q,Y.Path,false,false,V,W);if(Z){return Z;}}var $=v(R,Q,Y.Path,true,false,V,W);var a1=new P(Y,$,W,V,"");S.push(a1);return a1;});case"AnnotationPath":return i.map(function(Y,Z){var $=v(R,Q,Y.AnnotationPath,true,false,V,W);var a1={type:"AnnotationPath",value:Y.AnnotationPath,fullyQualifiedName:"".concat(n,"/").concat(Z),$target:$,annotationType:V,annotationsTerm:W,term:"",path:""};S.push(a1);return a1;});case"NavigationPropertyPath":return i.map(function(Y,Z){return{type:"NavigationPropertyPath",value:Y.NavigationPropertyPath,fullyQualifiedName:"".concat(n,"/").concat(Z),$target:v(R,Q,Y.NavigationPropertyPath,false,false,V,W)};});case"Record":return i.map(function(Y,Z){return y(Y,"".concat(n,"/").concat(Z),o,Q,R,S,T,U,V,W);});case"Apply":return i.map(function(Y){return Y;});case"If":return i.map(function(Y){return Y;});case"String":return i.map(function(Y){return Y;});default:if(i.length===0){return[];}throw new Error("Unsupported case");}}
function B(i,n,o,Q,R,S,T){if(i.record){var U=i.record.type?i.record.type:"";var V={$Type:u(n.references,i.record.type),fullyQualifiedName:i.fullyQualifiedName,qualifier:i.qualifier};var W={};i.record.propertyValues.forEach(function(Y){W[Y.name]=x(Y.value,"".concat(i.fullyQualifiedName,"/").concat(Y.name),n,o,Q,R,S,T,U,i.term);if(W.hasOwnProperty("Action")&&(!i.record||V.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||V.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction")){if(o.actions){W.ActionTarget=o.actions[W.Action]||Q[W.Action];if(!W.ActionTarget){J.push({message:"Unable to resolve the action "+W.Action+" defined for "+i.fullyQualifiedName});}}}});return Object.assign(V,W);}else if(i.collection===undefined){if(i.value){return x(i.value,i.fullyQualifiedName,n,o,Q,R,S,T,"",i.term);}else{return true;}}else if(i.collection){var X=A(i.collection,i.fullyQualifiedName,n,o,Q,R,S,T,"",i.term);X.fullyQualifiedName=i.fullyQualifiedName;return X;}else{throw new Error("Unsupported case");}}
function C(i,o){return function(n,Q){var R="";var S="";return v(o,i,n,false,Q,S,R);};}
function D(i,n,o){i.forEach(function(Q){Q.navigationProperties=Q.navigationProperties.map(function(R){var S={_type:"NavigationProperty",name:R.name,fullyQualifiedName:R.fullyQualifiedName,partner:R.hasOwnProperty("partner")?R.partner:undefined,isCollection:R.hasOwnProperty("isCollection")?R.isCollection:false,containsTarget:R.hasOwnProperty("containsTarget")?R.containsTarget:false,referentialConstraint:R.referentialConstraint?R.referentialConstraint:[]};if(R.targetTypeName){S.targetType=o[R.targetTypeName];}else if(R.relationship){var T=n.find(function(W){return W.fullyQualifiedName===R.relationship;});if(T){var U=T.associationEnd.find(function(W){return W.role===R.toRole;});if(U){S.targetType=o[U.type];S.isCollection=U.multiplicity==="*";}}}if(S.targetType){S.targetTypeName=S.targetType.fullyQualifiedName;}var V=S;o[V.fullyQualifiedName]=V;return V;});Q.resolvePath=C(Q,o);});}
function E(n,i,o){i.forEach(function(Q){if(Q.isBound){var R=o[Q.sourceType];Q.sourceEntityType=R;if(R){if(!R.actions){R.actions={};}R.actions[Q.name]=Q;R.actions["".concat(n,".").concat(Q.name)]=Q;}Q.returnEntityType=o[Q.returnType];}});}
function F(i,o){i.forEach(function(n){n.entityType=o[n.entityTypeName];if(!n.annotations){n.annotations={};}if(!n.entityType.annotations){n.entityType.annotations={};}n.entityType.keys.forEach(function(Q){Q.isKey=true;});});}
function G(i,o){i.forEach(function(n){n.entityProperties.forEach(function(Q){if(Q.type.indexOf("Edm")===-1){var R=o[Q.type];if(R){Q.targetType=R;}}});});}
function H(i,n,o){i.forEach(function(Q){Q.annotations={};Q.properties.forEach(function(R){if(!R.annotations){R.annotations={};}});Q.navigationProperties=Q.navigationProperties.map(function(R){if(!R.annotations){R.annotations={};}var S={_type:"NavigationProperty",name:R.name,fullyQualifiedName:R.fullyQualifiedName,partner:R.hasOwnProperty("partner")?R.partner:undefined,isCollection:R.hasOwnProperty("isCollection")?R.isCollection:false,containsTarget:R.hasOwnProperty("containsTarget")?R.containsTarget:false,referentialConstraint:R.referentialConstraint?R.referentialConstraint:[]};if(R.targetTypeName){S.targetType=o[R.targetTypeName];}else if(R.relationship){var T=n.find(function(W){return W.fullyQualifiedName===R.relationship;});if(T){var U=T.associationEnd.find(function(W){return W.role===R.toRole;});if(U){S.targetType=o[U.type];S.isCollection=U.multiplicity==="*";}}}if(S.targetType){S.targetTypeName=S.targetType.fullyQualifiedName;}var V=S;o[V.fullyQualifiedName]=V;return V;});});}
function I(i,n){var o=q(i,n);var Q=o.lastIndexOf(".");var R=o.substr(0,Q);var S=o.substr(Q+1);return[R,S];}
var J=[];var K={};
function L(i){J=[];var o=r(i);D(i.schema.entityTypes,i.schema.associations,o);E(i.schema.namespace,i.schema.actions,o);F(i.schema.entitySets,o);G(i.schema.entityTypes,o);H(i.schema.complexTypes,i.schema.associations,o);var n=[];var Q=[];Object.keys(i.schema.annotations).forEach(function(T){i.schema.annotations[T].forEach(function(U){var V=u(i.references,U.target);var W=o[V];if(!W){if(V.indexOf("@")!==-1){U.__source=T;Q.push(U);}}else if(typeof W==="object"){if(!W.annotations){W.annotations={};}U.annotations.forEach(function(X){var Y=I(p,X.term),Z=d(Y,2),$=Z[0],a1=Z[1];if(!W.annotations[$]){W.annotations[$]={};}if(!W.annotations._annotations){W.annotations._annotations={};}var b1="".concat(a1).concat(X.qualifier?"#".concat(X.qualifier):"");W.annotations[$][b1]=B(X,i,W,o,n,T,Q);if(W.annotations[$][b1]!==null&&typeof W.annotations[$][b1]==="object"){W.annotations[$][b1].term=u(p,"".concat($,".").concat(a1));W.annotations[$][b1].qualifier=X.qualifier;W.annotations[$][b1].__source=T;}var c1="".concat(V,"@").concat(u(p,$+"."+b1));if(X.annotations&&Array.isArray(X.annotations)){var d1={target:c1,annotations:X.annotations,__source:T};Q.push(d1);}W.annotations._annotations["".concat($,".").concat(b1)]=W.annotations[$][b1];o[c1]=W.annotations[$][b1];});}});});var R=[];Q.forEach(function(T){var U=u(i.references,T.target);var V=U.split("@"),W=d(V,2),X=W[0],Y=W[1];var Z=Y.split("/");X=X+"@"+Z[0];var $=Z.slice(1).reduce(function(a1,b1){if(!a1){return null;}return a1[b1];},o[X]);if(!$){J.push({message:"The following annotation target was not found on the service "+U});}else if(typeof $==="object"){if(!$.annotations){$.annotations={};}T.annotations.forEach(function(a1){var b1=I(p,a1.term),c1=d(b1,2),d1=c1[0],e1=c1[1];if(!$.annotations[d1]){$.annotations[d1]={};}if(!$.annotations._annotations){$.annotations._annotations={};}var f1="".concat(e1).concat(a1.qualifier?"#".concat(a1.qualifier):"");$.annotations[d1][f1]=B(a1,i,$,o,n,T.__source,R);if($.annotations[d1][f1]!==null&&typeof $.annotations[d1][f1]==="object"){$.annotations[d1][f1].term=u(p,"".concat(d1,".").concat(e1));$.annotations[d1][f1].qualifier=a1.qualifier;$.annotations[d1][f1].__source=T.__source;}$.annotations._annotations["".concat(d1,".").concat(f1)]=$.annotations[d1][f1];o["".concat(U,"@").concat(u(p,d1+"."+f1))]=$.annotations[d1][f1];});}});n.forEach(function(T){var U=T.$target;var V=T.annotationsTerm;var W=T.annotationType;T.$target=o[U];delete T.annotationType;delete T.annotationsTerm;if(!T.$target){T.targetString=U;if(V&&W){var X={message:"Unable to resolve the path expression: "+U+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+V+">"+"\n"+"<Record Type = "+W+">"+"\n"+"<AnnotationPath = "+U+">"};t(U,X);}else{var Y=T.term;var Z=T.path;var $=U?U.split("/")[0]:U;var a1={message:"Unable to resolve the path expression: "+U+"\n"+"\n"+"Hint: Check and correct the path values under the following structure in the metadata (annotation.xml file or CDS annotations for the application): \n\n"+"<Annotation Term = "+$+">"+"\n"+"<PropertyValue Property = "+Y+"        Path= "+Z+">"};t(U,a1);}}});for(var S in K){J.push(K[S][0]);}i.entitySets=i.schema.entitySets;return{version:i.version,annotations:i.schema.annotations,namespace:i.schema.namespace,entityContainer:i.schema.entityContainer,actions:i.schema.actions,entitySets:i.schema.entitySets,entityTypes:i.schema.entityTypes,complexTypes:i.schema.complexTypes,references:p,diagnostics:J.concat()};}
_.convertTypes=L;
function M(i,n){var o;if(typeof n==="string"){var Q=n.match(/(\w+)\.\w+\/.*/);if(Q&&i.find(function(R){return R.alias===Q[1];})){o={type:"EnumMember",EnumMember:n};}else{o={type:"String",String:n};}}else if(Array.isArray(n)){o={type:"Collection",Collection:n.map(function(R){return N(i,R);})};}else if(typeof n==="boolean"){o={type:"Bool",Bool:n};}else if(typeof n==="number"){if(n.toString()===n.toFixed()){o={type:"Int",Int:n};}else{o={type:"Decimal",Decimal:n};}}else if(typeof n==="object"&&n.isDecimal&&n.isDecimal()){o={type:"Decimal",Decimal:n.valueOf()};}else if(n.type==="Path"){o={type:"Path",Path:n.path};}else if(n.type==="AnnotationPath"){o={type:"AnnotationPath",AnnotationPath:n.value};}else if(n.type==="PropertyPath"){o={type:"PropertyPath",PropertyPath:n.value};}else if(n.type==="NavigationPropertyPath"){o={type:"NavigationPropertyPath",NavigationPropertyPath:n.value};}else if(Object.prototype.hasOwnProperty.call(n,"$Type")){o={type:"Record",Record:N(i,n)};}return o;}
function N(i,n){if(typeof n==="string"){return n;}else if(typeof n==="object"){if(n.hasOwnProperty("$Type")){var o={type:n.$Type,propertyValues:[]};Object.keys(n).forEach(function(Q){if(Q!=="$Type"&&Q!=="term"&&Q!=="__source"&&Q!=="qualifier"&&Q!=="ActionTarget"&&Q!=="fullyQualifiedName"&&Q!=="annotations"){var R=n[Q];o.propertyValues.push({name:Q,value:M(i,R)});}else if(Q==="annotations"){var S=n[Q];o.annotations=[];Object.keys(S).filter(function(T){return T!=="_annotations";}).forEach(function(T){Object.keys(S[T]).forEach(function(U){var V;var W=O(i,S[T][U]);if(!W.term){var X=u(i,"".concat(T,".").concat(U));if(X){var Y=X.split("#");W.term=Y[0];if(Y.length>1){W.qualifier=Y[1];}}}(V=o.annotations)===null||V===void 0?void 0:V.push(W);});});}});return o;}else if(n.type==="PropertyPath"){return{type:"PropertyPath",PropertyPath:n.value};}else if(n.type==="AnnotationPath"){return{type:"AnnotationPath",AnnotationPath:n.value};}else if(n.type==="NavigationPropertyPath"){return{type:"NavigationPropertyPath",NavigationPropertyPath:n.value};}}}
function O(i,n){var o={term:n.term,qualifier:n.qualifier};if(Array.isArray(n)){return b(b({},o),{},{collection:n.map(function(Q){return N(i,Q);})});}else if(n.hasOwnProperty("$Type")){return b(b({},o),{},{record:N(i,n)});}else{return b(b({},o),{},{value:M(i,n)});}}
_.revertTermToGenericType=O;return _;});
sap.ui.predefine('sap/fe/core/converters/controls/Common/Action',["sap/fe/core/converters/ManifestSettings","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/BindingExpression","sap/fe/core/formatters/FPMFormatter"],function(M,C,I,S,B,f){"use strict";var _={};var r=B.resolveBindingString;var a=B.isConstant;var b=B.formatResult;var c=B.compileBinding;var d=B.bindingExpression;var e=B.annotationExpression;var g=S.replaceSpecialChars;var h=I.CustomActionID;var P=C.Placement;var A=M.ActionType;
function j(i){return p(i)||m(i)||l(i)||k();}
function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function l(o,i){if(!o)return;if(typeof o==="string")return q(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(o,i);}
function m(i){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(i))return Array.from(i);}
function p(i){if(Array.isArray(i))return q(i);}
function q(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,E=new Array(o);i<o;i++){E[i]=n[i];}return E;}
var s;(function(s){s["Accept"]="Accept";s["Attention"]="Attention";s["Back"]="Back";s["Critical"]="Critical";s["Default"]="Default";s["Emphasized"]="Emphasized";s["Ghost"]="Ghost";s["Negative"]="Negative";s["Neutral"]="Neutral";s["Reject"]="Reject";s["Success"]="Success";s["Transparent"]="Transparent";s["Unstyled"]="Unstyled";s["Up"]="Up";})(s||(s={}));_.ButtonType=s;
function t(i,n){var o;var E={};var F=[];for(var G in i){var H=i[G];if(H.type===A.Menu){(function(){var J,K;var L=[];var N=(J=(K=H.menu)===null||K===void 0?void 0:K.map(function(O){var Q,R,T;var U=i[O];if(!U){U=n.find(function(U){return U.key===O;});}if(((Q=U)===null||Q===void 0?void 0:Q.visible)||((R=U)===null||R===void 0?void 0:R.type)===A.DataFieldForAction||((T=U)===null||T===void 0?void 0:T.type)===A.DataFieldForIntentBasedNavigation){L.push(U);}return O;}))!==null&&J!==void 0?J:[];if(L.length>1){H.menu=L;}else{N=[G];}F=[].concat(j(F),j(N));})();}E[G]=H;}(o=F)===null||o===void 0?void 0:o.forEach(function(G){return delete E[G];});return E;}
var u=function(i){var o={};i.forEach(function(n){var E;if(n===null||n===void 0?void 0:(E=n.menu)===null||E===void 0?void 0:E.length){n.menu.reduce(function(F,G){var H=G.key;if(H&&!F[H]){F[H]=true;}return F;},o);}});return i.filter(function(n){return!o[n.key];});};_.removeDuplicateActions=u;
function v(i,n,o,E,F){var G={};for(var H in i){var J,K,L;var N=i[H];var O=(J=N.press)===null||J===void 0?void 0:J.lastIndexOf(".");G[H]={id:h(H),visible:N.visible===undefined?"true":N.visible,enabled:N.enabled===undefined?"true":w(N.enabled,n),handlerModule:N.press&&N.press.substring(0,O).replace(/\./gi,"/"),handlerMethod:N.press&&N.press.substring(O+1),press:N.press,type:N.menu?A.Menu:A.Default,text:N.text,key:g(H),enableOnSelect:N.enableOnSelect,position:{anchor:(K=N.position)===null||K===void 0?void 0:K.anchor,placement:N.position===undefined?P.After:N.position.placement},isNavigable:z(N,E,F),requiresSelection:N.requiresSelection===undefined?false:N.requiresSelection,enableAutoScroll:D(N),menu:(L=N.menu)!==null&&L!==void 0?L:[]};}return t(G,o!==null&&o!==void 0?o:[]);}
_.getActionsFromManifest=v;
function w(i,n){var o=r(i,"boolean");if(a(o)&&typeof o.value==="boolean"){return o.value;}else if(o._type!=="EmbeddedBinding"){var E=o.value;return c(b([d("/","$view"),E,d("selectedContexts","internal")],f.customIsEnabledCheck,n.getAnnotationEntityType()));}else{return c(o);}}
function x(i){var n,o;if(!i){return"true";}if(!i.isBound){return"true";}var E=(n=i.annotations)===null||n===void 0?void 0:(o=n.Core)===null||o===void 0?void 0:o.OperationAvailable;if(E){var F=c(e(E));if(F){var G,H;var J=(G=i.parameters)===null||G===void 0?void 0:(H=G[0])===null||H===void 0?void 0:H.fullyQualifiedName;if(J){J=J.replace(i.fullyQualifiedName+"/","");F=F.replace(J+"/","");}return F;}return"true";}return"true";}
_.getEnabledBinding=x;
function y(i){var n=[];i.forEach(function(o){var E={"LocalProperty":{"$PropertyPath":o.LocalProperty.value},"SemanticObjectProperty":o.SemanticObjectProperty};n.push(E);});return n;}
_.getSemanticObjectMapping=y;
function z(i,n,o){var E,F;var G=true;if(o){var H=n&&(n.detail||n.display);G=(H===null||H===void 0?void 0:H.route)?true:false;}if(i&&i.afterExecution&&(((E=i.afterExecution)===null||E===void 0?void 0:E.navigateToInstance)===false||((F=i.afterExecution)===null||F===void 0?void 0:F.enableAutoScroll)===true)||!G){return false;}return true;}
_.isActionNavigable=z;
function D(i){var n;return(i===null||i===void 0?void 0:(n=i.afterExecution)===null||n===void 0?void 0:n.enableAutoScroll)===true;}
_.enableAutoScroll=D;return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/Common/Chart',["../../templates/BaseConverter","../../ManifestSettings","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/annotations/DataField","../../helpers/ID","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/templating/DataModelPathHelper"],function(B,M,A,D,I,C,K,a){"use strict";var _={};var g=a.getTargetObjectPath;var b=K.KeyHelper;var c=C.insertCustomElements;var F=I.FilterBarID;var d=I.ChartID;var e=D.isDataFieldForActionAbstract;var f=A.getActionsFromManifest;var h=M.ActionType;var V=M.VisualizationType;var T=B.TemplateType;
function j(n,i){return q(n)||p(n,i)||l(n,i)||k();}
function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function l(o,i){if(!o)return;if(typeof o==="string")return m(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(o,i);}
function m(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,v=new Array(o);i<o;i++){v[i]=n[i];}return v;}
function p(n,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(n)))return;var o=[];var v=true;var w=false;var x=undefined;try{for(var y=n[Symbol.iterator](),z;!(v=(z=y.next()).done);v=true){o.push(z.value);if(i&&o.length===i)break;}}catch(E){w=true;x=E;}finally{try{if(!v&&y["return"]!=null)y["return"]();}finally{if(w)throw x;}}return o;}
function q(i){if(Array.isArray(i))return i;}
function r(i,v,n){var o=[];if(i){var w=i.Actions||[];w.forEach(function(x){var y,z;var E;if(e(x)&&!(((y=x.annotations)===null||y===void 0?void 0:(z=y.UI)===null||z===void 0?void 0:z.Hidden)===true)&&!x.Inline&&!x.Determining){var G=b.generateKeyFromDataField(x);switch(x.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":E={type:h.DataFieldForAction,annotationPath:n.getEntitySetBasedAnnotationPath(x.fullyQualifiedName),key:G};break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":E={type:h.DataFieldForIntentBasedNavigation,annotationPath:n.getEntitySetBasedAnnotationPath(x.fullyQualifiedName),key:G};break;}}if(E){o.push(E);}});}return o;}
function s(i,v,n){return c(r(i,v,n),f(n.getManifestControlConfiguration(v).actions,n),{enableOnSelect:"overwrite"});}
_.getChartActions=s;
function t(v,i){var n;var o=i.getManifestWrapper();var w=i.getManifestControlConfiguration(v);var x=["Page","Control"].indexOf(o.getVariantManagement())>-1;var y=true;var P=[];if((w===null||w===void 0?void 0:(n=w.chartSettings)===null||n===void 0?void 0:n.personalization)!==undefined){y=w.chartSettings.personalization;}if(x&&y){if(y===true){return"Sort,Type,Item";}else if(typeof y==="object"){if(y.type){P.push("Type");}if(y.item){P.push("Item");}if(y.sort){P.push("Sort");}return P.join(",");}}return undefined;}
_.getP13nMode=t;
function u(i,v,n){var o,w,x;var y=s(i,v,n);var z=v.split("@"),E=j(z,1),G=E[0];if(G.lastIndexOf("/")===G.length-1){G=G.substr(0,G.length-1);}var H=(o=n.getDataModelObjectPath().targetEntityType.annotations)===null||o===void 0?void 0:(w=o.UI)===null||w===void 0?void 0:(x=w.HeaderInfo)===null||x===void 0?void 0:x.TypeNamePlural;var J=n.getDataModelObjectPath();var L=G.length===0;var N=J.targetEntitySet?J.targetEntitySet.name:J.startingEntitySet.name;var O=L?F(N):undefined;var P={"legendGroup":{"layout":{"position":"bottom"}}};return{type:V.Chart,id:d(L?N:G,V.Chart),collection:g(n.getDataModelObjectPath()),entityName:N,p13nMode:t(v,n),navigationPath:G,annotationPath:n.getAbsoluteAnnotationPath(v),filterId:O,vizProperties:JSON.stringify(P),actions:y,title:H,autoBindOnInit:n.getTemplateType()===T.ObjectPage};}
_.createChartVisualization=u;return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/Common/DataVisualization',["../../templates/BaseConverter","./Table","./Chart","sap/fe/core/converters/helpers/IssueManager"],function(B,T,C,I){"use strict";var _={};var a=I.IssueCategory;var b=I.IssueSeverity;var c=I.IssueType;var d=C.createChartVisualization;var e=T.createTableVisualization;var f=T.createDefaultTableVisualization;var g=B.TemplateType;var h=function(r,v,s){var t=[];var u=r.Visualizations||[];var w=v.split("@")[0];if(u){var x=false;var y=false;var z=false;u.forEach(function(A){switch(A.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":if(!x){if(!(s.getTemplateType()===g.ObjectPage&&z)){t.push({visualization:A.$target,annotationPath:"".concat(w).concat(A.value),converterContext:s});x=true;z=true;}}break;case"com.sap.vocabularies.UI.v1.Chart":if(!y&&(s.getTemplateType()===g.AnalyticalListPage&&!s.getManifestWrapper().getViewConfiguration()||s.getTemplateType()===g.ObjectPage&&!z)){t.push({visualization:A.$target,annotationPath:"".concat(w).concat(A.value),converterContext:s});y=true;z=true;}break;default:break;}});}return t;};
function i(r,s,t){if(s){var u=t.getEntityTypeAnnotation(s);var v=u.annotation;if(v){if(v.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){return v;}}else{throw new Error("Annotation Path for the SPV mentioned in the manifest is not found, Please add the SPV in the annotation");}}else{var w,x;return(w=r.annotations)===null||w===void 0?void 0:(x=w.UI)===null||x===void 0?void 0:x.SelectionPresentationVariant;}}
_.getSelectionPresentationVariant=i;
function j(S,r){var s=S&&S.PresentationVariant;if(s){return k(s,r);}}
_.isSelectionPresentationCompliant=j;
function k(r,s){var H=false,t=false;if(s){if(r&&r.Visualizations){var v=r.Visualizations;v.map(function(V){if(V.$target.term==="com.sap.vocabularies.UI.v1.LineItem"){H=true;}if(V.$target.term==="com.sap.vocabularies.UI.v1.Chart"){t=true;}});}return t&&H;}else{return r&&r.Visualizations&&!!r.Visualizations.find(function(u){return u.$target.term==="com.sap.vocabularies.UI.v1.LineItem";});}}
_.isPresentationCompliant=k;
function l(r){var s;return(s=r.annotations.UI)===null||s===void 0?void 0:s.LineItem;}
_.getDefaultLineItem=l;
function m(r){var s;return(s=r.annotations.UI)===null||s===void 0?void 0:s.Chart;}
_.getDefaultChart=m;
function n(r){var s,t;return(s=r.annotations)===null||s===void 0?void 0:(t=s.UI)===null||t===void 0?void 0:t.PresentationVariant;}
_.getDefaultPresentationVariant=n;
function o(r){var s,t;return(s=r.annotations)===null||s===void 0?void 0:(t=s.UI)===null||t===void 0?void 0:t.SelectionVariant;}
_.getDefaultSelectionVariant=o;
function p(r,s){var t=s.getManifestWrapper().getDefaultTemplateAnnotationPath();var u=i(r,t,s);var v;if(u){var w=u.SelectionVariant;if(w){return w;}}else{v=o(r);return v;}}
_.getSelectionVariant=p;
function q(v,r,s){var t=s.getEntityTypeAnnotation(v);var u=t.annotation;s=t.converterContext;var w=[];var x;var y="";var z,A;var D=u===null||u===void 0?void 0:u.term;if(D){switch(D){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":w.push({visualization:u,annotationPath:v,converterContext:s});break;case"com.sap.vocabularies.UI.v1.PresentationVariant":x=u;w=w.concat(h(u,v,s));break;case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":x=u.PresentationVariant;y=x.fullyQualifiedName;if(!k(x)){var E=s.getEntityType();var F=l(E);if(F){w.push({visualization:F,annotationPath:s.getRelativeAnnotationPath(F.fullyQualifiedName,E),converterContext:s});}}else{w=w.concat(h(x,v,s));}break;default:break;}w.map(function(G){var u=G.visualization,H=G.annotationPath,s=G.converterContext;switch(u.term){case"com.sap.vocabularies.UI.v1.Chart":z=d(u,H,s);break;case"com.sap.vocabularies.UI.v1.LineItem":default:A=e(u,H,s,x,r);break;}});}else{A=f(s);s.getDiagnostics().addIssue(a.Annotation,b.Medium,c.MISSING_LINEITEM);}var V=[];var P=D==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"?y:u&&u.fullyQualifiedName;if(P===undefined){P="/";}if(z){V.push(z);}if(A){V.push(A);}return{visualizations:V,annotationPath:s.getEntitySetBasedAnnotationPath(P)};}
_.getDataVisualizationConfiguration=q;return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/Common/Filter',["sap/fe/core/converters/controls/Common/DataVisualization"],function(D){"use strict";var _={};var g=D.getSelectionVariant;
function o(i,m){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);if(m)s=s.filter(function(p){return Object.getOwnPropertyDescriptor(i,p).enumerable;});n.push.apply(n,s);}return n;}
function a(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};if(i%2){o(Object(s),true).forEach(function(m){b(t,m,s[m]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(s));}else{o(Object(s)).forEach(function(m){Object.defineProperty(t,m,Object.getOwnPropertyDescriptor(s,m));});}}return t;}
function b(i,m,n){if(m in i){Object.defineProperty(i,m,{value:n,enumerable:true,configurable:true,writable:true});}else{i[m]=n;}return i;}
var v=["Edm.Boolean","Edm.Byte","Edm.Date","Edm.DateTime","Edm.DateTimeOffset","Edm.Decimal","Edm.Double","Edm.Float","Edm.Guid","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.String","Edm.Time","Edm.TimeOfDay"];var e={"Contains":"NotContains","StartsWith":"NotStartsWith","EndsWith":"NotEndsWith","Empty":"NotEmpty","NotEmpty":"Empty","LE":"NOTLE","GE":"NOTGE","LT":"NOTLT","GT":"NOTGT","BT":"NOTBT","NE":"EQ","EQ":"NE"};
function c(V,t){var i;if(v.indexOf(t)>-1){i=V;if(t==="Edm.Boolean"){i=V==="true"||(V==="false"?false:undefined);}else if(t==="Edm.Double"||t==="Edm.Single"){i=isNaN(V)?undefined:parseFloat(V);}else if(t==="Edm.Byte"||t==="Edm.Int16"||t==="Edm.Int32"||t==="Edm.SByte"){i=isNaN(V)?undefined:parseInt(V,10);}else if(t==="Edm.Date"){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:V.match(/^(\d{8})/)&&V.match(/^(\d{8})/)[0];}else if(t==="Edm.DateTimeOffset"){if(V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0];}else if(V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]+"+0000";}else if(V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){i=V.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]+"T00:00:00+0000";}else if(V.indexOf("Z")===V.length-1){i=V.split("Z")[0]+"+0100";}else{i=undefined;}}else if(t==="Edm.TimeOfDay"){i=V.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?V.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]:undefined;}}return i;}
_.getTypeCompliantValue=c;
function d(O,V,i,s){var m=V,n,I;var C={};C.values=[];C.isEmpty=null;if(V===undefined||V===null){return;}switch(O){case"CP":I="Contains";if(m){var p=m.indexOf("*");var q=m.lastIndexOf("*");if(p>-1){if(p===0&&q!==m.length-1){I="EndsWith";m=m.substring(1,m.length);}else if(p!==0&&q===m.length-1){I="StartsWith";m=m.substring(0,m.length-1);}else{m=m.substring(1,m.length-1);}}else{return;}}break;case"EQ":I=V===""?"Empty":O;break;case"NE":I=V===""?"NotEmpty":O;break;case"BT":if(i===undefined||i===null){return;}n=i;I=O;break;case"LE":case"GE":case"GT":case"LT":I=O;break;default:return;}if(s==="E"){I=e[I];}C.operator=I;if(I!=="Empty"){C.values.push(m);if(n){C.values.push(n);}}return C;}
_.createConditions=d;
function f(O){return O.split("/")[1];}
_.getOperator=f;
function h(m,s){var n={};if(s){var S=s.SelectOptions;var V=m.entityProperties;S===null||S===void 0?void 0:S.forEach(function(p){var q=p.PropertyName;var P=q.value;var R=p.Ranges;for(var i=0;i<V.length;i++){if(P===V[i].name){(function(){var r=V[i];var C=[];R===null||R===void 0?void 0:R.forEach(function(t){var u=t.Sign;var O=t.Option?f(t.Option):undefined;var w=c(t.Low,r.type);var x=t.High?c(t.High,r.type):undefined;if((w!==undefined||w!==null)&&O){var y=d(O,w,x,u);C.push(y);if(C.length){n[P]=C;}}});})();}}});}return n;}
var j=function(i){var p=i.entityProperties;var m={};if(p){p.forEach(function(n){var q,r;var s=(q=n.annotations)===null||q===void 0?void 0:(r=q.Common)===null||r===void 0?void 0:r.FilterDefaultValue;if(s){var P=n.name;m[P]=[{operator:"EQ",values:[s]}];}});}return m;};
function k(i,m){var n,p,q;var r={};var t=(n=m.getEntitySetForEntityType(i))===null||n===void 0?void 0:n.annotations;if((t===null||t===void 0?void 0:(p=t.Common)===null||p===void 0?void 0:p.DraftRoot)||(t===null||t===void 0?void 0:(q=t.Common)===null||q===void 0?void 0:q.DraftNode)){r["$editState"]=[{operator:"DRAFT_EDIT_STATE",values:["ALL"]}];}return r;}
function l(i,m){var n={};var s=g(i,m);var p=k(i,m);var q=j(i);if(s||s&&q){n=h(i,s);}else if(q){n=q;}if(p){n=a({},n,{},p);}return n;}
_.getFilterConditions=l;return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/Common/Form',["../../helpers/ConfigurableObject","../../helpers/ID","../../helpers/Key","sap/fe/core/converters/annotations/DataField"],function(C,I,K,D){"use strict";var _={};var g=D.getSemanticObjectPath;var a=K.KeyHelper;var F=I.FormID;var P=C.Placement;var i=C.insertCustomElements;var b;(function(b){b["Default"]="Default";b["Annotation"]="Annotation";})(b||(b={}));_.FormElementType=b;
function c(k,l){var m=[];var r=l.getEntityTypeAnnotation(k.Target.value);var n=r.annotation;l=r.converterContext;switch(n===null||n===void 0?void 0:n.term){case"com.sap.vocabularies.UI.v1.FieldGroup":n.Data.forEach(function(o){var s=g(l,o);m.push({key:a.generateKeyFromDataField(o),type:b.Annotation,annotationPath:l.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)+"/",semanticObjectPath:s});});break;case"com.sap.vocabularies.UI.v1.Identification":n.forEach(function(o){var s=g(l,o);m.push({key:a.generateKeyFromDataField(o),type:b.Annotation,annotationPath:l.getEntitySetBasedAnnotationPath(o.fullyQualifiedName)+"/",semanticObjectPath:s});});break;default:break;}return m;}
function d(k,l){var m=l.getManifestWrapper();var n=m.getFormContainer(k);var o={};if(n===null||n===void 0?void 0:n.fields){Object.keys(n===null||n===void 0?void 0:n.fields).forEach(function(p){o[p]={key:p,type:b.Default,template:n.fields[p].template,label:n.fields[p].label,position:n.fields[p].position||{placement:P.After}};});}return o;}
_.getFormElementsFromManifest=d;
function e(k,l){return{id:k.ID,formElements:i(c(k,l),d(k,l))};}
function f(k,l){var m;var n=[];(m=k.Facets)===null||m===void 0?void 0:m.forEach(function(o){if(o.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){return;}n.push(e(o,l));});return n;}
function h(k){return k.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet";}
_.isReferenceFacet=h;
function j(k,l){var m,n;switch(k.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":var o={id:F({Facet:k}),useFormContainerLabels:true,hasFacetsNotPartOfPreview:k.Facets.some(function(q){var r,s;return((r=q.annotations)===null||r===void 0?void 0:(s=r.UI)===null||s===void 0?void 0:s.PartOfPreview)===false;}),formContainers:f(k,l)};return o;case"com.sap.vocabularies.UI.v1.ReferenceFacet":var p={id:F({Facet:k}),useFormContainerLabels:false,hasFacetsNotPartOfPreview:((m=k.annotations)===null||m===void 0?void 0:(n=m.UI)===null||n===void 0?void 0:n.PartOfPreview)===false,formContainers:[e(k,l)]};return p;default:throw new Error("Cannot create form based on ReferenceURLFacet");}}
_.createFormDefinition=j;return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/Common/Table',["../../ManifestSettings","../../templates/BaseConverter","../../helpers/ID","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/annotations/DataField","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/converters/helpers/Key","sap/fe/core/formatters/TableFormatter","sap/fe/core/formatters/TableFormatterTypes","sap/fe/core/templating/DataModelPathHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/converters/helpers/IssueManager","sap/fe/core/templating/PropertyHelper","../../helpers/Aggregation"],function(M,B,I,A,C,D,a,b,K,t,T,c,S,d,P,e){"use strict";var _={};var f=e.AggregationHelper;var g=P.isProperty;var h=d.IssueType;var j=d.IssueSeverity;var k=d.IssueCategory;var r=S.replaceSpecialChars;var l=c.isPathInsertable;var m=c.isPathDeletable;var p=c.getTargetObjectPath;var q=T.MessageType;var s=K.KeyHelper;var U=b.UI;var u=b.Draft;var v=a.not;var w=a.and;var x=a.isConstant;var y=a.equal;var z=a.or;var E=a.ifElse;var F=a.formatResult;var G=a.constant;var H=a.compileBinding;var J=a.bindingExpression;var L=a.annotationExpression;var N=D.getSemanticObjectPath;var O=D.isDataFieldTypes;var Q=D.isDataFieldForActionAbstract;var R=D.isDataFieldAlwaysHidden;var V=D.collectRelatedProperties;var W=C.Placement;var X=C.insertCustomElements;var Y=A.removeDuplicateActions;var Z=A.isActionNavigable;var $=A.getActionsFromManifest;var a1=I.TableID;var b1=B.TemplateType;var c1=M.VisualizationType;var d1=M.VariantManagementType;var e1=M.SelectionMode;var f1=M.HorizontalAlign;var g1=M.CreationMode;var h1=M.AvailabilityType;var i1=M.ActionType;
function j1(n,i){return o1(n)||n1(n,i)||l1(n,i)||k1();}
function k1(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function l1(o,i){if(!o)return;if(typeof o==="string")return m1(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(o,i);}
function m1(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,$1=new Array(o);i<o;i++){$1[i]=n[i];}return $1;}
function n1(n,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(n)))return;var o=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=n[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){o.push(_s.value);if(i&&o.length===i)break;}}catch($1){_d=true;_e=$1;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return o;}
function o1(i){if(Array.isArray(i))return i;}
function p1(o,i,n){if(i in o){Object.defineProperty(o,i,{value:n,enumerable:true,configurable:true,writable:true});}else{o[i]=n;}return o;}
var q1;(function(q1){q1["Default"]="Default";q1["Annotation"]="Annotation";})(q1||(q1={}));
function r1(i,n,o,$1){var _1=z1(i,n,o);return X(_1,$(o.getManifestControlConfiguration(n).actions,o,_1,$1,true),{isNavigable:"overwrite",enableOnSelect:"overwrite",enableAutoScroll:"overwrite"});}
_.getTableActions=r1;
function s1(i,n,o,$1){var _1=M1(i,n,o);var a2=O1(o.getManifestControlConfiguration(n).columns,_1,o,o.getAnnotationEntityType(i),$1);return X(_1,a2,{width:"overwrite",isNavigable:"overwrite",availability:"overwrite",settings:"overwrite"});}
_.getTableColumns=s1;
function t1(i,n,o,$1,_1){var a2=Z1(i,n,o,_1);var b2=X1(n),c2=b2.navigationPropertyPath;var d2=o.getDataModelObjectPath();var e2=d2.targetEntitySet?d2.targetEntitySet.name:d2.startingEntitySet.name,f2=c2.length===0;var g2=f2?e2:c2;var h2=o.getManifestWrapper().getNavigationConfiguration(g2);var i2=s1(i,n,o,h2);return{type:c1.Table,annotation:V1(i,n,o,a2,i2,$1),control:a2,actions:Y(r1(i,n,o,h2)),columns:i2};}
_.createTableVisualization=t1;
function u1(i){var n=Z1(undefined,"",i,false);var o=E1(i.getEntityType(),[],[],i);return{type:c1.Table,annotation:V1(undefined,"",i,n,o),control:n,actions:[],columns:o};}
_.createDefaultTableVisualization=u1;
function v1(i){return i.some(function(n){if(n.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return n.Inline!==true;}else if(n.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){return n.Inline!==true&&n.RequiresContext;}});}
function w1(i){var n=false;if(i){n=Object.keys(i).some(function(o){var $1=i[o];return $1.requiresSelection===true;});}return n;}
function x1(i,n){var o=X1(i),$1=o.navigationPropertyPath;var _1=$1.split("/");var a2={isDeletable:true,isUpdatable:true};var b2=n.getEntitySet();var c2=function(){var h2,i2;var j2=[];_1.reduce(function(o2,p2){if(o2.length>0){o2+="/";}o2+=p2;j2.push(o2);return o2;},"");var k2=false,l2=false;(h2=b2.annotations.Capabilities)===null||h2===void 0?void 0:(i2=h2.NavigationRestrictions)===null||i2===void 0?void 0:i2.RestrictedProperties.forEach(function(o2){var p2;if((o2===null||o2===void 0?void 0:(p2=o2.NavigationProperty)===null||p2===void 0?void 0:p2.type)==="NavigationPropertyPath"){var q2,r2;if(((q2=o2.DeleteRestrictions)===null||q2===void 0?void 0:q2.Deletable)===false){k2=k2||j2.indexOf(o2.NavigationProperty.value)!==-1;}else if(((r2=o2.UpdateRestrictions)===null||r2===void 0?void 0:r2.Updatable)===false){l2=l2||j2.indexOf(o2.NavigationProperty.value)!==-1;}}});a2.isDeletable=!k2;a2.isUpdatable=!l2;var m2=_1.shift();if(m2){var n2=b2.entityType.navigationProperties.find(function(n2){return n2.name==m2;});if(n2&&!n2.containsTarget&&b2.navigationPropertyBinding.hasOwnProperty(m2)){b2=b2.navigationPropertyBinding[m2];}else{b2=undefined;}}};while((a2.isDeletable||a2.isUpdatable)&&b2&&_1.length>0){c2();}if(b2!==undefined&&b2.annotations){if(a2.isDeletable){var d2,e2;a2.isDeletable=((d2=b2.annotations.Capabilities)===null||d2===void 0?void 0:(e2=d2.DeleteRestrictions)===null||e2===void 0?void 0:e2.Deletable)!==false;}if(a2.isUpdatable){var f2,g2;a2.isUpdatable=((f2=b2.annotations.Capabilities)===null||f2===void 0?void 0:(g2=f2.UpdateRestrictions)===null||g2===void 0?void 0:g2.Updatable)!==false;}}return a2;}
_.getCapabilityRestriction=x1;
function y1(i,n,o,$1,_1){var a2;if(!i){return e1.None;}var b2=o.getManifestControlConfiguration(n);var c2=(a2=b2.tableSettings)===null||a2===void 0?void 0:a2.selectionMode;var d2=$(o.getManifestControlConfiguration(n).actions,o,[],undefined,false);var e2,f2;if(o.getTemplateType()===b1.ObjectPage){e2=m(o.getDataModelObjectPath(),undefined);f2=e2?H(e2,true):e2;}if(c2&&c2===e1.None){if(_1.isDeletable||f2!=="false"){return"{= ${ui>/editMode} === 'Editable' ? '"+e1.Multi+"' : 'None'}";}else{c2=e1.None;}}else if(!c2||c2===e1.Auto){c2=e1.Multi;}if(v1(i)||w1(d2)){return c2;}else if(_1.isDeletable||f2!=="false"){if(!$1){return"{= ${ui>/editMode} === 'Editable' ? '"+c2+"' : 'None'}";}else{return c2;}}return e1.None;}
function z1(i,n,o){var $1=[];if(i){i.forEach(function(_1){var a2,b2;var c2;if(Q(_1)&&!(((a2=_1.annotations)===null||a2===void 0?void 0:(b2=a2.UI)===null||b2===void 0?void 0:b2.Hidden)===true)&&!_1.Inline&&!_1.Determining){var d2=s.generateKeyFromDataField(_1);switch(_1.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":c2={type:i1.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(_1.fullyQualifiedName),key:d2,isNavigable:true};break;case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":c2={type:i1.DataFieldForIntentBasedNavigation,annotationPath:o.getEntitySetBasedAnnotationPath(_1.fullyQualifiedName),key:d2};break;default:break;}}if(c2){$1.push(c2);}});}return $1;}
function A1(i){var n;switch(i){case"UI.CriticalityType/Negative":n=q.Error;break;case"UI.CriticalityType/Critical":n=q.Warning;break;case"UI.CriticalityType/Positive":n=q.Success;break;case"UI.CriticalityType/Information":n=q.Information;break;case"UI.CriticalityType/Neutral":default:n=q.None;}return n;}
function B1(i,n){var o=q.None;if(i){if(typeof i==="object"){o=L(i);}else{o=A1(i);}}return E(n&&u.IsNewObject,q.Information,F([o],t.rowHighlighting));}
function C1(i,n,o,$1){var _1=($1===null||$1===void 0?void 0:$1.create)||($1===null||$1===void 0?void 0:$1.detail);if((_1===null||_1===void 0?void 0:_1.outbound)&&_1.outboundDetail&&($1===null||$1===void 0?void 0:$1.create)){return{mode:"External",outbound:_1.outbound,outboundDetail:_1.outboundDetail,navigationSettings:$1};}var a2;if(i){var b2,c2,d2,e2,f2;var g2=o.getAnnotationEntityType(i);var h2=(b2=o.getEntitySetForEntityType(g2))===null||b2===void 0?void 0:b2.annotations;a2=(h2===null||h2===void 0?void 0:(c2=h2.Common)===null||c2===void 0?void 0:(d2=c2.DraftRoot)===null||d2===void 0?void 0:d2.NewAction)||(h2===null||h2===void 0?void 0:(e2=h2.Session)===null||e2===void 0?void 0:(f2=e2.StickySessionSupported)===null||f2===void 0?void 0:f2.NewAction);if(n.creationMode===g1.CreationRow&&a2){throw Error("Creation mode '".concat(g1.CreationRow,"' can not be used with a custom 'new' action (").concat(a2,")"));}if(_1===null||_1===void 0?void 0:_1.route){return{mode:n.creationMode,append:n.createAtEnd,newAction:a2,navigateToTarget:n.creationMode===g1.NewPage?_1.route:undefined};}}if(n.creationMode===g1.NewPage){n.creationMode=g1.Inline;}return{mode:n.creationMode,append:n.createAtEnd,newAction:a2};}
var D1=function(i,n,o,$1,_1){var a2,b2;var c2=q.None;var d2=o.getAnnotationEntityType(i);if($1&&i){var e2,f2;b2=((e2=$1.display)===null||e2===void 0?void 0:e2.target)||((f2=$1.detail)===null||f2===void 0?void 0:f2.outbound);if(b2){a2=".handlers.onChevronPressNavigateOutBound( $controller ,'"+b2+"', ${$parameters>bindingContext})";}else if(d2){var g2;var h2=o.getEntitySetForEntityType(d2);b2=(g2=$1.detail)===null||g2===void 0?void 0:g2.route;if(b2){var i2,j2,k2,l2,m2,n2,o2,p2,q2,r2;c2=B1((i2=i.annotations)===null||i2===void 0?void 0:(j2=i2.UI)===null||j2===void 0?void 0:j2.Criticality,!!(h2===null||h2===void 0?void 0:(k2=h2.annotations)===null||k2===void 0?void 0:(l2=k2.Common)===null||l2===void 0?void 0:l2.DraftRoot)||!!(h2===null||h2===void 0?void 0:(m2=h2.annotations)===null||m2===void 0?void 0:(n2=m2.Common)===null||n2===void 0?void 0:n2.DraftNode));a2="._routing.navigateForwardToContext(${$parameters>bindingContext}, { callExtension: true, targetPath: '"+_1+"', editable : "+((h2===null||h2===void 0?void 0:(o2=h2.annotations)===null||o2===void 0?void 0:(p2=o2.Common)===null||p2===void 0?void 0:p2.DraftRoot)||(h2===null||h2===void 0?void 0:(q2=h2.annotations)===null||q2===void 0?void 0:(r2=q2.Common)===null||r2===void 0?void 0:r2.DraftNode)?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+"})";}else{var s2,t2;c2=B1((s2=i.annotations)===null||s2===void 0?void 0:(t2=s2.UI)===null||t2===void 0?void 0:t2.Criticality,false);}}}var u2=F([J("/deepestPath","internal")],t.navigatedRow,d2);return{press:a2,action:a2?"Navigation":undefined,rowHighlighting:H(c2),rowNavigated:H(u2)};};var E1=function(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var o=arguments.length>2?arguments[2]:undefined;var $1=arguments.length>3?arguments[3]:undefined;var _1=[];var a2=new f(i,$1);i.entityProperties.forEach(function(b2){var c2=n.some(function(d2){return d2.name===b2.name;});if(!b2.targetType&&!c2){_1.push(F1(b2,$1.getEntitySetBasedAnnotationPath(b2.fullyQualifiedName),b2.name,true,true,o,a2,$1));}});return _1;};_.getColumnsFromEntityType=E1;var F1=function(i,n,o,$1,_1,a2,b2,c2,d2){var e2,f2;var g2=$1?o:"Property::"+o;var h2=($1?"DataField::":"Property::")+r(o);var i2=N(c2,i.fullyQualifiedName);var j2=((e2=i.annotations)===null||e2===void 0?void 0:(f2=e2.UI)===null||f2===void 0?void 0:f2.Hidden)===true;var k2=L1(i.name,true,false);var l2=k2!=i.name;var m2=d2?H1(d2):undefined;return{key:h2,isKey:i.isKey,isGroupable:b2.isPropertyGroupable(i),type:q1.Annotation,label:H1(i,l2),groupLabel:l2?H1(i):null,group:l2?k2:null,annotationPath:n,semanticObjectPath:i2,availability:!_1||j2?h1.Hidden:h1.Adaptation,name:g2,relativePath:o,sortable:!j2&&a2.indexOf(o)===-1,exportSettings:{label:m2?m2+" - "+H1(i):undefined}};};var G1=function(i){switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":return!!i.Inline;case"com.sap.vocabularies.UI.v1.DataFieldWithAction":case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":return false;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":return true;default:}};var H1=function(i){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!i){return undefined;}if(g(i)){var o,$1,_1;return((o=i.annotations)===null||o===void 0?void 0:($1=o.Common)===null||$1===void 0?void 0:(_1=$1.Label)===null||_1===void 0?void 0:_1.toString())||i.name;}else if(O(i)){var a2,b2,c2,d2,e2,f2;if(!!n&&i.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){return H(L(i.Label));}return((a2=i.Value)===null||a2===void 0?void 0:(b2=a2.$target)===null||b2===void 0?void 0:(c2=b2.annotations)===null||c2===void 0?void 0:(d2=c2.Common)===null||d2===void 0?void 0:d2.Label)||i.Label||((e2=i.Value)===null||e2===void 0?void 0:(f2=e2.$target)===null||f2===void 0?void 0:f2.name);}else{return H(L(i.Label));}};var I1=function(i,n,o,$1,_1){var a2=[];var b2={};var c2=new f(_1,$1);Object.keys(i).forEach(function(d2){var e2=i[d2],f2=e2.value,g2=e2.description,h2=$1.getAbsoluteAnnotationPath(d2),i2=n.find(function(k2){return k2.name===d2;});if(i2===undefined){a2.push(F1(f2,h2,d2,true,false,o,c2,$1,g2));}else if(i2.annotationPath!==h2){var j2="Property::"+d2;if(!n.some(function(k2){return k2.name===j2;})){a2.push(F1(f2,h2,d2,false,false,o,c2,$1));b2[d2]=j2;}}});n.forEach(function(d2){var e2;d2.propertyInfos=(e2=d2.propertyInfos)===null||e2===void 0?void 0:e2.map(function(f2){var g2;return(g2=b2[f2])!==null&&g2!==void 0?g2:f2;});});return a2;};var J1=function(i){var n,o,$1;if(O(i)){var _1;return(_1=i.Value)===null||_1===void 0?void 0:_1.path;}else if(i.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&((n=i.Target)===null||n===void 0?void 0:(o=n.$target)===null||o===void 0?void 0:($1=o.Value)===null||$1===void 0?void 0:$1.path)){return i.Target.$target.Value.path;}else{return s.generateKeyFromDataField(i);}};var K1=function(i){var n,o,$1,_1;var a2="";switch(i.$Type){case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":a2=(n=i)===null||n===void 0?void 0:(o=n.Value)===null||o===void 0?void 0:o.path;break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":a2=($1=i)===null||$1===void 0?void 0:(_1=$1.Target)===null||_1===void 0?void 0:_1.value;break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":a2=s.generateKeyFromDataField(i);break;}return a2;};var L1=function(i,n,o){var $1=n?i.lastIndexOf("/"):i.indexOf("/");if($1===-1){return i;}return o?i.substring($1+1,i.length):i.substring(0,$1);};var M1=function(i,n,o){var $1,_1,a2,b2,c2,d2;var e2=o.getAnnotationEntityType(i),f2=[],g2={},h2=($1=(_1=(a2=o.getEntitySet())===null||a2===void 0?void 0:(b2=a2.annotations)===null||b2===void 0?void 0:(c2=b2.Capabilities)===null||c2===void 0?void 0:(d2=c2.SortRestrictions)===null||d2===void 0?void 0:d2.NonSortableProperties)===null||_1===void 0?void 0:_1.map(function(k2){return k2.value;}))!==null&&$1!==void 0?$1:[];if(i){i.forEach(function(k2){var l2,m2,n2,o2,p2;if(!G1(k2)){return;}var q2=O(k2)&&((l2=k2.Value)===null||l2===void 0?void 0:(m2=l2.$target)===null||m2===void 0?void 0:m2.fullyQualifiedName)?N(o,k2):undefined;var r2=K1(k2);var s2=V(k2,o);var t2=Object.keys(s2.properties);var u2=L1(r2,true,false);var v2=u2!=r2;f2.push({annotationPath:o.getEntitySetBasedAnnotationPath(k2.fullyQualifiedName),semanticObjectPath:q2,type:q1.Annotation,key:s.generateKeyFromDataField(k2),width:((n2=k2.annotations)===null||n2===void 0?void 0:(o2=n2.HTML5)===null||o2===void 0?void 0:(p2=o2.CssDefaults)===null||p2===void 0?void 0:p2.width)||undefined,availability:R(k2)?h1.Hidden:h1.Default,propertyInfos:t2.length>0?t2:undefined,name:J1(k2),groupLabel:v2?H1(k2):null,group:v2?u2:null,label:H1(k2,v2),relativePath:r2,isNavigable:true,sortable:k2.$Type==="com.sap.vocabularies.UI.v1.DataField"&&h2.indexOf(r2)===-1,exportSettings:{template:s2.exportSettingsTemplate}});t2.forEach(function(w2){g2[w2]=s2.properties[w2];});});}var i2=E1(e2,f2,h2,o);i2=i2.concat(f2);var j2=I1(g2,i2,h2,o,e2);i2=i2.concat(j2);return i2;};var N1=function(i,n,o,$1){var _1;if(i){_1=i.map(function(a2){var b2=n.find(function(b2){return b2.relativePath===a2&&b2.propertyInfos===undefined;});if(b2){return b2.name;}else{var c2=I1(p1({},a2,{value:$1.resolvePath(a2)}),n,[],o,$1);n.push(c2[0]);return c2[0].name;}});}return _1;};var O1=function(i,n,o,$1,_1){var a2={};for(var b2 in i){var c2;var d2=i[b2];s.validateKey(b2);a2[b2]={key:b2,id:"CustomColumn::"+b2,name:"CustomColumn::"+b2,header:d2.header,width:d2.width||undefined,horizontalAlign:d2.horizontalAlign===undefined?f1.Begin:d2.horizontalAlign,type:q1.Default,availability:d2.availability||h1.Default,template:d2.template||"undefined",position:{anchor:(c2=d2.position)===null||c2===void 0?void 0:c2.anchor,placement:d2.position===undefined?W.After:d2.position.placement},isNavigable:Z(d2,_1,true),settings:d2.settings,sortable:false,propertyInfos:N1(d2.properties,n,o,$1)};}return a2;};
function P1(i,n){var o=n.getManifestWrapper();var $1=n.getManifestControlConfiguration(i);var _1=o.getVariantManagement();var a2=["Page","Control"].indexOf(_1)>-1;var b2=[];if(a2){var c2;if(($1===null||$1===void 0?void 0:(c2=$1.tableSettings)===null||c2===void 0?void 0:c2.personalization)!==undefined){var d2=$1.tableSettings.personalization;if(d2===true){return"Sort,Column,Filter";}else if(typeof d2==="object"){if(d2.sort){b2.push("Sort");}if(d2.column){b2.push("Column");}if(d2.filter){b2.push("Filter");}return b2.length>0?b2.join(","):undefined;}}else{b2.push("Sort");b2.push("Column");if(_1===d1.Control){b2.push("Filter");}return b2.join(",");}}return undefined;}
_.getP13nMode=P1;
function Q1(i,n){var o=false;if(i&&n){var $1,_1,a2;var b2=($1=i.navigationPropertyBinding[n])===null||$1===void 0?void 0:(_1=$1.annotations)===null||_1===void 0?void 0:(a2=_1.UI)===null||a2===void 0?void 0:a2.DeleteHidden;if(b2&&b2.path){if(b2.path.indexOf("/")>0){var c2=b2.path.split("/");var d2=c2[0];var e2=i.entityType.navigationProperties.find(function(h2){return h2.name===n;}).partner;if(e2===d2){o=b2;}}else{o=false;}}else{o=b2;}}else{var f2,g2;o=i&&((f2=i.annotations)===null||f2===void 0?void 0:(g2=f2.UI)===null||g2===void 0?void 0:g2.DeleteHidden);}return o;}
function R1(i,n,o){var $1=i.getEntitySet();var _1=Q1($1,n);var a2,b2;if(i.getTemplateType()===b1.ObjectPage){a2=m(i.getDataModelObjectPath(),n);b2=a2?H(a2):a2;}if(b2==="false"){return false;}else if(b2&&_1!==true){if(_1){return"{= !${"+(n?n+"/":"")+_1.path+"} && ${ui>/editMode} === 'Editable'}";}else{return"{= ${ui>/editMode} === 'Editable'}";}}else if(_1===true||!o||i.getTemplateType()===b1.AnalyticalListPage){return false;}else if(i.getTemplateType()!==b1.ListReport){if(_1){return"{= !${"+(n?n+"/":"")+_1.path+"} && ${ui>/editMode} === 'Editable'}";}else{return"{= ${ui>/editMode} === 'Editable'}";}}else{return true;}}
_.getDeleteVisible=R1;
function S1(i,n,o){var $1,_1,a2,b2,c2;var d2=i.getEntitySet();var e2=i.getDataModelObjectPath();var f2=d2?L((d2===null||d2===void 0?void 0:($1=d2.annotations.UI)===null||$1===void 0?void 0:$1.CreateHidden)||false,e2.navigationProperties.map(function(i2){return i2.name;})):G(false);var g2=d2===null||d2===void 0?void 0:(_1=d2.annotations.Common)===null||_1===void 0?void 0:(a2=_1.DraftRoot)===null||a2===void 0?void 0:a2.NewAction;var h2=g2?L(i===null||i===void 0?void 0:(b2=i.getEntityType().actions[g2].annotations)===null||b2===void 0?void 0:(c2=b2.Core)===null||c2===void 0?void 0:c2.OperationAvailable,[],true):undefined;return E(z(z(y(h2,false),w(x(o),y(o,false),y(h2,undefined))),x(f2)&&y(f2,true),i.getTemplateType()===b1.AnalyticalListPage),false,E(z(n==="External",i.getTemplateType()===b1.ListReport),true,w(v(f2),U.IsEditable)));}
_.getCreateVisible=S1;
function T1(i,n,o){return E(y(S1(i,n.mode,o),true),i.getTemplateType()===b1.ObjectPage&&o,false);}
_.getPasteEnabled=T1;
function U1(i,n){var o;if(i===null||i===void 0?void 0:i.SortOrder){var $1=[];var _1={sorters:$1};i.SortOrder.forEach(function(a2){var b2,c2,d2,e2;var f2=(b2=a2.Property)===null||b2===void 0?void 0:(c2=b2.$target)===null||c2===void 0?void 0:c2.name;var g2=n.find(function(h2){return h2.name===f2;});g2===null||g2===void 0?void 0:(d2=g2.propertyInfos)===null||d2===void 0?void 0:d2.forEach(function(h2){_1.sorters.push({name:h2,descending:!!a2.Descending});});if(!(g2===null||g2===void 0?void 0:(e2=g2.propertyInfos)===null||e2===void 0?void 0:e2.length)){_1.sorters.push({name:f2,descending:!!a2.Descending});}});o=_1.sorters.length?JSON.stringify(_1):undefined;}return o;}
function V1(i,n,o,$1,_1,a2){var b2,c2,d2;var e2=X1(n),f2=e2.navigationPropertyPath;var g2=(b2=o.getDataModelObjectPath().targetEntityType.annotations)===null||b2===void 0?void 0:(c2=b2.UI)===null||c2===void 0?void 0:(d2=c2.HeaderInfo)===null||d2===void 0?void 0:d2.TypeNamePlural;var h2=o.getDataModelObjectPath().startingEntitySet;var i2=o.getManifestWrapper();var j2=f2.length===0,k2=P1(n,o),id=j2&&h2?a1(h2.name,"LineItem"):a1(n);var m2=x1(n,o.getConverterContextFor(h2));var n2=y1(i,n,o,j2,m2);var o2=j2?30:10;if(a2===null||a2===void 0?void 0:a2.MaxItems){o2=a2.MaxItems;}var p2=j2&&h2?h2.name:f2;var q2=i2.getNavigationConfiguration(p2);var r2=C1(i,$1,o,q2);var s2,t2;if(o.getTemplateType()===b1.ObjectPage){var u2;s2=m(o.getDataModelObjectPath(),undefined,true);if((u2=s2)===null||u2===void 0?void 0:u2.currentEntityRestriction){t2=undefined;}else{t2=s2?H(s2,true):s2;}}var v2=o.getDataModelObjectPath();var w2=l(v2);return{id:id,entityName:h2?h2.name:"",collection:p(o.getDataModelObjectPath()),navigationPath:f2,isEntitySet:j2,row:D1(i,n,o,q2,p2),p13nMode:k2,show:{"delete":R1(o,f2,m2.isDeletable),create:H(S1(o,r2===null||r2===void 0?void 0:r2.mode,w2)),paste:H(T1(o,r2,w2))},displayMode:W1(o),create:r2,selectionMode:n2,autoBindOnInit:o.getTemplateType()===b1.ObjectPage,enableControlVM:i2.getVariantManagement()==="Control"&&!!k2,threshold:o2,sortConditions:U1(a2,_1),parentEntityDeleteEnabled:t2,title:g2};}
_.getTableAnnotationConfiguration=V1;
function W1(i){var n=i.getTemplateType();if(n===b1.AnalyticalListPage||n===b1.ListReport){return true;}return false;}
function X1(i){var n=i.split("@"),o=j1(n,2),$1=o[0],_1=o[1];if($1.lastIndexOf("/")===$1.length-1){$1=$1.substr(0,$1.length-1);}return{navigationPropertyPath:$1,annotationPath:_1};}
function Y1(i,n){var o=n.getEntityTypeAnnotation(i);var $1=o.annotation;if($1){var _1;var a2=[];(_1=$1.SelectOptions)===null||_1===void 0?void 0:_1.forEach(function(b2){var c2=b2.PropertyName;var d2=c2.value;if(a2.indexOf(d2)===-1){a2.push(d2);}});return{text:$1.Text,propertyNames:a2};}return undefined;}
_.getSelectionVariantConfiguration=Y1;
function Z1(i,n,o){var $1=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var _1=o.getManifestControlConfiguration(n);var a2=_1.tableSettings;var b2;var c2=[];var d2=true;var e2=g1.NewPage;var f2;var g2=true;var h2=false;var i2=false;var j2=false;var k2="ResponsiveTable";var l2=false;var m2=200;var n2=o.getTemplateType()==="ObjectPage";var o2=o.getShellServices();var p2=o2===null||o2===void 0?void 0:o2.getContentDensity();var q2=o.getManifestWrapper().getContentDensities();if((q2===null||q2===void 0?void 0:q2.cozy)===true&&(q2===null||q2===void 0?void 0:q2.compact)!==true||p2==="cozy"){$1=false;}if(a2&&i){var r2,s2,t2,u2,v2,w2,x2;var y2=o.getAnnotationEntityType(i);a2===null||a2===void 0?void 0:(r2=a2.quickVariantSelection)===null||r2===void 0?void 0:(s2=r2.paths)===null||s2===void 0?void 0:s2.forEach(function(z2){var A2;b2=y2.resolvePath("@"+z2.annotationPath);if(b2){c2.push({annotationPath:z2.annotationPath});}f2={quickFilters:{enabled:o.getTemplateType()===b1.ListReport?"{= ${pageInternal>hasPendingFilters} !== true}":true,showCounts:a2===null||a2===void 0?void 0:(A2=a2.quickVariantSelection)===null||A2===void 0?void 0:A2.showCounts,paths:c2}};});e2=((t2=a2.creationMode)===null||t2===void 0?void 0:t2.name)||e2;g2=((u2=a2.creationMode)===null||u2===void 0?void 0:u2.createAtEnd)!==undefined?(v2=a2.creationMode)===null||v2===void 0?void 0:v2.createAtEnd:true;h2=!!((w2=a2.creationMode)===null||w2===void 0?void 0:w2.disableAddRowButtonForEmptyData);i2=a2.condensedTableLayout!==undefined?a2.condensedTableLayout:false;j2=!!((x2=a2.quickVariantSelection)===null||x2===void 0?void 0:x2.hideTableTitle);k2=(a2===null||a2===void 0?void 0:a2.type)||"ResponsiveTable";l2=a2.enableFullScreen||false;if(l2===true&&o.getTemplateType()===b1.ListReport){l2=false;o.getDiagnostics().addIssue(k.Manifest,j.Low,h.FULLSCREENMODE_NOT_ON_LISTREPORT);}m2=a2.selectAll===true||a2.selectionLimit===0?0:a2.selectionLimit||200;n2=o.getTemplateType()==="ObjectPage"&&a2.enablePaste!==false;d2=a2.enableExport!==undefined?a2.enableExport:o.getTemplateType()!=="ObjectPage"||n2;}return{filters:f2,type:k2,enableFullScreen:l2,headerVisible:!(b2&&j2),enableExport:d2,creationMode:e2,createAtEnd:g2,disableAddRowButtonForEmptyData:h2,useCondensedTableLayout:i2&&$1,selectionLimit:m2,enablePaste:n2};}
_.getTableManifestConfiguration=Z1;return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/ObjectPage/HeaderFacet',["sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/ID","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/Key","../Common/Form","sap/fe/core/converters/annotations/DataField"],function(C,I,B,K,F,D){"use strict";var _={};var g=D.getSemanticObjectPath;var a=F.getFormElementsFromManifest;var b=F.FormElementType;var c=K.KeyHelper;var n=B.not;var e=B.equal;var d=B.compileBinding;var f=B.annotationExpression;var H=I.HeaderFacetID;var h=I.HeaderFacetFormID;var j=I.HeaderFacetContainerID;var k=I.CustomHeaderFacetID;var P=C.Placement;var l=C.insertCustomElements;
function o(i,N){var O=Object.keys(i);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(i);if(N)Q=Q.filter(function(R){return Object.getOwnPropertyDescriptor(i,R).enumerable;});O.push.apply(O,Q);}return O;}
function m(N){for(var i=1;i<arguments.length;i++){var O=arguments[i]!=null?arguments[i]:{};if(i%2){o(Object(O),true).forEach(function(Q){p(N,Q,O[Q]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(N,Object.getOwnPropertyDescriptors(O));}else{o(Object(O)).forEach(function(Q){Object.defineProperty(N,Q,Object.getOwnPropertyDescriptor(O,Q));});}}return N;}
function p(i,N,O){if(N in i){Object.defineProperty(i,N,{value:O,enumerable:true,configurable:true,writable:true});}else{i[N]=O;}return i;}
var q;(function(q){q["Annotation"]="Annotation";q["XMLFragment"]="XMLFragment";})(q||(q={}));_.HeaderFacetType=q;var r;(function(r){r["Reference"]="Reference";r["Collection"]="Collection";})(r||(r={}));_.FacetType=r;var s;(function(s){s["Default"]="Default";s["NotAdaptable"]="not-adaptable";s["NotAdaptableTree"]="not-adaptable-tree";s["NotAdaptableVisibility"]="not-adaptable-visibility";})(s||(s={}));_.FlexDesignTimeType=s;var t;(function(t){t["ProgressIndicator"]="ProgressIndicator";t["RatingIndicator"]="RatingIndicator";t["Content"]="Content";})(t||(t={}));var T;(function(T){T["None"]="None";T["DataPoint"]="DataPoint";T["Chart"]="Chart";T["Identification"]="Identification";T["Contact"]="Contact";T["Address"]="Address";T["FieldGroup"]="FieldGroup";})(T||(T={}));
function u(i){var N,O,Q;var R=[];(N=i.getEntityType().annotations)===null||N===void 0?void 0:(O=N.UI)===null||O===void 0?void 0:(Q=O.HeaderFacets)===null||Q===void 0?void 0:Q.forEach(function(S){var U=J(S,i);if(U){R.push(U);}});return R;}
_.getHeaderFacetsFromAnnotations=u;
function v(i){var N={};Object.keys(i).forEach(function(O){var Q=i[O];N[O]=M(Q,O);});return N;}
_.getHeaderFacetsFromManifest=v;
function w(i,N,O){var Q=s.Default;var R=i.ID;if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&N.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){Q=s.NotAdaptableTree;}else{var S=O.getManifestControlConfiguration("@com.sap.vocabularies.UI.v1.HeaderFacets");if(R){var U,V,W;var X=S===null||S===void 0?void 0:(U=S.facets)===null||U===void 0?void 0:(V=U[R])===null||V===void 0?void 0:(W=V.flexSettings)===null||W===void 0?void 0:W.designtime;switch(X){case s.NotAdaptable:case s.NotAdaptableTree:case s.NotAdaptableVisibility:Q=X;}}}return Q;}
function x(i,N,O){var Q,R;if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&!(((Q=i.annotations)===null||Q===void 0?void 0:(R=Q.UI)===null||R===void 0?void 0:R.Hidden)===true)){var S;var U=H({Facet:i}),V=function(i,a1){var b1,c1;return((b1=i.ID)===null||b1===void 0?void 0:b1.toString())||((c1=i.Label)===null||c1===void 0?void 0:c1.toString())||a1;},W=i.Target.value,X=z(i);var Y;var Z;switch(X){case T.FieldGroup:Y=A(i,O);break;case T.DataPoint:Z=G(i);break;}var $=i.annotations;return{type:q.Annotation,facetType:r.Reference,id:U,containerId:j({Facet:i}),key:V(i,U),flexSettings:{designtime:w(i,N,O)},visible:d(n(e(f($===null||$===void 0?void 0:(S=$.UI)===null||S===void 0?void 0:S.Hidden),true))),annotationPath:O.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)+"/",targetAnnotationValue:W,targetAnnotationType:X,headerFormData:Y,headerDataPointData:Z};}return undefined;}
function y(i,N){if(i.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){var O,Q;var R=[],S=H({Facet:i}),U=function(V,W){var X,Y;return((X=V.ID)===null||X===void 0?void 0:X.toString())||((Y=V.Label)===null||Y===void 0?void 0:Y.toString())||W;};i.Facets.forEach(function(V){var W=x(V,i,N);if(W){R.push(W);}});return{type:q.Annotation,facetType:r.Collection,id:S,containerId:j({Facet:i}),key:U(i,S),flexSettings:{designtime:w(i,i,N)},visible:d(n(e(f((O=i.annotations)===null||O===void 0?void 0:(Q=O.UI)===null||Q===void 0?void 0:Q.Hidden),true))),annotationPath:N.getEntitySetBasedAnnotationPath(i.fullyQualifiedName)+"/",facets:R};}return undefined;}
function z(i){var N=T.None;var O={"com.sap.vocabularies.UI.v1.DataPoint":T.DataPoint,"com.sap.vocabularies.UI.v1.Chart":T.Chart,"com.sap.vocabularies.UI.v1.Identification":T.Identification,"com.sap.vocabularies.Communication.v1.Contact":T.Contact,"com.sap.vocabularies.Communication.v1.Address":T.Address,"com.sap.vocabularies.UI.v1.FieldGroup":T.FieldGroup};if(i.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&i.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var Q,R;N=O[(Q=i.Target)===null||Q===void 0?void 0:(R=Q.$target)===null||R===void 0?void 0:R.term]||T.None;}return N;}
function A(i,N){if(!i){throw new Error("Cannot get FieldGroup form data without facet definition");}var O=l(E(i,N),a(i,N));return{id:h({Facet:i}),label:i.Label,formElements:O};}
function E(i,N){var O=[];if(i.$Type!=="com.sap.vocabularies.UI.v1.ReferenceURLFacet"&&i.$Type!=="com.sap.vocabularies.UI.v1.CollectionFacet"){var Q,R;(Q=i.Target)===null||Q===void 0?void 0:(R=Q.$target)===null||R===void 0?void 0:R.Data.forEach(function(S){var U,V;if(!(((U=S.annotations)===null||U===void 0?void 0:(V=U.UI)===null||V===void 0?void 0:V.Hidden)===true)){var W=g(N,S);if(S.$Type==="com.sap.vocabularies.UI.v1.DataField"){var X,Y,Z,$,a1,b1,c1,d1,e1,f1,g1;var h1=S.annotations;O.push({isValueMultilineText:((X=S.Value)===null||X===void 0?void 0:(Y=X.$target)===null||Y===void 0?void 0:(Z=Y.annotations)===null||Z===void 0?void 0:($=Z.UI)===null||$===void 0?void 0:$.MultiLineText)===true,type:b.Annotation,key:c.generateKeyFromDataField(S),visible:d(n(e(f(h1===null||h1===void 0?void 0:(a1=h1.UI)===null||a1===void 0?void 0:a1.Hidden),true))),label:((b1=S.Value)===null||b1===void 0?void 0:(c1=b1.$target)===null||c1===void 0?void 0:(d1=c1.annotations)===null||d1===void 0?void 0:(e1=d1.Common)===null||e1===void 0?void 0:e1.Label)||S.Label,idPrefix:h({Facet:i},S),valueFormat:((f1=S.Value)===null||f1===void 0?void 0:(g1=f1.$target)===null||g1===void 0?void 0:g1.type)==="Edm.Date"?"long":undefined,annotationPath:N.getEntitySetBasedAnnotationPath(S.fullyQualifiedName)+"/",semanticObjectPath:W});}else if(S.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var i1,j1,k1,l1,m1,n1,o1,p1,q1,r1,s1;var t1=S.annotations;O.push({isValueMultilineText:((i1=S.Target)===null||i1===void 0?void 0:(j1=i1.$target)===null||j1===void 0?void 0:(k1=j1.annotations)===null||k1===void 0?void 0:(l1=k1.UI)===null||l1===void 0?void 0:l1.MultiLineText)===true,type:b.Annotation,key:c.generateKeyFromDataField(S),visible:d(n(e(f(t1===null||t1===void 0?void 0:(m1=t1.UI)===null||m1===void 0?void 0:m1.Hidden),true))),label:((n1=S.Target)===null||n1===void 0?void 0:(o1=n1.$target)===null||o1===void 0?void 0:(p1=o1.annotations)===null||p1===void 0?void 0:(q1=p1.Common)===null||q1===void 0?void 0:q1.Label)||S.Label,idPrefix:h({Facet:i},S),valueFormat:((r1=S.Target)===null||r1===void 0?void 0:(s1=r1.$target)===null||s1===void 0?void 0:s1.type)==="Edm.Date"?"long":undefined,annotationPath:N.getEntitySetBasedAnnotationPath(S.fullyQualifiedName)+"/",semanticObjectPath:W});}}});}return O;}
function G(i){var N=t.Content;if(i.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var O,Q,R,S;if(((O=i.Target)===null||O===void 0?void 0:(Q=O.$target)===null||Q===void 0?void 0:Q.Visualization)==="UI.VisualizationType/Progress"){N=t.ProgressIndicator;}else if(((R=i.Target)===null||R===void 0?void 0:(S=R.$target)===null||S===void 0?void 0:S.Visualization)==="UI.VisualizationType/Rating"){N=t.RatingIndicator;}}return{type:N};}
function J(i,N){var O;switch(i.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":O=x(i,i,N);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":O=y(i,N);break;}return O;}
function L(i){if(!i){return undefined;}var N=["Heroes","Decoration","Workers","LongRunners"].indexOf(i)!==-1?"$auto."+i:i;return"{ path : '', parameters : { $$groupId : '"+N+"' } }";}
function M(i,N){var O=k(N);var Q=i.position;if(!Q){Q={placement:P.After};}return{facetType:r.Reference,facets:[],type:i.type,id:O,containerId:O,key:N,position:Q,visible:i.visible,fragmentName:i.name,title:i.title,subTitle:i.subTitle,stashed:i.stashed||false,flexSettings:m({},{designtime:s.Default},{},i.flexSettings),binding:L(i.requestGroupId)};}
return _;},false);
sap.ui.predefine('sap/fe/core/converters/controls/ObjectPage/SubSection',["../../ManifestSettings","../../helpers/ID","../Common/Form","../Common/DataVisualization","../../helpers/ConfigurableObject","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/IssueManager"],function(M,I,F,D,C,A,K,B,a){"use strict";var _={};var b=a.IssueCategory;var c=a.IssueSeverity;var d=a.IssueType;var r=B.ref;var e=B.not;var f=B.fn;var g=B.equal;var h=B.compileBinding;var j=B.bindingExpression;var k=B.annotationExpression;var l=K.KeyHelper;var m=A.getSemanticObjectMapping;var p=A.ButtonType;var q=A.isActionNavigable;var s=A.getEnabledBinding;var t=A.getActionsFromManifest;var P=C.Placement;var u=C.insertCustomElements;var v=D.getDataVisualizationConfiguration;var w=F.isReferenceFacet;var x=F.createFormDefinition;var S=I.SubSectionID;var y=I.FormID;var z=I.CustomSubSectionID;var E=M.ActionType;
function G(n,i){return L(n)||J(n,i)||U(n,i)||H();}
function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function J(n,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(n)))return;var o=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=n[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){o.push(_s.value);if(i&&o.length===i)break;}}catch(m1){_d=true;_e=m1;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return o;}
function L(i){if(Array.isArray(i))return i;}
function N(o,i){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var m1=Object.getOwnPropertySymbols(o);if(i)m1=m1.filter(function(n1){return Object.getOwnPropertyDescriptor(o,n1).enumerable;});n.push.apply(n,m1);}return n;}
function O(n){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};if(i%2){N(Object(o),true).forEach(function(m1){Q(n,m1,o[m1]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(n,Object.getOwnPropertyDescriptors(o));}else{N(Object(o)).forEach(function(m1){Object.defineProperty(n,m1,Object.getOwnPropertyDescriptor(o,m1));});}}return n;}
function Q(o,i,n){if(i in o){Object.defineProperty(o,i,{value:n,enumerable:true,configurable:true,writable:true});}else{o[i]=n;}return o;}
function R(i){return W(i)||V(i)||U(i)||T();}
function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function U(o,i){if(!o)return;if(typeof o==="string")return X(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(o,i);}
function V(i){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(i))return Array.from(i);}
function W(i){if(Array.isArray(i))return X(i);}
function X(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,m1=new Array(o);i<o;i++){m1[i]=n[i];}return m1;}
var Y;(function(Y){Y["Unknown"]="Unknown";Y["Form"]="Form";Y["DataVisualization"]="DataVisualization";Y["XMLFragment"]="XMLFragment";Y["Placeholder"]="Placeholder";Y["Mixed"]="Mixed";})(Y||(Y={}));_.SubSectionType=Y;var Z=["com.sap.vocabularies.UI.v1.LineItem","com.sap.vocabularies.UI.v1.PresentationVariant","com.sap.vocabularies.UI.v1.SelectionPresentationVariant"];var $=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return i.some(function(n){var o,m1;return Z.indexOf(n===null||n===void 0?void 0:(o=n.Target)===null||o===void 0?void 0:(m1=o.$target)===null||m1===void 0?void 0:m1.term)>-1;});};
function a1(i,n){var o=i.reduce(function(o,m1){switch(m1.$Type){case"com.sap.vocabularies.UI.v1.ReferenceFacet":o.push(m1);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":if(m1.Facets.find(function(n1){return n1.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet";})){o.splice.apply(o,[o.length,0].concat(R(m1.Facets)));}else{o.push(m1);}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break;}return o;},[]);return o.map(function(m1){var n1,o1;return e1(m1,o,n,0,!((n1=m1)===null||n1===void 0?void 0:(o1=n1.Facets)===null||o1===void 0?void 0:o1.length));});}
_.createSubSections=a1;var b1=function(i,n){var o,m1;return((o=i.ID)===null||o===void 0?void 0:o.toString())||((m1=i.Label)===null||m1===void 0?void 0:m1.toString())||n;};
function c1(i,n){var o=new Array();switch(i.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":o=i.Facets.filter(function(i){return w(i);}).reduce(function(o,i){return g1(o,i,n);},[]);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":o=g1([],i,n);break;}return o;}
function d1(i){var n=i===null||i===void 0?void 0:i.path;if(n){return"{= "+"!${"+n+"} ? '"+p.Transparent+"' : ${"+n+"}"+"}";}else if(i){return p.Ghost;}return p.Transparent;}
function e1(n,o,m1,n1,o1){var p1,q1,r1,s1,t1;var u1=S({Facet:n});var v1={id:u1,key:b1(n,u1),title:h(k(n.Label)),type:Y.Unknown,annotationPath:m1.getEntitySetBasedAnnotationPath(n.fullyQualifiedName),visible:h(e(g(k((p1=n.annotations)===null||p1===void 0?void 0:(q1=p1.UI)===null||q1===void 0?void 0:q1.Hidden),true))),level:n1};var w1=[];var x1=[];var y1=[];var z1="";n1++;switch(n.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":var A1=n.Facets;if($(A1)){for(var i=0;i<A1.length;i++){var B1,C1;if(Z.indexOf((B1=A1[i].Target)===null||B1===void 0?void 0:(C1=B1.$target)===null||C1===void 0?void 0:C1.term)>-1){x1.push(e1(A1[i],[],m1,n1,A1.length===1));y1.push(i);}}for(var _i=y1.length-1;_i>=0;_i--){A1.splice(y1[_i],1);}if(A1.length){n.Facets=A1;w1.push(e1(n,[],m1,n1,o1));}w1=w1.concat(x1);var E1=O({},v1,{type:Y.Mixed,level:n1,content:w1});return E1;}else{var F1=O({},v1,{type:Y.Form,formDefinition:x(n,m1),level:n1,actions:c1(n,m1)});return F1;}case"com.sap.vocabularies.UI.v1.ReferenceFacet":if(!n.Target.$target){z1="Unable to find annotationPath ".concat(n.Target.value);}else{switch(n.Target.$target.term){case"com.sap.vocabularies.UI.v1.LineItem":case"com.sap.vocabularies.UI.v1.Chart":case"com.sap.vocabularies.UI.v1.PresentationVariant":case"com.sap.vocabularies.UI.v1.SelectionPresentationVariant":var G1=v(n.Target.value,k1(n,o,m1),m1);var H1=(r1=G1.visualizations[0])===null||r1===void 0?void 0:(s1=r1.annotation)===null||s1===void 0?void 0:s1.title;H1?H1:H1=(t1=G1.visualizations[0])===null||t1===void 0?void 0:t1.title;var I1=O({},v1,{type:Y.DataVisualization,level:n1,presentation:G1,showTitle:f1(o1,v1.title,H1)});return I1;case"com.sap.vocabularies.UI.v1.FieldGroup":case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.DataPoint":case"com.sap.vocabularies.UI.v1.StatusInfo":case"com.sap.vocabularies.Communication.v1.Contact":var J1=O({},v1,{type:Y.Form,level:n1,formDefinition:x(n,m1),actions:c1(n,m1)});return J1;default:z1="For ".concat(n.Target.$target.term," Fragment");break;}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":z1="For Reference URL Facet";break;default:break;}var K1=O({},v1,{text:z1});return K1;}
_.createSubSection=e1;
function f1(i,n,o){if(i&&o===n){return false;}return true;}
function g1(i,n,o){var m1=n.Target.$target;var n1=n.Target.value;var o1={};var p1=[];var q1=n1.split("@"),r1=G(q1,1),s1=r1[0];if(s1.length>0){if(s1.lastIndexOf("/")===s1.length-1){s1=s1.substr(0,s1.length-1);}}else{s1=undefined;}if(m1){switch(m1.term){case"com.sap.vocabularies.UI.v1.FieldGroup":p1=m1.Data;o1=t(o.getManifestControlConfiguration(m1).actions,o);break;case"com.sap.vocabularies.UI.v1.Identification":case"com.sap.vocabularies.UI.v1.StatusInfo":if(m1.qualifier){p1=m1;}break;}}return p1.reduce(function(i,t1){var u1,v1,w1,x1,y1;var z1=t1===null||t1===void 0?void 0:(u1=t1.annotations)===null||u1===void 0?void 0:u1.UI;switch(t1.$Type){case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":if(t1.RequiresContext===true){o.getDiagnostics().addIssue(b.Annotation,c.Low,d.MALFORMED_DATAFIELD_FOR_IBN.REQUIRESCONTEXT);}if(t1.Inline===true){o.getDiagnostics().addIssue(b.Annotation,c.Low,d.MALFORMED_DATAFIELD_FOR_IBN.INLINE);}var A1={};if(t1.Mapping){A1.semanticObjectMapping=m(t1.Mapping);}i.push({type:E.DataFieldForIntentBasedNavigation,id:y({Facet:n},t1),key:l.generateKeyFromDataField(t1),text:t1.Label,annotationPath:"",visible:h(e(g(k((v1=t1.annotations)===null||v1===void 0?void 0:(w1=v1.UI)===null||w1===void 0?void 0:w1.Hidden),true))),buttonType:d1(z1===null||z1===void 0?void 0:z1.Emphasized),press:h(f("._intentBasedNavigation.navigate",[k(t1.SemanticObject),k(t1.Action),A1])),customData:h({semanticObject:k(t1.SemanticObject),action:k(t1.Action)})});break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":var B1=o.getManifestControlConfiguration(m1).actions;var C1=l.generateKeyFromDataField(t1);i.push({type:E.DataFieldForAction,id:y({Facet:n},t1),key:C1,text:t1.Label,annotationPath:"",enabled:s(t1.ActionTarget),binding:s1?"{ 'path' : '"+s1+"'}":undefined,visible:h(e(g(k((x1=t1.annotations)===null||x1===void 0?void 0:(y1=x1.UI)===null||y1===void 0?void 0:y1.Hidden),true))),requiresDialog:h1(t1.ActionTarget),buttonType:d1(z1===null||z1===void 0?void 0:z1.Emphasized),press:h(f("invokeAction",[t1.Action,{contexts:f("getBindingContext",[],j("","$source")),invocationGrouping:t1.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated",label:k(t1.Label),model:f("getModel",[],j("/","$source")),isNavigable:q(B1&&B1[C1])}],r(".editFlow")))});break;}i=u(i,o1);return i;},i);}
function h1(i){if(i){var n,o;var m1=(n=i.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.IsActionCritical;if(i.parameters.length>1||m1){return"Dialog";}else{return"None";}}else{return"None";}}
_.isDialog=h1;
function i1(i,n){var o={};Object.keys(i).forEach(function(m1){return o[m1]=j1(i[m1],m1,n);});return o;}
_.createCustomSubSections=i1;
function j1(i,n,o){var m1=i.position;if(!m1){m1={placement:P.After};}var n1={type:Y.Unknown,id:i.id||z(n),actions:t(i.actions,o),key:n,title:i.title,level:1,position:m1,visible:i.visible};if(i.template||i.name){n1.type=Y.XMLFragment;n1.template=i.template||i.name||"";}else{n1.type=Y.Placeholder;}return n1;}
_.createCustomSubSection=j1;
function k1(i,n,o){var m1=o.getManifestWrapper();if(m1.useIconTabBar()){return l1(i,n);}else{var n1,o1,p1,q1,r1,s1;var t1=o.getEntityType();if(((n1=t1.annotations)===null||n1===void 0?void 0:(o1=n1.UI)===null||o1===void 0?void 0:(p1=o1.Facets)===null||p1===void 0?void 0:p1.length)&&((q1=t1.annotations)===null||q1===void 0?void 0:(r1=q1.UI)===null||r1===void 0?void 0:(s1=r1.Facets)===null||s1===void 0?void 0:s1.length)>1){return l1(i,n);}else{return true;}}}
function l1(i,n){return n.every(function(o){if(o!==i){if(o.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){var m1,n1,o1,p1,q1;var r1=o;if(((m1=r1.Target)===null||m1===void 0?void 0:(n1=m1.$target)===null||n1===void 0?void 0:n1.term)==="com.sap.vocabularies.UI.v1.LineItem"||((o1=r1.Target)===null||o1===void 0?void 0:(p1=o1.$target)===null||p1===void 0?void 0:p1.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((q1=r1.Target.$target)===null||q1===void 0?void 0:q1.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var s1,t1,u1,v1;return((s1=r1.annotations)===null||s1===void 0?void 0:(t1=s1.UI)===null||t1===void 0?void 0:t1.Hidden)!==undefined?(u1=r1.annotations)===null||u1===void 0?void 0:(v1=u1.UI)===null||v1===void 0?void 0:v1.Hidden:false;}return true;}else{var w1=o;return w1.Facets.every(function(x1){var y1,z1,A1,B1,C1,D1;var E1=x1;if(((y1=E1.Target)===null||y1===void 0?void 0:(z1=y1.$target)===null||z1===void 0?void 0:z1.term)==="com.sap.vocabularies.UI.v1.LineItem"||((A1=E1.Target)===null||A1===void 0?void 0:(B1=A1.$target)===null||B1===void 0?void 0:B1.term)==="com.sap.vocabularies.UI.v1.PresentationVariant"||((C1=E1.Target)===null||C1===void 0?void 0:(D1=C1.$target)===null||D1===void 0?void 0:D1.term)==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){var F1,G1,H1,I1;return((F1=E1.annotations)===null||F1===void 0?void 0:(G1=F1.UI)===null||G1===void 0?void 0:G1.Hidden)!==undefined?(H1=E1.annotations)===null||H1===void 0?void 0:(I1=H1.UI)===null||I1===void 0?void 0:I1.Hidden:false;}return true;});}}return true;});}
return _;},false);
sap.ui.predefine('sap/fe/core/converters/helpers/Aggregation',[],function(){"use strict";var _={};
function a(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
function b(t,p){for(var i=0;i<p.length;i++){var d=p[i];d.enumerable=d.enumerable||false;d.configurable=true;if("value"in d)d.writable=true;Object.defineProperty(t,d.key,d);}}
function c(C,p,s){if(p)b(C.prototype,p);if(s)b(C,s);return C;}
var A=function(){function A(e,d){var f,g,h,i,j,k,l,m,n,o;a(this,A);this._entityType=e;this._converterContext=d;this._bApplySupported=((f=this._entityType.annotations)===null||f===void 0?void 0:(g=f.Aggregation)===null||g===void 0?void 0:g.ApplySupported)||((h=this._converterContext.getEntityContainer().annotations)===null||h===void 0?void 0:(i=h.Aggregation)===null||i===void 0?void 0:i.ApplySupported)?true:false;this._bHasPropertyRestrictions=((j=this._entityType.annotations)===null||j===void 0?void 0:(k=j.Aggregation)===null||k===void 0?void 0:(l=k.ApplySupported)===null||l===void 0?void 0:l.PropertyRestrictions)||((m=this._converterContext.getEntityContainer().annotations)===null||m===void 0?void 0:(n=m.Aggregation)===null||n===void 0?void 0:(o=n.ApplySupported)===null||o===void 0?void 0:o.PropertyRestrictions)?true:false;}_.AggregationHelper=A;c(A,[{key:"isPropertyGroupable",value:function i(p){if(!this._bApplySupported){return undefined;}else{var d,e;return!this._bHasPropertyRestrictions||((d=p.annotations)===null||d===void 0?void 0:(e=d.Aggregation)===null||e===void 0?void 0:e.Groupable)===true;}}}]);return A;}();_.AggregationHelper=A;return _;},false);
sap.ui.predefine('sap/fe/core/converters/helpers/BindingHelper',["sap/fe/core/helpers/BindingExpression"],function(B){"use strict";var _={};var n=B.not;var e=B.equal;var b=B.bindingExpression;var a=B.and;var U={IsCreateMode:b("createMode","ui"),IsCreateModeSticky:b("createModeSticky","ui"),IsEditable:b("/isEditable","ui"),IsTransientBinding:e(b("@$ui5.context.isTransient"),true)};_.UI=U;var D={IsNewObject:a(n(b("HasActiveEntity")),n(b("IsActiveEntity")))};_.Draft=D;return _;},false);
sap.ui.predefine('sap/fe/core/converters/helpers/ConfigurableObject',[],function(){"use strict";var _={};var P;(function(P){P["After"]="After";P["Before"]="Before";P["End"]="End";})(P||(P={}));_.Placement=P;var o=function(p,c,s,v){var d=s.indexOf(c);if(d!==-1){return d;}var e=p[c];if(e===undefined){throw new Error("position anchor not found: "+c);}v[c]=e;if(e&&!(e.anchor in v)){d=o(p,e.anchor,s,v);if(e.placement!==P.Before){++d;}}else{d=s.length;}s.splice(d,0,c);return d;};
function i(c){return typeof c==="object";}
function a(c,s,d){var e=s||d;for(var f in c){if(Object.hasOwnProperty.call(c,f)){var g=c[f];if(s!==null){switch(g){case"overwrite":if(d.hasOwnProperty(f)&&d[f]!==undefined){s[f]=d[f];}break;case"merge":default:var h=s[f]||[];var j={};if(i(g)){j=g;}if(Array.isArray(h)){s[f]=b(h,d&&d[f]||{},j);}break;}}else{switch(g){case"overwrite":if(d.hasOwnProperty(f)&&d[f]!==undefined){e[f]=d[f];}break;case"merge":default:var k={};if(i(g)){k=g;}e[f]=b([],d&&d[f]||{},k);break;}}}}return e;}
function b(r,c){var d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var f=r.length?r[0].key:null;var e=r.filter(function(k){var m;return((m=k.position)===null||m===void 0?void 0:m.placement)!==P.End;});var l=r.length?r[e.length-1].key:null;var g;var p={};var h={};r.forEach(function(k){var m;if(((m=k.position)===null||m===void 0?void 0:m.placement)===P.End&&!g){g=k;}else{var n,q;p[k.key]={anchor:((n=k.position)===null||n===void 0?void 0:n.anchor)||k.key,placement:((q=k.position)===null||q===void 0?void 0:q.placement)||P.After};}h[k.key]=k;});Object.keys(c).forEach(function(k){var m;var n=c[k];var q=n.position.anchor;if(!n.position.placement){n.position.placement=P.After;}if(!q){var t=n.position.placement===P.After?l:f;n.position.anchor=t?t:k;}n.menu=n===null||n===void 0?void 0:(m=n.menu)===null||m===void 0?void 0:m.map(function(u){var v;return(v=h[u.key])!==null&&v!==void 0?v:u;});if(h[n.key]){h[n.key]=a(d,h[n.key],n);}else{h[n.key]=a(d,null,n);p[n.key]=n.position;}});var s=[];Object.keys(p).forEach(function(k){o(p,k,s,{});});var j=s.map(function(k){return h[k];});if(g){j.push(g);}return j;}
_.insertCustomElements=b;return _;},false);
sap.ui.predefine('sap/fe/core/converters/helpers/ID',["../../helpers/StableIdHelper"],function(S){"use strict";var _={};var g=S.generate;var B=["fe"];
function I(){for(var l=arguments.length,s=new Array(l),m=0;m<l;m++){s[m]=arguments[m];}return function(){for(var n=arguments.length,o=new Array(n),p=0;p<n;p++){o[p]=arguments[p];}return g(B.concat.apply(B,s.concat(o)));};}
_.IDGenerator=I;var H=I("HeaderFacet");_.HeaderFacetID=H;var a=I("HeaderFacetContainer");_.HeaderFacetContainerID=a;var b=I("HeaderFacet","Form");_.HeaderFacetFormID=b;var C=I("HeaderFacetCustomContainer");_.CustomHeaderFacetID=C;var c=I("FacetSection");_.SectionID=c;var d=I("CustomSection");_.CustomSectionID=d;var e=I("FacetSubSection");_.SubSectionID=e;var f=I("CustomSubSection");_.CustomSubSectionID=f;var F=I("Form");_.FormID=F;var T=I("table");_.TableID=T;var h=I("FilterBar");_.FilterBarID=h;var i=function(s){return g([s,"VariantManagement"]);};_.FilterVariantManagementID=i;var j=I("Chart");_.ChartID=j;var k=function(A){return g(["CustomAction",A]);};_.CustomActionID=k;return _;},false);
sap.ui.predefine('sap/fe/core/converters/helpers/IssueManager',[],function(){"use strict";var _={};var I;(function(I){I[I["High"]=0]="High";I[I["Low"]=1]="Low";I[I["Medium"]=2]="Medium";})(I||(I={}));_.IssueSeverity=I;var a={Facets:{MissingID:"MissingID",UnSupportedLevel:"UnsupportedLevel"}};_.IssueCategoryType=a;var b;(function(b){b["Annotation"]="Annotation";b["Template"]="Template";b["Manifest"]="Manifest";b["Facets"]="Facets";})(b||(b={}));_.IssueCategory=b;var c={MISSING_LINEITEM:"We couldn't find a line item annotation for the current entitySet, you should consider adding one.",MISSING_SELECTIONFIELD:"Defined Selection Field is not found",MALFORMED_DATAFIELD_FOR_IBN:{REQUIRESCONTEXT:"DataFieldForIntentBasedNavigation cannot use requires context in form/header.",INLINE:"DataFieldForIntentBasedNavigation cannot use Inline in form/header."},FULLSCREENMODE_NOT_ON_LISTREPORT:"enableFullScreenMode is not supported on list report pages."};_.IssueType=c;return _;},false);
sap.ui.predefine('sap/fe/core/converters/helpers/Key',["../../helpers/StableIdHelper"],function(S){"use strict";var _={};var g=S.getStableIdPartFromDataField;
function a(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
function b(t,p){for(var i=0;i<p.length;i++){var d=p[i];d.enumerable=d.enumerable||false;d.configurable=true;if("value"in d)d.writable=true;Object.defineProperty(t,d.key,d);}}
function c(C,p,s){if(p)b(C.prototype,p);if(s)b(C,s);return C;}
var K=function(){function K(){a(this,K);}_.KeyHelper=K;c(K,null,[{key:"generateKeyFromDataField",value:function e(d){return g(d);}},{key:"validateKey",value:function v(k){var p=/[^A-Za-z0-9_\-:]/;if(p.exec(k)){throw new Error("Invalid key: "+k+" - only 'A-Za-z0-9_-:' are allowed");}}},{key:"getSelectionFieldKeyFromPath",value:function d(f){return f.replace(/(\*|\+)?\//g,"::");}},{key:"getPathFromSelectionFieldKey",value:function d(s){return s.replace(/::\//g,"/");}}]);return K;}();_.KeyHelper=K;return _;},false);
sap.ui.predefine('sap/fe/core/converters/objectPage/HeaderAndFooterAction',["../ManifestSettings","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/Key","sap/fe/core/templating/DataModelPathHelper"],function(M,A,C,B,K,D){"use strict";var _={};var i=D.isPathDeletable;var a=K.KeyHelper;var f=B.fn;var e=B.equal;var n=B.not;var c=B.compileBinding;var b=B.annotationExpression;var P=C.Placement;var g=A.getSemanticObjectMapping;var d=A.ButtonType;var h=M.ActionType;
function j(o,p){var q,r,s;return((q=o.annotations)===null||q===void 0?void 0:(r=q.UI)===null||r===void 0?void 0:(s=r.Identification)===null||s===void 0?void 0:s.filter(function(t){var u,v;if((t===null||t===void 0?void 0:(u=t.annotations)===null||u===void 0?void 0:(v=u.UI)===null||v===void 0?void 0:v.Hidden)!==true){var w,x,y,z;if((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!!t.Determining===p&&(!(t===null||t===void 0?void 0:(w=t.ActionTarget)===null||w===void 0?void 0:w.isBound)||(t===null||t===void 0?void 0:(x=t.ActionTarget)===null||x===void 0?void 0:(y=x.annotations)===null||y===void 0?void 0:(z=y.Core)===null||z===void 0?void 0:z.OperationAvailable)!==false)){return true;}}return false;}))||[];}
_.getIdentificationDataFieldForActions=j;
function k(o,p){var q,r,s;return((q=o.annotations)===null||q===void 0?void 0:(r=q.UI)===null||r===void 0?void 0:(s=r.Identification)===null||s===void 0?void 0:s.filter(function(t){var u,v;if((t===null||t===void 0?void 0:(u=t.annotations)===null||u===void 0?void 0:(v=u.UI)===null||v===void 0?void 0:v.Hidden)!==true){if((t===null||t===void 0?void 0:t.$Type)==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&!!t.Determining===p){return true;}}return false;}))||[];}
var I=["UI.CriticalityType/VeryPositive","UI.CriticalityType/Positive","UI.CriticalityType/Negative","UI.CriticalityType/VeryNegative"];
function l(o){var p,q,r,s,t,u;var v=o.getEntitySet();var S=v&&((p=v.annotations)===null||p===void 0?void 0:(q=p.Session)===null||q===void 0?void 0:q.StickySessionSupported),w=v&&((r=v.annotations.Common)===null||r===void 0?void 0:r.DraftRoot),E=v&&((s=v.annotations)===null||s===void 0?void 0:(t=s.Capabilities)===null||t===void 0?void 0:t.DeleteRestrictions),U=v&&((u=v.annotations.UI)===null||u===void 0?void 0:u.UpdateHidden);var x=o.getDataModelObjectPath(),y=i(x),z=y?c(y):y;var F=j(o.getEntityType(),false);var G=F.filter(function(J){return I.indexOf(J===null||J===void 0?void 0:J.Criticality)>-1;}).map(function(J){return{type:h.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(J.fullyQualifiedName),key:a.generateKeyFromDataField(J),isNavigable:true};});if(((w===null||w===void 0?void 0:w.EditAction)||(S===null||S===void 0?void 0:S.EditAction))&&U!==true){G.push({type:h.Primary,key:"EditAction"});}if(z&&z!=="false"||(E===null||E===void 0?void 0:E.Deletable)!==false&&z!=="false"){G.push({type:h.Secondary,key:"DeleteAction",parentEntityDeleteEnabled:z});}var H=k(o.getEntityType(),false);H.filter(function(J){return I.indexOf(J===null||J===void 0?void 0:J.Criticality)===-1;}).map(function(J){var L,N;var O={semanticObjectMapping:J.Mapping?g(J.Mapping):[]};if(J.RequiresContext===true){throw new Error("RequiresContext property should not be true for header IBN action : "+J.Label);}else if(J.Inline===true){throw new Error("Inline property should not be true for header IBN action : "+J.Label);}G.push({type:h.DataFieldForIntentBasedNavigation,text:J.Label,annotationPath:o.getEntitySetBasedAnnotationPath(J.fullyQualifiedName),buttonType:d.Ghost,visible:c(n(e(b((L=J.annotations)===null||L===void 0?void 0:(N=L.UI)===null||N===void 0?void 0:N.Hidden),true))),key:a.generateKeyFromDataField(J),isNavigable:true,press:c(f("._intentBasedNavigation.navigate",[b(J.SemanticObject),b(J.Action),O])),customData:c({semanticObject:b(J.SemanticObject),action:b(J.Action)})});});F.filter(function(J){return I.indexOf(J===null||J===void 0?void 0:J.Criticality)===-1;}).map(function(J){G.push({type:h.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(J.fullyQualifiedName),key:a.generateKeyFromDataField(J),isNavigable:true});});return G;}
_.getHeaderDefaultActions=l;
function m(v,o){var p,q,r,s,t,u,w;var x=o.getEntitySet();var S=x&&((p=x.annotations)===null||p===void 0?void 0:(q=p.Session)===null||q===void 0?void 0:q.StickySessionSupported),E=x&&(((r=x.annotations.Common)===null||r===void 0?void 0:(s=r.DraftRoot)===null||s===void 0?void 0:s.term)||((t=x.annotations)===null||t===void 0?void 0:(u=t.Session)===null||u===void 0?void 0:(w=u.StickySessionSupported)===null||w===void 0?void 0:w.term)),y=E==="com.sap.vocabularies.Common.v1.DraftRoot"||S&&(S===null||S===void 0?void 0:S.SaveAction),z=v>1,F=E==="com.sap.vocabularies.Common.v1.DraftRoot"||S&&(S===null||S===void 0?void 0:S.DiscardAction);var G=j(o.getEntityType(),true);var H=G.filter(function(J){return I.indexOf(J===null||J===void 0?void 0:J.Criticality)>-1;}).map(function(J){return{type:h.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(J.fullyQualifiedName),key:a.generateKeyFromDataField(J),isNavigable:true};});if(y){H.push({type:h.Primary,key:"SaveAction"});}if(z){H.push({type:h.DefaultApply,key:"ApplyAction"});}G.filter(function(J){return I.indexOf(J===null||J===void 0?void 0:J.Criticality)===-1;}).map(function(J){H.push({type:h.DataFieldForAction,annotationPath:o.getEntitySetBasedAnnotationPath(J.fullyQualifiedName),key:a.generateKeyFromDataField(J),isNavigable:true});});if(F){H.push({type:h.Secondary,key:"CancelAction",position:{placement:P.End}});}return H;}
_.getFooterDefaultActions=m;return _;},false);
sap.ui.predefine('sap/fe/core/converters/templates/BaseConverter',[],function(){"use strict";var _={};var T;(function(T){T["ListReport"]="ListReport";T["ObjectPage"]="ObjectPage";T["AnalyticalListPage"]="AnalyticalListPage";})(T||(T={}));_.TemplateType=T;return _;},false);
sap.ui.predefine('sap/fe/core/converters/templates/ListReportConverter',["../ManifestSettings","./BaseConverter","../controls/Common/DataVisualization","../helpers/ID","sap/fe/core/converters/controls/Common/Table","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/helpers/ConfigurableObject","sap/fe/core/converters/helpers/Key","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/controls/Common/Filter","sap/fe/core/converters/helpers/IssueManager"],function(M,B,D,I,T,A,C,K,a,F,b){"use strict";var _={};var c=b.IssueCategory;var d=b.IssueSeverity;var e=b.IssueType;var g=F.getFilterConditions;var f=a.compileBinding;var h=a.annotationExpression;var j=K.KeyHelper;var P=C.Placement;var k=C.insertCustomElements;var l=A.getActionsFromManifest;var m=T.getSelectionVariantConfiguration;var n=I.TableID;var o=I.FilterVariantManagementID;var p=I.FilterBarID;var q=D.isSelectionPresentationCompliant;var r=D.getSelectionVariant;var s=D.isPresentationCompliant;var t=D.getSelectionPresentationVariant;var u=D.getDefaultPresentationVariant;var v=D.getDefaultLineItem;var w=D.getDefaultChart;var x=D.getDataVisualizationConfiguration;var y=B.TemplateType;var V=M.VisualizationType;var z=M.AvailabilityType;
function E(i,c1){var d1=Object.keys(i);if(Object.getOwnPropertySymbols){var e1=Object.getOwnPropertySymbols(i);if(c1)e1=e1.filter(function(f1){return Object.getOwnPropertyDescriptor(i,f1).enumerable;});d1.push.apply(d1,e1);}return d1;}
function G(c1){for(var i=1;i<arguments.length;i++){var d1=arguments[i]!=null?arguments[i]:{};if(i%2){E(Object(d1),true).forEach(function(e1){H(c1,e1,d1[e1]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(c1,Object.getOwnPropertyDescriptors(d1));}else{E(Object(d1)).forEach(function(e1){Object.defineProperty(c1,e1,Object.getOwnPropertyDescriptor(d1,e1));});}}return c1;}
function H(i,c1,d1){if(c1 in i){Object.defineProperty(i,c1,{value:d1,enumerable:true,configurable:true,writable:true});}else{i[c1]=d1;}return i;}
var J=function(i,c1){var d1=c1.split("/");var e1;var f1="";while(d1.length){var g1=d1.shift();e1=e1?e1+"/"+g1:g1;var h1=i.resolvePath(e1);if(h1._type==="NavigationProperty"&&h1.isCollection){g1+="*";}f1=f1?f1+"/"+g1:g1;}return f1;};var L=function(i,c1,d1,e1,f1){var g1,h1;if(c1!==undefined&&c1.targetType===undefined&&(e1||((g1=c1.annotations)===null||g1===void 0?void 0:(h1=g1.UI)===null||h1===void 0?void 0:h1.Hidden)!==true)){var i1,j1,k1,l1,m1;var n1=f1.getAnnotationEntityType(c1);return{key:j.getSelectionFieldKeyFromPath(d1),annotationPath:"/"+i.name+"/"+d1,conditionPath:J(i.entityType,d1),availability:((i1=c1.annotations)===null||i1===void 0?void 0:(j1=i1.UI)===null||j1===void 0?void 0:j1.HiddenFilter)===true?z.Hidden:z.Adaptation,label:f(h(((k1=c1.annotations.Common)===null||k1===void 0?void 0:k1.Label)||c1.name)),group:n1.name,groupLabel:f(h((n1===null||n1===void 0?void 0:(l1=n1.annotations)===null||l1===void 0?void 0:(m1=l1.Common)===null||m1===void 0?void 0:m1.Label)||n1.name))};}return undefined;};var N=function(i,c1,d1,e1,f1){var g1={};if(d1){d1.forEach(function(h1){var i1=h1.name;var j1=(c1?c1+"/":"")+i1;var k1=L(i,h1,j1,e1,f1);if(k1){g1[j1]=k1;}});}return g1;};var O=function(i,c1,d1,e1){var f1={};if(c1){c1.forEach(function(g1){var h1;var i1=i.entityType.resolvePath(g1);if(i1===undefined){return;}if(i1._type==="NavigationProperty"){h1=N(i,g1,i1.targetType.entityProperties,d1,e1);}else if(i1.targetType!==undefined){h1=N(i,g1,i1.targetType.properties,d1,e1);}else{var j1=g1.includes("/")?g1.split("/").splice(0,1).join("/"):"";h1=N(i,j1,[i1],d1,e1);}f1=G({},f1,{},h1);});}return f1;};
function Q(i){var c1={};i.Data.forEach(function(d1){if(d1.$Type==="com.sap.vocabularies.UI.v1.DataField"){var e1,f1;c1[d1.Value.path]={group:i.fullyQualifiedName,groupLabel:f(h(i.Label||((e1=i.annotations)===null||e1===void 0?void 0:(f1=e1.Common)===null||f1===void 0?void 0:f1.Label)||i.qualifier))||i.qualifier};}});return c1;}
var R=function(c1,d1,e1){var f1,g1,h1,i1;var j1=d1.reduce(function(r1,o1){o1.propertyNames.forEach(function(s1){r1[s1]=true;});return r1;},{});var k1=(f1=e1.getAnnotationEntityType().annotations.UI)===null||f1===void 0?void 0:f1.FilterFacets;var l1={};var m1=e1.getAnnotationByType("UI","com.sap.vocabularies.UI.v1.FieldGroup")||[];if(k1===undefined||k1.length<0){for(var i in m1){l1=G({},l1,{},Q(m1[i]));}}else{l1=k1.reduce(function(r1,s1){for(var _i=0;_i<s1.Target.$target.Data.length;_i++){r1[s1.Target.$target.Data[_i].Value.path]={group:s1.ID,groupLabel:s1.Label};}return r1;},{});}var n1=[];var o1=r(c1.entityType,e1);if(o1){n1=o1.SelectOptions;}var p1=G({},N(c1,"",c1.entityType.entityProperties,false,e1),{},O(c1,e1.getManifestWrapper().getFilterConfiguration().navigationProperties,false,e1));var q1=S(p1,n1,c1,e1,j1);return(((g1=c1.entityType.annotations)===null||g1===void 0?void 0:(h1=g1.UI)===null||h1===void 0?void 0:(i1=h1.SelectionFields)===null||i1===void 0?void 0:i1.reduce(function(r1,s1){var t1=s1.value;if(!(t1 in j1)){var u1=U(p1,t1,e1,c1);if(u1){u1.group="";u1.groupLabel="";r1.push(u1);}}return r1;},[]))||[]).concat(q1||[]).concat(Object.keys(p1).filter(function(r1){return!(r1 in j1);}).map(function(r1){return Object.assign(p1[r1],l1[r1]);}));};_.getSelectionFields=R;var S=function(i,c1,d1,e1,f1){var g1,h1,i1;var j1=[];var k1={};var l1=d1.entityType.entityProperties;(g1=d1.entityType.annotations)===null||g1===void 0?void 0:(h1=g1.UI)===null||h1===void 0?void 0:(i1=h1.SelectionFields)===null||i1===void 0?void 0:i1.forEach(function(m1){k1[m1.value]=true;});if(c1&&c1.length>0){c1===null||c1===void 0?void 0:c1.forEach(function(m1){var n1,o1,p1;var q1=m1.PropertyName;var r1=q1.value;var k1={};(n1=d1.entityType.annotations)===null||n1===void 0?void 0:(o1=n1.UI)===null||o1===void 0?void 0:(p1=o1.SelectionFields)===null||p1===void 0?void 0:p1.forEach(function(t1){k1[t1.value]=true;});if(!(r1 in f1)){if(!(r1 in k1)){var s1=U(i,r1,e1,d1);if(s1){j1.push(s1);}}}});}else if(l1){l1.forEach(function(m1){var n1,o1;var p1=(n1=m1.annotations)===null||n1===void 0?void 0:(o1=n1.Common)===null||o1===void 0?void 0:o1.FilterDefaultValue;var q1=m1.name;if(!(q1 in f1)){if(p1&&!(q1 in k1)){var r1=U(i,q1,e1,d1);if(r1){j1.push(r1);}}}});}return j1;};var U=function(i,c1,d1,e1){var f1=i[c1];if(f1){delete i[c1];}else{f1=L(e1,e1.entityType.resolvePath(c1),c1,true,d1);}if(!f1){d1.getDiagnostics().addIssue(c.Annotation,d.High,e.MISSING_SELECTIONFIELD);}if(f1){f1.availability=z.Default;}return f1;};var W=function(i,c1){var d1=c1.getManifestWrapper().getFilterConfiguration();var e1=(d1===null||d1===void 0?void 0:d1.filterFields)||{};var f1=O(i,Object.keys(e1).map(function(l1){return e1[l1].property||j.getPathFromSelectionFieldKey(l1);}),true,c1);var g1={};for(var h1 in e1){var i1=e1[h1];var j1=i1.property||j.getPathFromSelectionFieldKey(h1);var k1=f1[j1];g1[h1]={key:h1,annotationPath:k1.annotationPath,conditionPath:k1.conditionPath,template:i1.template,label:i1.label,position:i1.position||{placement:P.After},availability:i1.availability||z.Default,settings:i1.settings};}return g1;};
function X(i,c1,d1){var e1=c1.getManifestWrapper().getDefaultTemplateAnnotationPath();var f1=t(i,e1,c1);if(e1&&f1){var g1=f1.PresentationVariant;if(!g1){throw new Error("Presentation Variant is not configured in the SPV mentioned in the manifest");}var h1=s(f1.PresentationVariant);if(!h1){return undefined;}if(q(f1,d1)){return f1;}}if(f1){if(q(f1,d1)){return f1;}}var i1=u(i);if(i1){if(s(i1,d1)){return i1;}}if(!d1){var j1=v(i);if(j1){return j1;}}return undefined;}
var Y=function(i){var c1=i;var d1=c1.converterContext;var e1=x(c1.annotation?d1.getRelativeAnnotationPath(c1.annotation.fullyQualifiedName,d1.getEntityType()):"",true,d1);var f1="";var g1="";var h1="";var i1="";var j1=function(c1){return c1.key!==undefined;};if(j1(c1)){var k1=d1.getEntityTypeAnnotation(c1.annotationPath);var l1=k1.annotation;d1=k1.converterContext;h1=f(h(l1.Text));e1.visualizations.forEach(function(m1,n1){switch(m1.type){case V.Table:var o1=e1.visualizations[n1];var p1=o1.control.filters||{};p1.hiddenFilters=p1.hiddenFilters||{paths:[]};if(!c1.keepPreviousPresonalization){o1.annotation.id=n(c1.key,"LineItem");}if(c1&&c1.annotation&&c1.annotation.term==="com.sap.vocabularies.UI.v1.SelectionPresentationVariant"){i1=c1.annotation.SelectionVariant.fullyQualifiedName.split("@")[1];}else{i1=c1.annotationPath;}p1.hiddenFilters.paths.push({annotationPath:i1});o1.control.filters=p1;break;case V.Chart:break;default:break;}});}e1.visualizations.forEach(function(m1){if(m1.type===V.Table){f1=m1.annotation.id;}else if(m1.type===V.Chart){g1=m1.id;}});return{presentation:e1,tableControlId:f1,chartControlId:g1,entitySet:"/"+i.entitySet.name,title:h1,selectionVariantPath:i1};};var Z=function(i,c1,d1){var e1=[];if(d1){d1.paths.forEach(function(g1){var h1=c1.findEntitySet(g1.entitySet);var i1=c1.getManifestWrapper().getDefaultTemplateAnnotationPath();var j1;if(h1){var k1=c1.getConverterContextFor(h1);var l1=k1.getEntityTypeAnnotation(g1.annotationPath);var m1=l1.annotation;c1=l1.converterContext;if(m1){if(m1.term==="com.sap.vocabularies.UI.v1.SelectionVariant"){if(i1){j1=t(h1.entityType,i1,c1);}else{j1=v(h1.entityType);}}else{j1=m1;}e1.push({converterContext:k1,entitySet:h1,annotation:j1,annotationPath:g1.annotationPath,keepPreviousPresonalization:g1.keepPreviousPresonalization,key:g1.key});}}else{}});}else{var f1=c1.getEntityType();if(c1.getTemplateType()===y.AnalyticalListPage){e1=$(i,c1,e1);}else{e1.push({annotation:X(f1,c1,false),entitySet:i,converterContext:c1});}}return e1.map(function(g1){return Y(g1);});};
function $(i,c1,d1){var e1=X(i.entityType,c1,true);var f1,g1;if(e1){d1.push({entitySet:i,annotation:e1,converterContext:c1});}else{f1=w(i.entityType);g1=v(i.entityType);if(f1){d1.push({entitySet:i,annotation:f1,converterContext:c1});}if(g1){d1.push({entitySet:i,annotation:g1,converterContext:c1});}}return d1;}
var a1=function(i){var c1=i.getTemplateType();var d1=i.getEntitySet();if(!d1){throw new Error("An Entityset is required to be able to display a ListReport, please adjust your `entitySet` property to point to one.");}var e1=i.getManifestWrapper();var f1=e1.getViewConfiguration();var g1=e1.hasMultipleEntitySets();var h1=Z(d1,i,f1);var i1=f1?(f1===null||f1===void 0?void 0:f1.showCounts)||g1:undefined;var j1="";var k1="";var l1=false;var m1=[];var n1=[];var o1=p(d1.name);var p1=o(o1);var q1=[o1];var r1=e1.getFilterConfiguration();var s1=r1.useSemanticDateRange!==undefined?r1.useSemanticDateRange:true;h1.forEach(function(y1){y1.presentation.visualizations.forEach(function(z1){if(z1.type===V.Table){var A1=z1.control.filters;for(var B1 in A1){if(Array.isArray(A1[B1].paths)){var C1=A1[B1].paths;C1.forEach(function(D1){if(D1&&D1.annotationPath&&n1.indexOf(D1.annotationPath)===-1){n1.push(D1.annotationPath);var E1=m(D1.annotationPath,i);if(E1){m1.push(E1);}}});}}q1.push(z1.annotation.id);if(z1.control.type==="GridTable"){l1=true;}}});});var t1=b1(c1,h1);if(t1){k1=t1.chartId;j1=t1.tableId;}var u1=R(d1,m1,i);var v1=k(u1,W(d1,i),{"availability":"overwrite",label:"overwrite",position:"overwrite",template:"overwrite",settings:"overwrite"});var w1=JSON.stringify(g(d1.entityType,i));var x1=k([],l(e1.getHeaderActions(),i));return{mainEntitySet:"/"+d1.name,singleTableId:j1,singleChartId:k1,showTabCounts:i1,headerActions:x1,selectionFields:v1,views:h1,filterBarId:o1,filterConditions:w1,variantManagement:{id:p1,targetControlIds:q1.join(",")},fitContent:l1,isMultiEntitySets:g1,isAlp:i.getTemplateType()===y.AnalyticalListPage,useSemanticDateRange:s1};};_.convertPage=a1;
function b1(i,c1){var d1="",e1="";if(c1.length===1){d1=c1[0].tableControlId;e1=c1[0].chartControlId;}else if(i===y.AnalyticalListPage&&c1.length===2){c1.map(function(f1){if(f1.chartControlId){e1=f1.chartControlId;}else if(f1.tableControlId){d1=f1.tableControlId;}});}if(d1||e1){return{chartId:e1,tableId:d1};}return undefined;}
return _;},false);
sap.ui.predefine('sap/fe/core/converters/templates/ObjectPageConverter',["../controls/ObjectPage/SubSection","../controls/ObjectPage/HeaderFacet","./BaseConverter","../helpers/ID","../helpers/ConfigurableObject","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingExpression"],function(S,H,B,I,C,A,a,b){"use strict";var _={};var n=b.not;var e=b.equal;var c=b.compileBinding;var d=b.annotationExpression;var g=a.getFooterDefaultActions;var f=a.getHeaderDefaultActions;var r=A.removeDuplicateActions;var h=A.getActionsFromManifest;var P=C.Placement;var j=C.insertCustomElements;var k=I.SectionID;var l=I.CustomSectionID;var T=B.TemplateType;var m=H.getHeaderFacetsFromManifest;var o=H.getHeaderFacetsFromAnnotations;var p=S.createSubSections;var q=S.createCustomSubSections;
function s(i,F){var G=Object.keys(i);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(i);if(F)J=J.filter(function(K){return Object.getOwnPropertyDescriptor(i,K).enumerable;});G.push.apply(G,J);}return G;}
function t(F){for(var i=1;i<arguments.length;i++){var G=arguments[i]!=null?arguments[i]:{};if(i%2){s(Object(G),true).forEach(function(J){u(F,J,G[J]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(F,Object.getOwnPropertyDescriptors(G));}else{s(Object(G)).forEach(function(J){Object.defineProperty(F,J,Object.getOwnPropertyDescriptor(G,J));});}}return F;}
function u(i,F,G){if(F in i){Object.defineProperty(i,F,{value:G,enumerable:true,configurable:true,writable:true});}else{i[F]=G;}return i;}
var v=function(i,F){var G,J;return((G=i.ID)===null||G===void 0?void 0:G.toString())||((J=i.Label)===null||J===void 0?void 0:J.toString())||F;};
function w(i,F){var G={id:"",key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:"{= ${ui>/editMode} === 'Editable' }",subSections:p(i,F)};return G;}
function x(i){var F,G,J;var K=i.getEntityType();var L=((F=K.annotations)===null||F===void 0?void 0:(G=F.UI)===null||G===void 0?void 0:(J=G.Facets)===null||J===void 0?void 0:J.map(function(M){return y(M,i);}))||[];return L;}
function y(i,F){var G,J;var K=k({Facet:i});var L={id:K,key:v(i,K),title:c(d(i.Label)),showTitle:!!i.Label,visible:c(n(e(d((G=i.annotations)===null||G===void 0?void 0:(J=G.UI)===null||J===void 0?void 0:J.Hidden),true))),subSections:p([i],F)};return L;}
function z(i,F){var G={};Object.keys(i).forEach(function(J){G[J]=D(i[J],J,F);});return G;}
function D(i,F,G){var J=i.id||l(F);var K=i.position;if(!K){K={placement:P.After};}var L;if(!i.subSections){L=u({},F,t({},i,{position:undefined,visible:true}));}else{L=i.subSections;}var M=q(L,G);var N={id:J,key:F,title:i.title,showTitle:!!i.title,visible:i.visible!==undefined?i.visible:true,position:K,subSections:j([],M,{"title":"overwrite","actions":"merge"})};return N;}
var E=function(i){var F;var G=i.getManifestWrapper();var J;var K=i.getEntityType();var L=j(o(i),m(G.getHeaderFacets()));var M=f(i);var N=j(M,h(G.getHeaderActions(),i,M),{isNavigable:"overwrite"});var O=j(g(G.getViewLevel(),i),h(G.getFooterActions(),i),{isNavigable:"overwrite"});if(G.isHeaderEditable()&&((F=K.annotations.UI)===null||F===void 0?void 0:F.HeaderFacets)){var Q;J=w((Q=K.annotations.UI)===null||Q===void 0?void 0:Q.HeaderFacets,i);}var R=j(x(i),z(G.getSections(),i),{"title":"overwrite","visible":"overwrite","subSections":{"actions":"merge","title":"overwrite"}});return{template:T.ObjectPage,headerFacets:L,headerSection:J,headerActions:r(N),sections:R,footerActions:O,showHeader:G.getShowObjectPageHeader(),showAnchorBar:G.getShowAnchorBar(),useIconTabBar:G.useIconTabBar()};};_.convertPage=E;return _;},false);
sap.ui.predefine('sap/fe/core/formatters/FPMFormatter',[],function(){"use strict";var c=function(v,m,s){var _=this;var e=v.getController().getExtensionAPI();var p=m.split(".");var a=p.pop();var b=p.join("/");return new Promise(function(r){sap.ui.require([b],function(d){r(d[a].bind(e)(_.getBindingContext(),s||[]));});});};c.__functionName="sap.fe.core.formatters.FPMFormatter#customIsEnabledCheck";var f=function(n){if(f.hasOwnProperty(n)){for(var _=arguments.length,a=new Array(_>1?_-1:0),b=1;b<_;b++){a[b-1]=arguments[b];}return f[n].apply(this,a);}else{return"";}};f.customIsEnabledCheck=c;return f;},true);
sap.ui.predefine('sap/fe/core/formatters/TableFormatter',["sap/fe/core/formatters/TableFormatterTypes"],function(T){"use strict";var M=T.MessageType;var r=function(c){var a;if(typeof c==="string"){return c;}switch(c){case 1:a=M.Error;break;case 2:a=M.Warning;break;case 3:a=M.Success;break;case 5:a=M.Information;break;default:a=M.None;}return a;};r.__functionName="sap.fe.core.formatters.TableFormatter#rowHighlighting";var n=function(d){if(this.getBindingContext()&&d){return d.indexOf(this.getBindingContext().getPath())===0;}else{return false;}};n.__functionName="sap.fe.core.formatters.TableFormatter#navigatedRow";var t=function(N){if(t.hasOwnProperty(N)){for(var _=arguments.length,a=new Array(_>1?_-1:0),b=1;b<_;b++){a[b-1]=arguments[b];}return t[N].apply(this,a);}else{return"";}};t.rowHighlighting=r;t.navigatedRow=n;return t;},true);
sap.ui.predefine('sap/fe/core/formatters/TableFormatterTypes',[],function(){"use strict";var _={};var M;(function(M){M["Error"]="Error";M["Information"]="Information";M["None"]="None";M["Success"]="Success";M["Warning"]="Warning";})(M||(M={}));_.MessageType=M;return _;},false);
sap.ui.predefine('sap/fe/core/formatters/ValueFormatter',[],function(){"use strict";var f=function(a,s){if(s){return a?a+" ("+s+")":s;}else{return a?a:"";}};f.__functionName="sap.fe.core.formatters.ValueFormatter#formatWithBrackets";var v=function(n){if(v.hasOwnProperty(n)){for(var _=arguments.length,a=new Array(_>1?_-1:0),b=1;b<_;b++){a[b-1]=arguments[b];}return v[n].apply(this,a);}else{return"";}};v.formatWithBrackets=f;return v;},true);
sap.ui.predefine('sap/fe/core/helpers/BindingExpression',[],function(){"use strict";var _={};
function c(a,i){return g(a)||f(a,i)||l(a,i)||d();}
function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function f(a,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(a)))return;var b=[];var e=true;var j=false;var n=undefined;try{for(var o=a[Symbol.iterator](),$;!(e=($=o.next()).done);e=true){b.push($.value);if(i&&b.length===i)break;}}catch(a1){j=true;n=a1;}finally{try{if(!e&&o["return"]!=null)o["return"]();}finally{if(j)throw n;}}return b;}
function g(a){if(Array.isArray(a))return a;}
function h(a){return p(a)||m(a)||l(a)||k();}
function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function l(o,a){if(!o)return;if(typeof o==="string")return q(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(o,a);}
function m(i){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(i))return Array.from(i);}
function p(a){if(Array.isArray(a))return q(a);}
function q(a,b){if(b==null||b>a.length)b=a.length;for(var i=0,e=new Array(b);i<b;i++){e[i]=a[i];}return e;}
function r(a,b){if(a._type!==b._type){return false;}switch(a._type){case"Constant":case"EmbeddedBinding":case"EmbeddedExpressionBinding":return a.value===b.value;case"Not":return r(a.operand,b.operand);case"Set":return a.operator===b.operator&&a.operands.length===b.operands.length&&a.operands.every(function(j){return b.operands.some(function(n){return r(j,n);});});case"IfElse":return r(a.condition,b.condition)&&r(a.onTrue,b.onTrue)&&r(a.onFalse,b.onFalse);case"Comparison":return a.operator==b.operator&&r(a.operand1,b.operand1)&&r(a.operand2,b.operand2);case"Concat":var e=a.expressions;var i=b.expressions;if(e.length!==i.length){return false;}return e.every(function(j,n){return r(j,i[n]);});case"Binding":return a.modelName===b.modelName&&a.path===b.path&&a.targetEntitySet===b.targetEntitySet;case"DefaultBinding":return a.modelName===b.modelName&&a.path===b.path;case"Formatter":return a.fn===b.fn&&a.parameters.length===b.parameters.length&&a.parameters.every(function(j,n){return r(b.parameters[n],j);});case"Function":var o=b;if(a.obj===undefined||o.obj===undefined){return a.obj===o;}return a.fn===o.fn&&r(a.obj,o.obj)&&a.parameters.length===o.parameters.length&&a.parameters.every(function(j,n){return r(o.parameters[n],j);});case"Ref":return a.ref===b.ref;}}
_.expressionEquals=r;
function s(a){return a.operands.reduce(function(b,o){var i=o._type==="Set"&&o.operator===a.operator?o.operands:[o];i.forEach(function(j){if(b.operands.every(function(e){return!r(e,j);})){b.operands.push(j);}});return b;},{_type:"Set",operator:a.operator,operands:[]});}
function t(e){if(e.length<2){return false;}var i=e.length;while(i--){var a=e[i];var n=w(a);for(var j=0;j<i;j++){if(r(e[j],n)){return true;}}}return false;}
function u(){for(var a=arguments.length,o=new Array(a),b=0;b<a;b++){o[b]=arguments[b];}var e=s({_type:"Set",operator:"&&",operands:o.map(C)}).operands;var i=false;var n=e.filter(function($){if(D($)&&!$.value){i=true;}return!D($);});if(i){return y(false);}else if(n.length===0){var j=e.reduce(function(j,$){return j&&D($)&&$.value;},true);return y(j);}else if(n.length===1){return n[0];}else if(t(n)){return y(false);}else{return{_type:"Set",operator:"&&",operands:n};}}
_.and=u;
function v(){for(var a=arguments.length,o=new Array(a),b=0;b<a;b++){o[b]=arguments[b];}var e=s({_type:"Set",operator:"||",operands:o.map(C)}).operands;var i=false;var n=e.filter(function($){if(D($)&&$.value){i=true;}return!D($)||$.value;});if(i){return y(true);}else if(n.length===0){var j=e.reduce(function(j,$){return j&&D($)&&$.value;},true);return y(j);}else if(n.length===1){return n[0];}else if(t(n)){return y(true);}else{return{_type:"Set",operator:"||",operands:n};}}
_.or=v;
function w(o){o=C(o);if(D(o)){return y(!o.value);}else if(typeof o==="object"&&o._type==="Set"&&o.operator==="||"&&o.operands.every(function(e){return D(e)||E(e);})){return u.apply(void 0,h(o.operands.map(function(e){return w(e);})));}else if(typeof o==="object"&&o._type==="Set"&&o.operator==="&&"&&o.operands.every(function(e){return D(e)||E(e);})){return v.apply(void 0,h(o.operands.map(function(e){return w(e);})));}else if(E(o)){switch(o.operator){case"!==":return L(o.operand1,o.operand2);case"<":return N(o.operand1,o.operand2);case"<=":return O(o.operand1,o.operand2);case"===":return M(o.operand1,o.operand2);case">":return P(o.operand1,o.operand2);case">=":return Q(o.operand1,o.operand2);}}else if(o._type==="Not"){return o.operand;}else{return{_type:"Not",operand:o};}}
_.not=w;
function x(a,b){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var i=e.concat();i.push(a);return{_type:"Binding",modelName:b,path:i.join("/")};}
_.bindingExpression=x;
function y(a){var b;if(typeof a==="object"&&a!==null&&a!==undefined){if(Array.isArray(a)){b=a.map(C);}else{var e=a;var o=Object.keys(e).reduce(function(o,i){var a=C(e[i]);if(a._type!=="Constant"||a.value!==undefined){o[i]=a;}return o;},{});b=o;}}else{b=a;}return{_type:"Constant",value:b};}
_.constant=y;
function z(a,b){if(a!==undefined&&typeof a==="string"&&a.startsWith("{")){if(a.startsWith("{=")){return{_type:"EmbeddedExpressionBinding",value:a};}else{return{_type:"EmbeddedBinding",value:a};}}else{switch(b){case"boolean":if(typeof a==="string"&&(a==="true"||a==="false")){return y(a==="true");}return y(a);default:return y(a);}}}
_.resolveBindingString=z;
function A(A){return{_type:"Ref",ref:A};}
_.ref=A;
function B(a){return a!==null&&typeof a==="object"&&a._type!==undefined;}
function C(a){if(B(a)){return a;}return y(a);}
function D(a){return typeof a!=="object"||a._type==="Constant";}
_.isConstant=D;
function E(e){return e._type==="Comparison";}
function F(G){return typeof G==="object";}
function G(G){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var b=arguments.length>2?arguments[2]:undefined;if(G===undefined){return C(b);}if(!F(G)){return y(G);}else{switch(G.type){case"Path":return x(G.path,undefined,a);case"If":return I(G.If);case"Apply":return J(G,a);}}}
_.annotationExpression=G;
function H(a){if(a===null||typeof a!=="object"){return y(a);}else if(a.hasOwnProperty("$Or")){return v.apply(void 0,h(a.$Or.map(H)));}else if(a.hasOwnProperty("$And")){return u.apply(void 0,h(a.$And.map(H)));}else if(a.hasOwnProperty("$Not")){return w(H(a.$Not[0]));}else if(a.hasOwnProperty("$Eq")){return L(H(a.$Eq[0]),H(a.$Eq[1]));}else if(a.hasOwnProperty("$Ne")){return M(H(a.$Ne[0]),H(a.$Ne[1]));}else if(a.hasOwnProperty("$Gt")){return O(H(a.$Gt[0]),H(a.$Gt[1]));}else if(a.hasOwnProperty("$Ge")){return N(H(a.$Ge[0]),H(a.$Ge[1]));}else if(a.hasOwnProperty("$Lt")){return Q(H(a.$Lt[0]),H(a.$Lt[1]));}else if(a.hasOwnProperty("$Le")){return P(H(a.$Le[0]),H(a.$Le[1]));}else if(a.hasOwnProperty("$Path")){return x(a.$Path);}else if(a.hasOwnProperty("$Apply")){return G({type:"Apply",Function:a.$Function,Apply:a.$Apply});}else if(a.hasOwnProperty("$If")){return G({type:"If",If:a.$If});}else{return y(false);}}
function I(I){return R(H(I[0]),H(I[1]),H(I[2]));}
_.annotationIfExpression=I;
function J(J,a){switch(J.Function){case"odata.concat":return W.apply(void 0,h(J.Apply.map(function(b){var e=b;if(b.hasOwnProperty("$Path")){e={type:"Path",path:b.$Path};}else if(b.hasOwnProperty("$If")){e={type:"If",If:b.$If};}else if(b.hasOwnProperty("$Apply")){e={type:"Apply",Function:b.$Function,Apply:b.$Apply};}return G(e,a);})));break;}}
_.annotationApplyExpression=J;
function K(o,a,b){var e=C(a);var i=C(b);if(D(e)&&D(i)){if(e.value===undefined||i.value===undefined){return y(e.value===i.value);}switch(o){case"!==":return y(e.value!==i.value);case"<":return y(e.value<i.value);case"<=":return y(e.value<=i.value);case">":return y(e.value>i.value);case">=":return y(e.value>=i.value);case"===":default:return y(e.value===i.value);}}else{return{_type:"Comparison",operator:o,operand1:e,operand2:i};}}
function L(a,b){var e=C(a);var i=C(b);if(r(e,i)){return y(true);}if(e._type==="IfElse"&&r(e.onTrue,i)){return e.condition;}else if(e._type==="IfElse"&&r(e.onFalse,i)){return w(e.condition);}return K("===",e,i);}
_.equal=L;
function M(a,b){var e=C(a);var i=C(b);if(r(e,i)){return y(false);}if(e._type==="IfElse"&&r(e.onTrue,i)){return w(e.condition);}else if(e._type==="IfElse"&&r(e.onFalse,i)){return e.condition;}return K("!==",e,i);}
_.notEqual=M;
function N(a,b){return K(">=",a,b);}
_.greaterOrEqual=N;
function O(a,b){return K(">",a,b);}
_.greaterThan=O;
function P(a,b){return K("<=",a,b);}
_.lessOrEqual=P;
function Q(a,b){return K("<",a,b);}
_.lessThan=Q;
function R(a,o,b){var e=C(a);var i=C(o);var j=C(b);if(e._type==="Not"){var n=[j,i];i=n[0];j=n[1];e=w(e);}if(i._type==="IfElse"&&r(e,i.condition)){i=i.onTrue;}if(j._type==="IfElse"&&r(e,j.condition)){j=j.onFalse;}if(e._type==="IfElse"){if(D(e.onFalse)&&!e.onFalse.value&&D(e.onTrue)&&e.onTrue.value){e=e.condition;}else if(D(e.onFalse)&&e.onFalse.value&&D(e.onTrue)&&!e.onTrue.value){e=w(e.condition);}else if(D(e.onTrue)&&!e.onTrue.value&&!D(e.onFalse)){e=u(w(e.condition),e.onFalse);}}if(e._type==="Not"){var $=[j,i];i=$[0];j=$[1];e=w(e);}if(D(e)){return e.value?i:j;}if(r(i,j)){return i;}if(D(j)&&j.value===false){return u(e,i);}if(D(i)&&i.value===false){return u(w(e),j);}return{_type:"IfElse",condition:e,onTrue:i,onFalse:j};}
_.ifElse=R;
function S(e){switch(e._type){case"Constant":case"Formatter":return false;case"Set":return e.operands.some(S);case"Binding":return e.modelName===undefined;case"Comparison":return S(e.operand1)||S(e.operand2);case"DefaultBinding":return true;case"IfElse":return S(e.condition)||S(e.onTrue)||S(e.onFalse);case"Not":return S(e.operand);default:return false;}}
function T(a,b,e){var i=a.map(C);if(i.length===1&&D(i[0])&&!e){return i[0];}else if(!!e){if(!i.some(S)){e.keys.forEach(function(a1){return i.push(x(a1.name,""));});}}var j=b.__functionName.split("#"),n=c(j,2),o=n[0],$=n[1];if(!!$&&$.length>0){i.unshift(y($));}return{_type:"Formatter",fn:o,parameters:i};}
_.formatResult=T;
function U(U,a,o){var b=typeof U==="string"?U:U.__functionName;return{_type:"Function",obj:o!==undefined?C(o):undefined,fn:b,parameters:a.map(C)};}
_.fn=U;
function V(e){if(e._type==="Concat"){return v.apply(void 0,h(e.expressions.map(V)));}return v(L(e,""),L(e,undefined),L(e,null));}
_.isEmpty=V;
function W(){for(var a=arguments.length,i=new Array(a),b=0;b<a;b++){i[b]=arguments[b];}var e=i.map(C);if(e.every(D)){return y(e.reduce(function(j,n){return j+n.value.toString();},""));}return{_type:"Concat",expressions:e};}
_.concat=W;
function X(i,e,a){var b=i;if(e===b._type){b=a(i);}else{switch(b._type){case"Function":b.parameters=b.parameters.map(function(b){return X(b,e,a);});break;case"Concat":b.expressions=b.expressions.map(function(b){return X(b,e,a);});break;case"Formatter":b.parameters=b.parameters.map(function(b){return X(b,e,a);});break;case"IfElse":b.onTrue=X(b.onTrue,e,a);b.onFalse=X(b.onFalse,e,a);break;case"Not":break;case"Set":break;case"Comparison":break;case"DefaultBinding":case"Ref":case"Binding":case"Constant":break;}}return b;}
_.transformRecursively=X;
function Y(e){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var b=C(e);switch(b._type){case"Constant":if(b.value===null){return"null";}if(b.value===undefined){return"undefined";}if(typeof b.value==="object"){if(Array.isArray(b.value)){var i=b.value.map(function(e){return Y(e,true);});return"[".concat(i.join(", "),"]");}else{var o=b.value;var j=Object.keys(o).map(function(b1){var c1=o[b1];return"".concat(b1,": ").concat(Y(c1,true));});return"{".concat(j.join(", "),"}");}}if(a){switch(typeof b.value){case"number":case"bigint":case"boolean":return b.value.toString();case"string":return"'".concat(b.value.toString(),"'");default:return"";}}else{return b.value.toString();}case"Ref":return b.ref||"null";case"Function":var n="".concat(b.parameters.map(function(b1){return Y(b1,true);}).join(", "));return b.obj===undefined?"".concat(b.fn,"(").concat(n,")"):"".concat(Y(b.obj,true),".").concat(b.fn,"(").concat(n,")");case"EmbeddedExpressionBinding":if(a){return"(".concat(b.value.substr(2,b.value.length-3),")");}else{return"".concat(b.value);}case"EmbeddedBinding":if(a){return"%".concat(b.value);}else{return"".concat(b.value);}case"DefaultBinding":case"Binding":if(b.type){if(a){return"%{path:'".concat(b.modelName?"".concat(b.modelName,">"):"").concat(b.path,"', type: '").concat(b.type,"', formatOptions: ").concat(Y(b.constraints||{}),"}");}else{return"{path:'".concat(b.modelName?"".concat(b.modelName,">"):"").concat(b.path,"', type: '").concat(b.type,"', constraints: ").concat(Y(b.constraints||{}),"}");}}else{if(a){return"%{".concat(b.modelName?"".concat(b.modelName,">"):"").concat(b.path,"}");}else{return"{".concat(b.modelName?"".concat(b.modelName,">"):"").concat(b.path,"}");}}case"Comparison":var $="".concat(Y(b.operand1,true)," ").concat(b.operator," ").concat(Y(b.operand2,true));if(a){return $;}return"{= ".concat($,"}");case"IfElse":if(a){return"(".concat(Y(b.condition,true)," ? ").concat(Y(b.onTrue,true)," : ").concat(Y(b.onFalse,true),")");}else{return"{= ".concat(Y(b.condition,true)," ? ").concat(Y(b.onTrue,true)," : ").concat(Y(b.onFalse,true),"}");}case"Set":if(a){return"(".concat(b.operands.map(function(e){return Y(e,true);}).join(" ".concat(b.operator," ")),")");}else{return"{= (".concat(b.operands.map(function(e){return Y(e,true);}).join(" ".concat(b.operator," ")),")}");}case"Concat":if(a){return"".concat(b.expressions.map(function(e){return Y(e,true);}).join(" + "));}else{return"{= ".concat(b.expressions.map(function(e){return Y(e,true);}).join(" + ")," }");}case"Not":if(a){return"!".concat(Y(b.operand,true));}else{return"{= !".concat(Y(b.operand,true),"}");}case"Formatter":var a1="";if(b.parameters.length===1){a1+="{".concat(Z(b.parameters[0],true),", formatter: '").concat(b.fn,"'}");}else{a1+="{parts:[".concat(b.parameters.map(function(b1){return Z(b1);}).join(","),"], formatter: '").concat(b.fn,"'}");}if(a){a1="$".concat(a1);}return a1;default:return"";}}
_.compileBinding=Y;
function Z(e){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o="";switch(e._type){case"Constant":switch(typeof e.value){case"number":case"bigint":o="value: ".concat(e.value.toString());break;case"string":case"boolean":o="value: '".concat(e.value.toString(),"'");break;default:o="value: ''";break;}if(a){return o;}return"{".concat(o,"}");case"DefaultBinding":case"Binding":o="path:'".concat(e.modelName?"".concat(e.modelName,">"):"").concat(e.path,"'");if(e.type){o+=", type : '".concat(e.type,"'");}else{o+=", targetType : 'any'";}if(e.constraints&&Object.keys(e.constraints).length>0){o+=", constraints: ".concat(Y(e.constraints));}if(a){return o;}return"{".concat(o,"}");default:return"";}}
return _;},false);
sap.ui.predefine('sap/fe/core/helpers/ClassSupport',["sap/base/util/ObjectPath","sap/ui/core/ElementMetadata"],function(O,E){"use strict";var _={};
function a(t){return function(e,p){if(!e.override){e.override={};}var f=e.override;if(t){if(!f.extension){f.extension={};}if(!f.extension[t]){f.extension[t]={};}f=f.extension[t];}f[p]=e[p];};}
_.Override=a;
function b(o){return function(t,p){if(!t.metadata){t.metadata={methods:{}};}if(!t.metadata.methods[p]){t.metadata.methods[p]={};}t.metadata.methods[p].overrideExecution=o;};}
_.Extensible=b;
function P(t,p){if(!t.metadata){t.metadata={methods:{}};}if(!t.metadata.methods[p]){t.metadata.methods[p]={};}t.metadata.methods[p].public=true;}
_.Public=P;
function c(t,p){if(!t.metadata){t.metadata={methods:{}};}if(!t.metadata.methods[p]){t.metadata.methods[p]={};}t.metadata.methods[p].public=false;}
_.Private=c;
function F(t,p){if(!t.metadata){t.metadata={methods:{}};}if(!t.metadata.methods[p]){t.metadata.methods[p]={};}t.metadata.methods[p].final=true;}
_.Final=F;
function U(t,m){return function(e){d(e,t,e.prototype,m);};}
_.UI5Class=U;
function d(e,n,o,m){o=o||{};o.metadata=o.metadata||{};o.override=o.override;o.constructor=e;o.metadata.baseType=Object.getPrototypeOf(e.prototype).getMetadata().getName();var f;if(m){f=new m(n,o);}else{f=new E(n,o);}e.getMetadata=e.prototype.getMetadata=function(){return f;};O.set(n,e);}
return _;},false);
sap.ui.predefine('sap/fe/core/helpers/DynamicAnnotationPathHelper',["sap/ui/base/BindingParser"],function(B){"use strict";var g=function(o,p){if(!o){return null;}var P=p.split("/");if(P.length===1){return o[p];}else{return g(o[P[0]],P.splice(1).join("/"));}};var r=function(a,m){if(a.indexOf("[")!==-1){var f=a.indexOf("[");var s=a.substr(0,f);var R=a.substr(f+1);var l=R.indexOf("]");var v=m.getObject(s);var e=B.parseExpression(R.substr(0,l));if(Array.isArray(v)&&e&&e.result&&e.result.parts&&e.result.parts[0]&&e.result.parts[0].path){var F=false;for(var i=0;i<v.length&&!F;i++){var o=g(v[i],e.result.parts[0].path);var b=e.result.formatter(o);if(b){F=true;}}if(F){a=r(s+(i-1)+R.substr(l+1),m);}}}return a;};return{resolveDynamicExpression:r};});
sap.ui.predefine('sap/fe/core/helpers/FPMHelper',["sap/fe/core/CommonUtils"],function(C){"use strict";var F={actionWrapper:function(e,m,M,p){var s=e.getSource(),v=C.getTargetView(s),b=s.getBindingContext(),E,S;if(p!==undefined){S=p.contexts||[];}else if(b!==undefined){S=[b];}else{S=[];}if(v.getControllerName()==="sap.fe.templates.ObjectPage.ObjectPageController"||v.getControllerName()==="sap.fe.templates.ListReport.ListReportController"){E=v.getController().getExtensionAPI();}sap.ui.require([m],function(a){a[M].bind(E)(b,S);});}};return F;});
sap.ui.predefine('sap/fe/core/helpers/ModelHelper',[],function(){"use strict";var M={isStickySessionSupported:function(m){var e=m.getObject("/");for(var E in e){if(e[E].$kind==="EntitySet"&&m.getObject("/"+E+"@com.sap.vocabularies.Session.v1.StickySessionSupported")){return true;}}return false;},isDraftSupported:function(c){var m=c.getModel().getMetaModel(),o=m.getMetaContext(m.getMetaPath(c.getPath())),t=this.getTargetEntitySet(o),e=m.getMetaContext(t);if(e.getObject("@com.sap.vocabularies.Common.v1.DraftRoot")||e.getObject("@com.sap.vocabularies.Common.v1.DraftNode")){return true;}return false;},getTargetEntitySet:function(c){var p=c.getPath();if(c.getObject("$kind")==="EntitySet"||c.getObject("$kind")==="Action"||c.getObject("0/$kind")==="Action"){return p;}p="/"+p.split("/").filter(Boolean).join("/$NavigationPropertyBinding/");return"/"+c.getObject(p);},enhanceInternalJSONModel:function(i){var b=i.bindContext;i.bindContext=function(p,c,P){var c=b.apply(this,arguments);var g=c.getBoundContext;c.getBoundContext=function(){var B=g.apply(this,arguments);if(B&&!B.setProperty){B.setProperty=function(p,v){if(this.getObject()===undefined){this.getModel().setProperty(this.getPath(),{});}this.getModel().setProperty(p,v,this);};}return B;};return c;};}};return M;});
sap.ui.predefine('sap/fe/core/helpers/SemanticKeyHelper',["sap/base/Log"],function(L){"use strict";var S={getSemanticKeys:function(m,e){return m.getObject("/"+e+"/@com.sap.vocabularies.Common.v1.SemanticKey");},getSemanticObjectInformation:function(m,e){var s=m.getObject("/"+e+"/@com.sap.vocabularies.Common.v1.SemanticObject");var a=this.getSemanticKeys(m,e);return{semanticObject:s,semanticKeys:a};},getSemanticPath:function(c){var m=c.getModel().getMetaModel(),E=m.getMetaContext(c.getPath()).getObject("@sapui.name"),s=this.getSemanticObjectInformation(m,E),t,a;if(c.isA("sap.ui.model.odata.v4.ODataListBinding")&&c.isRelative()){t=c.getHeaderContext().getPath();}else{t=c.getPath();}if(this._isPathForSemantic(t)&&s.semanticKeys){var b=s.semanticKeys,o=m.getObject("/"+m.getObject("/"+E).$Type);try{var d=b.map(function(f){var p=f.$PropertyPath,k=c.getProperty(p);if(k===undefined){throw new Error("Couldn't resolve semantic key value for "+p);}else{if(o[p].$Type==="Edm.String"){k="'"+encodeURIComponent(k)+"'";}if(b.length>1){k=p+"="+k;}return k;}}).join(",");a="/"+E+"("+d+")";}catch(e){L.info(e);}}return a||t;},_isPathForSemantic:function(p){return/^[^\(\)]+\([^\(\)]+\)$/.test(p);}};return S;});
sap.ui.predefine('sap/fe/core/services/AsyncComponentServiceFactory',["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service"],function(S,a){"use strict";
function _(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
function b(t,p){for(var i=0;i<p.length;i++){var e=p[i];e.enumerable=e.enumerable||false;e.configurable=true;if("value"in e)e.writable=true;Object.defineProperty(t,e.key,e);}}
function c(C,p,s){if(p)b(C.prototype,p);if(s)b(C,s);return C;}
function d(s,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function");}s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:true,configurable:true}});if(e)f(s,e);}
function f(o,p){f=Object.setPrototypeOf||function f(o,p){o.__proto__=p;return o;};return f(o,p);}
function g(D){return function(){var e=l(D),r;if(k()){var N=l(this).constructor;r=Reflect.construct(e,arguments,N);}else{r=e.apply(this,arguments);}return h(this,r);};}
function h(s,e){if(e&&(typeof e==="object"||typeof e==="function")){return e;}return j(s);}
function j(s){if(s===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return s;}
function k(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}
function l(o){l=Object.setPrototypeOf?Object.getPrototypeOf:function l(o){return o.__proto__||Object.getPrototypeOf(o);};return l(o);}
var A=function(e){d(A,e);var i=g(A);function A(){_(this,A);return i.apply(this,arguments);}c(A,[{key:"init",value:function p(){var n=this;this.initPromise=new Promise(function(r,q){n.resolveFn=r;n.rejectFn=q;});var C=this.getContext();var o=C.scopeObject;var s=o._getManifestEntry("/sap.ui5/services",true);Promise.all(Object.keys(s).filter(function(q){return s[q].startup==="waitFor"&&s[q].factoryName!=="sap.fe.core.services.AsyncComponentService";}).map(function(q){return o.getService(q).then(function(r){var M="get".concat(q[0].toUpperCase()).concat(q.substr(1));if(!o.hasOwnProperty(M)){o[M]=function(){return r;};}});})).then(function(){if(o.onServicesStarted){o.onServicesStarted();}n.resolveFn(n);}).catch(this.rejectFn);}}]);return A;}(a);var m=function(e){d(m,e);var i=g(m);function m(){_(this,m);return i.apply(this,arguments);}c(m,[{key:"createInstance",value:function o(s){var n=new A(s);return n.initPromise;}}]);return m;}(S);return m;},false);
sap.ui.predefine('sap/fe/core/services/CacheHandlerServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel","sap/ui/core/cache/CacheManager"],function(S,a,R,C){"use strict";
function g(u,e,U){return new Promise(function(r,c){jQuery.ajax(u,{method:"GET"}).done(function(o,t,j){U[u]=j.getResponseHeader("ETag")||j.getResponseHeader("Last-Modified");r(e===U[u]);}).fail(function(){U[u]="";r(false);});});}
var b=S.extend("sap.fe.core.services.CacheHandlerService",{
initPromise:null,
init:function(){var t=this;var c=this.getContext();this.oFactory=c.factory;var s=c.settings;if(!s.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService");}this.oMetaModel=s.metaModel;this.initPromise=this.oMetaModel.fetchEntityContainer().then(function(){return t;});this.mCacheNeedsInvalidate={};},
exit:function(){this.oFactory.removeGlobalInstance(this.oMetaModel);},
validateCacheKey:function(c){var t=this;var d=true;return C.get(c).then(function(m){var M=t.getETags();var u=JSON.stringify(M);if(m){var U={};var e=JSON.parse(m.cachedETags);return Promise.all(Object.keys(e).map(function(s){if(e[s]){if(M[s]){U[s]=M[s];return e[s]===M[s];}else{return g(s,e[s],U);}}else{U[s]=M[s];return e[s]===M[s];}})).then(function(v){d=v.indexOf(false)>=0;if(Object.keys(U).some(function(s){return!U[s];})){return null;}else{return d?JSON.stringify(U):m.viewCacheKey;}});}else if(Object.keys(M).some(function(s){return!M[s];})){d=true;u=null;}return u;}).catch(function(e){d=true;return null;}).then(function(s){t.mCacheNeedsInvalidate[c]=d;return s;});},
invalidateIfNeeded:function(c,s){var d=JSON.stringify(this.getETags());if(this.mCacheNeedsInvalidate[s]||(c&&c!==d)){var m={};m.cachedETags=d;m.viewCacheKey=c;return C.set(s,m);}else{return Promise.resolve();}},
getETags:function(){var m=this.oMetaModel.getETags();Object.keys(m).forEach(function(M){if(m[M]instanceof Date){m[M]=m[M].toISOString();}});return m;}
});
return a.extend("sap.fe.core.services.CacheHandlerServiceFactory",{_oInstanceRegistry:{},createInstance:function(s){if(!this._oInstanceRegistry[s.settings.metaModel]){this._oInstanceRegistry[s.settings.metaModel]=new b(Object.assign({factory:this,scopeObject:null,scopeType:"service"},s));}var t=this;return this._oInstanceRegistry[s.settings.metaModel].initPromise.then(function(){return t._oInstanceRegistry[s.settings.metaModel];}).catch(function(e){t._oInstanceRegistry[s.settings.metaModel]=null;throw e;});},getInstance:function(m){return this._oInstanceRegistry[m];},removeGlobalInstance:function(m){this._oInstanceRegistry[m]=null;}});},true);
sap.ui.predefine('sap/fe/core/services/EnvironmentServiceFactory',["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service","../converters/MetaModelConverter"],function(S,a,M){"use strict";var D=M.DefaultEnvironmentCapabilities;
function _(e,i){return g(e)||f(e,i)||c(e,i)||b();}
function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function c(o,e){if(!o)return;if(typeof o==="string")return d(o,e);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(o,e);}
function d(e,n){if(n==null||n>e.length)n=e.length;for(var i=0,o=new Array(n);i<n;i++){o[i]=e[i];}return o;}
function f(e,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;var n=[];var o=true;var p=false;var w=undefined;try{for(var x=e[Symbol.iterator](),y;!(o=(y=x.next()).done);o=true){n.push(y.value);if(i&&n.length===i)break;}}catch(z){p=true;w=z;}finally{try{if(!o&&x["return"]!=null)x["return"]();}finally{if(p)throw w;}}return n;}
function g(e){if(Array.isArray(e))return e;}
function h(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
function j(e,p){for(var i=0;i<p.length;i++){var n=p[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n);}}
function k(C,p,e){if(p)j(C.prototype,p);if(e)j(C,e);return C;}
function l(e,i){if(typeof i!=="function"&&i!==null){throw new TypeError("Super expression must either be null or a function");}e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:true,configurable:true}});if(i)m(e,i);}
function m(o,p){m=Object.setPrototypeOf||function m(o,p){o.__proto__=p;return o;};return m(o,p);}
function q(e){return function(){var i=u(e),n;if(t()){var N=u(this).constructor;n=Reflect.construct(i,arguments,N);}else{n=i.apply(this,arguments);}return r(this,n);};}
function r(e,i){if(i&&(typeof i==="object"||typeof i==="function")){return i;}return s(e);}
function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return e;}
function t(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}
function u(o){u=Object.setPrototypeOf?Object.getPrototypeOf:function u(o){return o.__proto__||Object.getPrototypeOf(o);};return u(o);}
var E=function(i){l(E,i);var n=q(E);function E(){h(this,E);return n.apply(this,arguments);}k(E,[{key:"init",value:function o(){var e=this;this.initPromise=new Promise(function(p,w){e.resolveFn=p;e.rejectFn=w;});var C=this.getContext();this.environmentCapabilities=Object.assign({},D);Promise.all([this.resolveLibrary("sap.chart"),this.resolveLibrary("sap.suite.ui.microchart")]).then(function(p){var w=_(p,2),x=w[0],y=w[1];e.environmentCapabilities.Chart=x;e.environmentCapabilities.MicroChart=y;e.environmentCapabilities.UShell=!!(sap&&sap.ushell&&sap.ushell.Container);e.environmentCapabilities.IntentBasedNavigation=!!(sap&&sap.ushell&&sap.ushell.Container);e.environmentCapabilities=Object.assign(e.environmentCapabilities,C.settings);e.resolveFn(e);}).catch(this.rejectFn);}},{key:"resolveLibrary",value:function p(o){return new Promise(function(w){try{sap.ui.require(["".concat(o.replace(/\./g,"/"),"/library")],function(){w(true);},function(){w(false);});}catch(e){w(false);}});}},{key:"setCapabilities",value:function e(C){this.environmentCapabilities=C;}},{key:"getCapabilities",value:function e(){return this.environmentCapabilities;}},{key:"getInterface",value:function e(){return this;}}]);return E;}(a);var v=function(e){l(v,e);var i=q(v);function v(){h(this,v);return i.apply(this,arguments);}k(v,[{key:"createInstance",value:function p(o){var n=new E(o);return n.initPromise;}}]);return v;}(S);return v;},false);
sap.ui.predefine('sap/fe/core/services/NavigationServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/base/Log","sap/fe/navigation/NavigationHandler"],function(S,a,L,N){"use strict";
var b=S.extend("sap.fe.core.services.NavigationService",{
initPromise:null,
init:function(){var C=this.getContext(),o=C&&C.scopeObject;this.oNavHandler=new N(o);this.oNavHandler.setModel(o.getModel());this.initPromise=Promise.resolve(this);},
navigate:function(s,A,n,i,o,e,d,I){this.oNavHandler.navigate(s,A,n,i,o,e,d,I);},
parseNavigation:function(){return this.oNavHandler.parseNavigation();},
_processBeforeSmartLinkPopoverOpens:function(t,s,i){return this.oNavHandler.processBeforeSmartLinkPopoverOpens(t,s,i);},
getAppStateKeyAndUrlParameters:function(s){return this.oNavHandler._getAppStateKeyAndUrlParameters(s);},
getTechnicalParameters:function(){return this.oNavHandler.getTechnicalParameters();},
setTechnicalParameters:function(t){this.oNavHandler.setTechnicalParameters(t);},
setModel:function(m){this.oNavHandler.setModel(m);},
storeInnerAppState:function(i,I){return this.oNavHandler.storeInnerAppState(i);},
storeInnerAppStateWithImmediateReturn:function(i,I,n){return this.oNavHandler.storeInnerAppStateWithImmediateReturn(i,I,n);},
replaceHash:function(A){this.oNavHandler.replaceHash(A);},
replaceInnerAppStateKey:function(A,s){return this.oNavHandler._replaceInnerAppStateKey(A,s);},
getUrlParametersFromSelectionVariant:function(s){return this.oNavHandler._getURLParametersFromSelectionVariant(s);},
saveAppStateWithImmediateReturn:function(s){if(s){var d=s.toJSONString(),s=JSON.parse(d),x={selectionVariant:s},r=this.oNavHandler._saveAppStateWithImmediateReturn(x);return r.appStateKey?r.appStateKey:"";}},
mixAttributesAndSelectionVariant:function(s,d,i){return this.oNavHandler.mixAttributesAndSelectionVariant(s,d,i);},
constructContextUrl:function(e,m){return this.oNavHandler.constructContextUrl(e,m);}
});
function c(){this.initPromise=Promise.resolve(this);this.getInterface=function(){return this;};function g(){return{};}function G(){return Promise.resolve({});}function f(){var m=jQuery.Deferred();m.resolve({},{},"initial");return m.promise();}function d(){return"";}this.createEmptyAppState=g;this.storeInnerAppStateWithImmediateReturn=g;this.mixAttributesAndSelectionVariant=g;this.getAppState=G;this.getStartupAppState=G;this.parseNavigation=f;this.constructContextUrl=d;this.replaceInnerAppStateKey=function(A){return A?A:"";};this.navigate=function(){};}
return a.extend("sap.fe.core.services.NavigationServiceFactory",{createInstance:function(s){var n=sap.ushell&&sap.ushell.Container?new b(s):new c();return n.initPromise.then(function(o){return o;});}});},true);
sap.ui.predefine('sap/fe/core/services/ResourceModelServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel","sap/base/i18n/ResourceBundle"],function(S,a,R,b){"use strict";
var c=S.extend("sap.fe.core.services.ResourceModelService",{
initPromise:Promise.resolve(),
init:function(){var C=this.getContext();var s=C.settings;this.oFactory=C.factory;var B=s.bundles.concat(s.enhanceI18n||[]).map(function(i){return typeof i.isA==="function"&&i.isA("sap.ui.model.resource.ResourceModel")?i.getResourceBundle():{bundleName:i.replace(/\//g,".")};});this.oResourceModel=new R({bundleName:B[0].bundleName,enhanceWith:B.slice(1),async:true});if(C.scopeType==="component"){var o=C.scopeObject;o.setModel(this.oResourceModel,s.modelName);}this.initPromise=this.oResourceModel.getResourceBundle().then(function(d){this.oResourceModel.__bundle=d;return this;}.bind(this));},
getResourceModel:function(){return this.oResourceModel;},
exit:function(){this.oFactory.removeGlobalInstance();}
});
return a.extend("sap.fe.core.services.ResourceModelServiceFactory",{_oInstances:{},createInstance:function(s){var k=s.settings.bundles.join(",")+(s.settings.enhanceI18n?","+s.settings.enhanceI18n.join(","):"");if(!this._oInstances[k]){this._oInstances[k]=new c(Object.assign({factory:this},s));}return this._oInstances[k].initPromise;},removeGlobalInstance:function(){this._oInstances={};}});},true);
sap.ui.predefine('sap/fe/core/services/RoutingServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/Component","sap/ui/base/BindingParser","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/Log","sap/ui/base/EventProvider","sap/fe/core/BusyLocker","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/EditState","sap/fe/core/actions/messageHandling"],function(S,c,C,B,d,F,e,L,E,f,M,g,h){"use strict";
var R=E.extend("sap.fe.core.services.RoutingServiceEventing",{metadata:{events:{"routeMatched":{},"afterRouteMatched":{}}}});
var k=S.extend("sap.fe.core.services.RoutingService",{
init:function(){var t=this;var o=this.getContext();if(o.scopeType==="component"){this.oAppComponent=o.scopeObject;this.oModel=this.oAppComponent.getModel();this.oMetaModel=this.oModel.getMetaModel();this.oRouter=this.oAppComponent.getRouter();this.oRouterProxy=this.oAppComponent.getRouterProxy();this.eventProvider=new R();var r=this.oAppComponent.getManifestEntry("/sap.ui5/routing");var a=this.oAppComponent.getManifestEntry("/sap.ui5/rootView");this._parseRoutingConfiguration(r,a);var A=this.oAppComponent.getManifestEntry("/sap.app");this.outbounds=A&&A.crossNavigation&&A.crossNavigation.outbounds;}this.initPromise=Promise.resolve(t);},
exit:function(){this.eventProvider.fireEvent("routeMatched",{});this.eventProvider.destroy();},
_parseRoutingConfiguration:function(r,o){var t=this,j=o&&o.viewName==="sap.fe.templates.RootContainer.view.Fcl";this._mTargets={};Object.keys(r.targets).forEach(function(T){t._mTargets[T]=Object.assign({targetName:T},r.targets[T]);if(t._mTargets[T].contextPattern!==undefined){t._mTargets[T].viewLevel=t._getViewLevelFromPattern(t._mTargets[T].contextPattern);}});this._mRoutes={};for(var s in r.routes){var l=r.routes[s],m=Array.isArray(l.target)?l.target:[l.target],n=Array.isArray(r.routes)?l.name:s,p=l.pattern;if(p.length<8||p.indexOf(":?query:")!==p.length-8){L.error("Pattern for route "+n+" doesn't end with '?:query:' : "+p);}var q=t._getViewLevelFromPattern(p);t._mRoutes[n]={name:n,pattern:p,targets:m,routeLevel:q};for(var i=0;i<m.length;i++){var P=t._mTargets[m[i]].parent;if(P){m.push(P);}}if(!j){if(t._mTargets[m[0]].viewLevel===undefined||t._mTargets[m[0]].viewLevel<q){t._mTargets[m[0]].viewLevel=q;}t._mTargets[m[0]].FCLLevel=-1;}else if(m.length===1&&t._mTargets[m[0]].controlAggregation!=="beginColumnPages"){t._mTargets[m[0]].FCLLevel=3;}else{m.forEach(function(T){switch(t._mTargets[T].controlAggregation){case"beginColumnPages":t._mTargets[T].FCLLevel=0;break;case"midColumnPages":t._mTargets[T].FCLLevel=1;break;default:t._mTargets[T].FCLLevel=2;}});}}Object.keys(t._mTargets).forEach(function(T){while(t._mTargets[T].parent){var P=t._mTargets[T].parent;t._mTargets[P].viewLevel=t._mTargets[P].viewLevel||t._mTargets[T].viewLevel;t._mTargets[P].contextPattern=t._mTargets[P].contextPattern||t._mTargets[T].contextPattern;t._mTargets[P].FCLLevel=t._mTargets[P].FCLLevel||t._mTargets[T].FCLLevel;t._mTargets[P].controlAggregation=t._mTargets[P].controlAggregation||t._mTargets[T].controlAggregation;T=P;}});var u=[],v=[],D;for(var N in t._mRoutes){var w=t._mRoutes[N].routeLevel;if(w===0){u.push(N);}else if(w===1){v.push(N);}}if(u.length===1){D=u[0];}else if(v.length===1){D=v[0];}if(D){var x=t._mRoutes[D].targets.slice(-1)[0];t.sRootEntitySet="";if(t._mTargets[x].options&&t._mTargets[x].options.settings){t.sRootEntitySet=t._mTargets[x].options.settings.entitySet;}if(!t.sRootEntitySet){L.error("Cannot determine default entitySet: entitySet missing in default target: "+x);}}else{L.error("Cannot determine default entitySet: no default route found.");}Object.keys(t._mTargets).map(function(T){return t._mTargets[T];}).sort(function(a,b){return a.viewLevel<b.viewLevel?-1:1;}).forEach(function(a){if(a.options){var b=a.options.settings;if(!b.fullContextPath){if(a.viewLevel===0||a.viewLevel===undefined){b.fullContextPath="/";}else{b.fullContextPath="/"+b.entitySet+"/";}}Object.keys(b.navigation||{}).forEach(function(y){var z=t._mRoutes[b.navigation[y].detail.route];if(z&&z.targets){z.targets.forEach(function(T){if(t._mTargets[T].options&&t._mTargets[T].options.settings&&!t._mTargets[T].options.settings.fullContextPath){t._mTargets[T].options.settings.fullContextPath=b.fullContextPath+y+"/";}});}});}});},
_getViewLevelFromPattern:function(p){p=p.replace(":?query:","");if(p&&p[0]!=="/"&&p[0]!=="?"){p="/"+p;}return p.split("/").length-1;},
_getRouteInformation:function(r){return this._mRoutes[r];},
_getTargetInformation:function(t){return this._mTargets[t];},
_getComponentId:function(o,s){if(s.indexOf(o+"---")===0){return s.substr(o.length+3);}return s;},
getTargetInformationFor:function(o){var t=this._getComponentId(o._sOwnerId,o.getId());var a=this;var s=null;Object.keys(this._mTargets).forEach(function(T){if(a._mTargets[T].id===t||a._mTargets[T].viewId===t){s=T;}});return this._getTargetInformation(s);},
getLastSemanticMapping:function(){return this.oLastSemanticMapping;},
setLastSemanticMapping:function(m){this.oLastSemanticMapping=m;},
navigateTo:function(o,r,p,P){var t;if(!p){t=d.getSemanticPath(o);}else{var m=this.prepareParameters(p,r,o);t=this.oRouter.getURL(r,m);}this.oRouterProxy.navToHash(t,P);},
prepareParameters:function(p,t,o){var P;try{var s=o.getPath();var a=s.split("/");P=Object.keys(p).reduce(function(r,i){var j=p[i];var l=B.complexParser(j);var m=l.parts||[l];var n=m.map(function(q){var u=q.path.split("../");var v=a.slice(0,a.length-u.length+1);v.push(u[u.length-1]);return o.getObject(v.join("/"));});if(l.formatter){r[i]=l.formatter.apply(this,n);}else{r[i]=n.join("");}return r;},{});}catch(b){L.error("Could not parse the parameters for the navigation to route "+t);P=undefined;}return P;},
navigateToContext:function(o,p,v,a){var t,r=null;if(p.targetPath&&v&&v.navigation){var b=v.navigation[p.targetPath].detail;t=b.route;if(b.parameters){r=this.prepareParameters(b.parameters,t,o);}}var T=this._getPathFromContext(o,p);if(T.length===0&&this.bExitOnNavigateBackToRoot){return this.oRouterProxy.exitFromApp();}if(p.asyncContext||p.bDeferredContext){T+="(...)";}var l=this._calculateLayout(T,p);if(l){T+="?layout="+l;}var n={oAsyncContext:p.asyncContext,bDeferredContext:p.bDeferredContext,bTargetEditable:p.editable,bPersistOPScroll:p.bPersistOPScroll,useContext:p.updateFCLLevel===-1||p.bRecreateContext?undefined:o};if(p.checkNoHashChange){var s=this.oRouterProxy.getHash().replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"");if(T===s){var m=this.oRouter.getRouteInfoByHash(this.oRouterProxy.getHash());m.navigationInfo=n;m.routeInformation=this._getRouteInformation(this.sCurrentRouteName);m.routePattern=this.sCurrentRoutePattern;m.views=this.aCurrentViews;this.oRouterProxy.storeFocusForHash(0,null,this.oRouterProxy.getHash());this.eventProvider.fireEvent("routeMatched",m);this.eventProvider.fireEvent("afterRouteMatched",m);return Promise.resolve();}}if(p.transient&&p.editable==true&&T.indexOf("(...)")===-1){if(T.indexOf("?")>-1){T+="&i-action=create";}else{T+="?i-action=create";}}if(a&&a.name==="sap.fe.templates.ListReport"){var i=this.oRouter.getRouteInfoByHash(T);if(i){var j=this._getRouteInformation(i.name);if(j&&j.targets&&j.targets.length>0){var q=j.targets[j.targets.length-1];var u=this._getTargetInformation(q);if(u&&u.name==="sap.fe.templates.ObjectPage"){h.removeUnboundTransitionMessages();}}}}this.navigationInfoQueue.push(n);if(t&&r!=null){this.oRouter.navTo(t,r);return Promise.resolve();}else{return this.oRouterProxy.navToHash(T,false,p.noPreservationCache);}},
isCurrentStateImpactedBy:function(o){var p=o.getPath();if(this.oRouterProxy.isCurrentStateImpactedBy(p)){return true;}else if(/^[^\(\)]+\([^\(\)]+\)$/.test(p)){var s;if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===p){s=this.oLastSemanticMapping.semanticPath;}else{s=d.getSemanticPath(o);}return s!=p?this.oRouterProxy.isCurrentStateImpactedBy(s):false;}else{return false;}},
_getPathFromContext:function(o,p){var P;if(o.isA("sap.ui.model.odata.v4.ODataListBinding")&&o.isRelative()){P=o.getHeaderContext().getPath();}else{P=o.getPath();}if(p.updateFCLLevel===-1){var r=new RegExp("/[^/]*$");P=P.replace(r,"");if(this.oLastSemanticMapping&&this.oLastSemanticMapping.technicalPath===P){P=this.oLastSemanticMapping.semanticPath;}}else if(M.isDraftSupported(o)){var s=d.getSemanticPath(o);if(s!==P){this.oLastSemanticMapping={technicalPath:P,semanticPath:s};P=s;}}if(P[0]==="/"){P=P.substring(1);}return P;},
_calculateLayout:function(p,P){var a=P.FCLLevel;if(P.updateFCLLevel){a+=P.updateFCLLevel;if(a<0){a=0;}}return this.oAppComponent.getRootViewController().calculateLayout(a,p,P.sLayout);},
_onRouteMatched:function(o){var a=this.oAppComponent.getAppStateHandler(),t=this;var p=o.getParameters();if(this.navigationInfoQueue.length){p.navigationInfo=this.navigationInfoQueue[0];this.navigationInfoQueue=this.navigationInfoQueue.slice(1);}else{p.navigationInfo={};}if(a.checkIfRouteChangedByIApp()){p.navigationInfo.bReasonIsIappState=true;a.resetRouteChangedByIApp();}this.sCurrentRouteName=o.getParameter("name");this.sCurrentRoutePattern=o.getParameters().config.pattern;this.aCurrentViews=o.getParameter("views");p.routeInformation=this._getRouteInformation(this.sCurrentRouteName);p.routePattern=this.sCurrentRoutePattern;this.eventProvider.fireEvent("routeMatched",p);this.eventProvider.fireEvent("afterRouteMatched",p);g.cleanProcessedEditState();if(!history.state||history.state.feLevel===undefined){this.oRouterProxy.restoreHistory().then(function(){t.oRouterProxy.resolveRouteMatch();}).catch(function(b){L.error("Error while restoring history",b);});}else{this.oRouterProxy.resolveRouteMatch();}},
attachRouteMatched:function(D,a,l){this.eventProvider.attachEvent("routeMatched",D,a,l);},
detachRouteMatched:function(a,l){this.eventProvider.detachEvent("routeMatched",a,l);},
attachAfterRouteMatched:function(D,a,l){this.eventProvider.attachEvent("afterRouteMatched",D,a,l);},
detachAfterRouteMatched:function(a,l){this.eventProvider.detachEvent("afterRouteMatched",a,l);},
getRouteFromHash:function(r,a){var H=r.getHashChanger().hash;var o=r.getRouteInfoByHash(H);return a.getMetadata().getManifestEntry("/sap.ui5/routing/routes").filter(function(b){return b.name===o.name;})[0];},
getTargetsFromRoute:function(r,a){var t=r.target;var b=this;if(typeof t==="string"){return[this._mTargets[t]];}else{var T=[];t.forEach(function(s){T.push(b._mTargets[s]);});return T;}},
initializeRouting:function(){var t=this;this.oRouter.attachRouteMatched(this._onRouteMatched.bind(this));this.navigationInfoQueue=[];g.resetEditState();this.bExitOnNavigateBackToRoot=false;var i=t.oRouter.getHashChanger().getHash().indexOf("sap-iapp-state")!==-1,o=t.oAppComponent.getComponentData(),s=o&&o.startupParameters,H=s!==undefined&&Object.keys(s).length!==0,a=Promise.resolve();if(!i&&H){var b=t.oRouter.getHashChanger().getHash();if(s.preferredMode&&s.preferredMode[0]==="create"&&!b){a=t._managePreferredModeCreateStartup();}else{a=t._manageDeeplinkStartup(s);}}return a;},
getDefaultCreateHash:function(){var H=this.getRootEntitySet()+"(...)";if(this.oRouter.getRouteInfoByHash(H)){return H;}else{throw new Error("No route match for creating a new "+this.getRootEntitySet());}},
_managePreferredModeCreateStartup:function(){var t=this;return this.oMetaModel.requestObject("/"+this.getRootEntitySet()+"@").then(function(o){var m,b=true;if(o["@com.sap.vocabularies.Common.v1.DraftRoot"]&&o["@com.sap.vocabularies.Common.v1.DraftRoot"]["NewAction"]){m="/"+t.getRootEntitySet()+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction@Org.OData.Core.V1.OperationAvailable";}else if(o["@com.sap.vocabularies.Session.v1.StickySessionSupported"]&&o["@com.sap.vocabularies.Session.v1.StickySessionSupported"]["NewAction"]){m="/"+t.getRootEntitySet()+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction@Org.OData.Core.V1.OperationAvailable";}if(m){var n=t.oMetaModel.getObject(m);if(n===false){b=false;}}else{var i=o["@Org.OData.Capabilities.V1.InsertRestrictions"];if(i&&i.Insertable===false){b=false;}}if(b){var p=t.getDefaultCreateHash();t.oRouter.getHashChanger().replaceHash(p);t.bExitOnNavigateBackToRoot=true;}}).catch(function(){L.error("Cannot fetch the Annotations");});},
_manageDeeplinkStartup:function(s){var t=this,a;return this.oMetaModel.requestObject("/$EntityContainer/").then(function(){var l=t._getNavigablePages(t.oAppComponent.getManifest()["sap.ui5"].routing);a=t._findTargetPagesFromStartupParams(l,s);var b=a.map(function(p){var o,i;if(p.isSemanticKeyNavigation){o=t._createFilter(p.draft,p.semanticKeys,s);}else{o=t._createFilter(p.draft,p.technicalKeys,s);}i=t.oModel.bindList("/"+p.entitySet,undefined,undefined,o);return i.requestContexts(0,2);});return Promise.all(b);}).then(function(v){if(v.length){var b=[];v.forEach(function(i){if(i.length===1){b.push(i[0]);}});if(b.length===v.length&&!t.oRouter.getHashChanger().getHash()){var H=t._buildStartupHash(a,b);if(H){t.oRouter.getHashChanger().replaceHash(H);}}}}).catch(function(b){L.info("Could not find results for list bind: "+b);});},
_getNavigablePages:function(r){var a=r.routes,t=r.targets,p={};for(var i=0;i<a.length;i++){var P={},s=a[i].pattern,T=a[i].target,l=s.split("/").length-1;P["pattern"]=s;if(s===":?query:"||s===""){continue;}if(l===1&&s.split("/")[l]===":?query:"){l=0;}P["level"]=l;if(Array.isArray(T)){P["target"]=T[T.length-1];}else{P["target"]=T;}if(t[P.target].options&&t[P.target].options.settings){P["allowDeepLinking"]=t[P.target].options.settings.allowDeepLinking;P["entitySet"]=t[P.target].options.settings.entitySet;}if(!P["allowDeepLinking"]&&P["level"]!==0){continue;}else if(!p[P.level]){p[P.level]=[];}p[P.level].push(P);}return p;},
_findTargetPagesFromStartupParams:function(p,s){var l=0,r=[],b=true;while(b&&l in p){var o=p[l];b=false;for(var i=0;i<o.length;++i){var O=o[i];if(!O.entitySet&&O.level===0){O.entitySet=this.getRootEntitySet();}if(!O.entitySet){continue;}O.entityType=this.oMetaModel.getObject("/$EntityContainer/"+O.entitySet+"/");O.draft=this.oMetaModel.getObject("/$EntityContainer/"+O.entitySet+"@com.sap.vocabularies.Common.v1.DraftRoot")||this.oMetaModel.getObject("/$EntityContainer/"+O.entitySet+"@com.sap.vocabularies.Common.v1.DraftNode");O.technicalKeys=O.entityType["$Key"];O.semanticKeys=this.oMetaModel.getObject("/$EntityContainer/"+O.entitySet+"/@com.sap.vocabularies.Common.v1.SemanticKey");if(this._checkForKeys(O.semanticKeys,s)){O.isSemanticKeyNavigation=true;r.push(O);b=true;break;}else if(O.level===0&&this._checkForKeys(O.technicalKeys,s)){O.isSemanticKeyNavigation=false;r.push(O);b=true;break;}}++l;}return r;},
_createFilter:function(D,K,s){var a=[];for(var j=0;j<K.length;j++){var p=K[j].$PropertyPath;if(!p){p=K[j];if(p==="IsActiveEntity"){D=false;}}var v=s[p][0];if(v){a.push(new F(p,e.EQ,v));}else{return undefined;}}if(D){var o=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});a.push(o);}var b=new F(a,true);return b;},
_checkForKeys:function(K,p){if(K&&K.length){for(var j=0;j<K.length;j++){var P=K[j].$PropertyPath;if(!P){P=K[j];}var a=p[P];if(!a||(a&&a.length>1)){return false;}}return true;}return false;},
_buildStartupHash:function(r,a){var H;if(a.length===1){var t=a[0].getPath(),s=d.getSemanticPath(a[0]);if(s!==t){this.oLastSemanticMapping={technicalPath:t,semanticPath:s};}H=s.substring(1);}else if(a.length>1){var p=r[r.length-1].pattern.split("/");H=p.map(function(P,i){var K=P.split("(")[0];var v=a[i].getPath().split("(")[1];return K+"("+v;}).join("/");}return H;},
getOutbounds:function(){return this.outbounds;},
getRootEntitySet:function(){return this.sRootEntitySet;}
});
return c.extend("sap.fe.core.services.RoutingServiceFactory",{createInstance:function(s){var r=new k(s);return r.initPromise;}});},true);
sap.ui.predefine('sap/fe/core/services/ShellServicesFactory',["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service"],function(S,a){"use strict";
function _(e,i){return g(e)||f(e,i)||c(e,i)||b();}
function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function c(o,e){if(!o)return;if(typeof o==="string")return d(o,e);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(o,e);}
function d(e,j){if(j==null||j>e.length)j=e.length;for(var i=0,k=new Array(j);i<j;i++){k[i]=e[i];}return k;}
function f(e,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;var j=[];var k=true;var n=false;var o=undefined;try{for(var p=e[Symbol.iterator](),B;!(k=(B=p.next()).done);k=true){j.push(B.value);if(i&&j.length===i)break;}}catch(C){n=true;o=C;}finally{try{if(!k&&p["return"]!=null)p["return"]();}finally{if(n)throw o;}}return j;}
function g(e){if(Array.isArray(e))return e;}
function h(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
function l(e,p){for(var i=0;i<p.length;i++){var j=p[i];j.enumerable=j.enumerable||false;j.configurable=true;if("value"in j)j.writable=true;Object.defineProperty(e,j.key,j);}}
function m(C,p,e){if(p)l(C.prototype,p);if(e)l(C,e);return C;}
function q(e,i){if(typeof i!=="function"&&i!==null){throw new TypeError("Super expression must either be null or a function");}e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:true,configurable:true}});if(i)r(e,i);}
function r(o,p){r=Object.setPrototypeOf||function r(o,p){o.__proto__=p;return o;};return r(o,p);}
function s(D){return function(){var e=w(D),i;if(v()){var N=w(this).constructor;i=Reflect.construct(e,arguments,N);}else{i=e.apply(this,arguments);}return t(this,i);};}
function t(e,i){if(i&&(typeof i==="object"||typeof i==="function")){return i;}return u(e);}
function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return e;}
function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}
function w(o){w=Object.setPrototypeOf?Object.getPrototypeOf:function w(o){return o.__proto__||Object.getPrototypeOf(o);};return w(o);}
var x=function(e){q(x,e);var i=s(x);function x(){h(this,x);return i.apply(this,arguments);}m(x,[{key:"init",value:function j(){this.initPromise=Promise.resolve(this);this.instanceType="mock";}},{key:"getLinks",value:function j(o){return Promise.resolve([]);}},{key:"getLinksWithCache",value:function j(o){return Promise.resolve([]);}},{key:"toExternal",value:function j(n,C){return;}},{key:"getStartupAppState",value:function j(o){return Promise.resolve(null);}},{key:"backToPreviousApp",value:function j(){return;}},{key:"hrefForExternal",value:function k(o,C,j){return"";}},{key:"getAppState",value:function k(C,j){return Promise.resolve({});}},{key:"createEmptyAppState",value:function j(C){return Promise.resolve({});}},{key:"isNavigationSupported",value:function j(n,C){return Promise.resolve({});}},{key:"isInitialNavigation",value:function j(){return false;}},{key:"expandCompactHash",value:function j(H){return Promise.resolve({});}},{key:"parseShellHash",value:function p(H){return{};}},{key:"splitHash",value:function j(H){return Promise.resolve({});}},{key:"constructShellHash",value:function j(n){return"";}},{key:"setDirtyFlag",value:function j(D){return;}},{key:"registerDirtyStateProvider",value:function j(D){return;}},{key:"deregisterDirtyStateProvider",value:function j(D){return;}},{key:"createRenderer",value:function j(){return{};}},{key:"getUser",value:function j(){return{};}},{key:"hasUShell",value:function j(){return false;}},{key:"registerNavigationFilter",value:function j(n){return;}},{key:"unregisterNavigationFilter",value:function j(n){return;}},{key:"setBackNavigation",value:function j(C){return;}},{key:"setHierarchy",value:function j(H){return;}},{key:"setTitle",value:function j(T){return;}},{key:"getContentDensity",value:function j(){if(document.body.classList.contains("sapUiSizeCozy")){return"cozy";}else if(document.body.classList.contains("sapUiSizeCompact")){return"compact";}else{return"";}}}]);return x;}(a);
function y(j){return new Promise(function(e,i){j.done(e).fail(i);});}
var z=function(e){q(z,e);var n=s(z);function z(){h(this,z);return n.apply(this,arguments);}m(z,[{key:"init",value:function D(){var j=this;var C=this.getContext();var o=C.scopeObject;this.oShellContainer=C.settings.shellContainer;this.instanceType="real";this.linksCache={};this.fnFindSemanticObjectsInCache=function(E){var F=E;var G=[];var N=[];var H;for(var i=0;i<F.length;i++){if(this.linksCache[F[i][0].semanticObject]){G.push(this.linksCache[F[i][0].semanticObject].links);Object.defineProperty(E[i][0],"links",{value:this.linksCache[F[i][0].semanticObject].links});}else{N.push(F[i]);}}return{oldArgs:E,newArgs:N,cachedLinks:G};};this.initPromise=new Promise(function(i,E){j.resolveFn=i;j.rejectFn=E;});var k=this.oShellContainer.getServiceAsync("CrossApplicationNavigation");var U=this.oShellContainer.getServiceAsync("URLParsing");var p=this.oShellContainer.getServiceAsync("ShellNavigation");var B=o.getService("ShellUIService");Promise.all([k,U,p,B]).then(function(i){var E=_(i,4),F=E[0],G=E[1],H=E[2],I=E[3];j.crossAppNavService=F;j.urlParsingService=G;j.shellNavigation=H;j.shellUIService=I;j.resolveFn();}).catch(this.rejectFn);}},{key:"getLinks",value:function j(o){var i=this;return new Promise(function(k,p){i.crossAppNavService.getLinks(o).fail(function(E){p(new Error(E+" sap.fe.core.services.NavigationServiceFactory.getLinks"));}).then(k);});}},{key:"getLinksWithCache",value:function B(o){var p=this;return new Promise(function(C,D){if(o.length===0){C([]);}else{var L;var E=p.fnFindSemanticObjectsInCache(o);if(E.newArgs.length===0){C(E.cachedLinks);}else{p.crossAppNavService.getLinks(E.newArgs).fail(function(i){D(new Error(i+" sap.fe.core.services.NavigationServiceFactory.getLinksWithCache"));}).then(function(L){if(L.length!==0){var F={};for(var i=0;i<L.length;i++){if(E.newArgs[i][0].links===undefined){F[E.newArgs[i][0].semanticObject]={links:L[i]};p.linksCache=Object.assign(p.linksCache,F);}}}if(E.cachedLinks.length===0){C(L);}else{var M=[];var j=0;for(var k=0;k<E.oldArgs.length;k++){if(j<L.length){if(E.oldArgs[k][0].semanticObject===E.newArgs[j][0].semanticObject){M.push(L[j]);j++;}else{M.push(E.oldArgs[k][0].links);}}else{M.push(E.oldArgs[k][0].links);}}C(M);}});}}});}},{key:"getShellContainer",value:function i(){return this.oShellContainer;}},{key:"toExternal",value:function i(N,C){this.crossAppNavService.toExternal(N,C);}},{key:"getStartupAppState",value:function j(o){var i=this;return new Promise(function(k,p){i.crossAppNavService.getStartupAppState(o).fail(function(E){p(new Error(E+" sap.fe.core.services.NavigationServiceFactory.getStartupAppState"));}).then(k);});}},{key:"backToPreviousApp",value:function i(){return this.crossAppNavService.backToPreviousApp();}},{key:"hrefForExternal",value:function j(o,C,i){return this.crossAppNavService.hrefForExternal(o,C,i);}},{key:"getAppState",value:function j(C,i){return y(this.crossAppNavService.getAppState(C,i));}},{key:"createEmptyAppState",value:function i(C){return this.crossAppNavService.createEmptyAppState(C);}},{key:"isNavigationSupported",value:function i(N,C){return y(this.crossAppNavService.isNavigationSupported(N,C));}},{key:"isInitialNavigation",value:function i(){return this.crossAppNavService.isInitialNavigation();}},{key:"expandCompactHash",value:function i(H){return this.crossAppNavService.expandCompactHash(H);}},{key:"parseShellHash",value:function p(H){return this.urlParsingService.parseShellHash(H);}},{key:"splitHash",value:function i(H){return this.urlParsingService.splitHash(H);}},{key:"constructShellHash",value:function i(N){return this.urlParsingService.constructShellHash(N);}},{key:"setDirtyFlag",value:function i(D){this.oShellContainer.setDirtyFlag(D);}},{key:"registerDirtyStateProvider",value:function i(D){this.oShellContainer.registerDirtyStateProvider(D);}},{key:"deregisterDirtyStateProvider",value:function i(D){this.oShellContainer.deregisterDirtyStateProvider(D);}},{key:"createRenderer",value:function i(){return this.oShellContainer.createRenderer();}},{key:"getUser",value:function i(){return this.oShellContainer.getUser();}},{key:"hasUShell",value:function i(){return true;}},{key:"registerNavigationFilter",value:function i(N){this.shellNavigation.registerNavigationFilter(N);}},{key:"unregisterNavigationFilter",value:function i(N){this.shellNavigation.unregisterNavigationFilter(N);}},{key:"setBackNavigation",value:function i(C){this.shellUIService.setBackNavigation(C);}},{key:"setHierarchy",value:function i(H){this.shellUIService.setHierarchy(H);}},{key:"setTitle",value:function i(T){this.shellUIService.setTitle(T);}},{key:"getContentDensity",value:function i(){return this.oShellContainer.getUser().getContentDensity();}}]);return z;}(a);var A=function(e){q(A,e);var i=s(A);function A(){h(this,A);return i.apply(this,arguments);}m(A,[{key:"createInstance",value:function k(o){o.settings.shellContainer=sap.ushell&&sap.ushell.Container;var j=o.settings.shellContainer?new z(o):new x(o);return j.initPromise.then(function(){o.scopeObject.getShellServices=function(){return j;};return j;});}}]);return A;}(S);return A;},false);
sap.ui.predefine('sap/fe/core/services/TemplatedViewServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/model/base/ManagedObjectModel","sap/ui/model/resource/ResourceModel","sap/ui/core/mvc/View","sap/ui/core/Component","sap/ui/model/json/JSONModel","sap/base/Log","sap/fe/core/TemplateModel","sap/fe/core/helpers/DynamicAnnotationPathHelper","sap/ui/core/cache/CacheManager","sap/base/strings/hash","sap/ui/VersionInfo"],function(S,a,b,M,R,V,C,J,L,T,D,c,h,d){"use strict";
var e=S.extend("sap.fe.core.services.TemplatedViewService",{
initPromise:null,
init:function(){var t=this;var s=[];var o=this.getContext();var f=o.scopeObject;var A=C.getOwnerComponentFor(f);var m=A.getMetaModel();var g=A.getMetadata().getComponentName()+"::"+A.getLocalId(f.getId());var E=f.getEnhanceI18n()||[];var j;if(E){j=A.getMetadata().getComponentName();for(var i=0;i<E.length;i++){var r=A.getModel(E[i]);if(r&&r.isA("sap.ui.model.resource.ResourceModel")){E[i]=r;}else{E[i]=j+"."+E[i].replace(".properties","");}}}var k=A.getMetadata().getName()+"_"+g+"_"+sap.ui.getCore().getConfiguration().getLanguageTag();s.push(b.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:f,settings:{bundles:["sap.fe.core.messagebundle","sap.fe.templates.messagebundle"],enhanceI18n:E,modelName:"sap.fe.i18n"}}).then(function(l){return l.getResourceModel();}));s.push(b.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:m}}).then(function(l){return l.validateCacheKey(k);}));s.push(d.load().then(function(I){var l="";if(!I.libraries){l=sap.ui.buildinfo.buildtime;}else{I.libraries.forEach(function(n){l+=n.buildTimestamp;});}return l;}).catch(function(){return"<NOVALUE>";}));var p="";this.initPromise=Promise.all(s).then(function(l){var n=l[1];var v=l[2];var q=A.getManifest();var u=A.getShellServices();var w=h(JSON.stringify({sapApp:q["sap.app"],viewData:f.getViewData()}));p=n+"-"+w+"-"+v+"-"+g+"-"+u.instanceType+"-pageModel";return Promise.all(l.concat([t._getCachedModel(p)]));}).then(function(l){var r=l[0];var n=l[1];var P=l[3];return new Promise(function(q){sap.ui.require(["sap/fe/core/converters/TemplateConverter"],function(u){q(t.createView(r,g,n,p,P,u));});});}).then(function(l){var n=b.get("sap.fe.core.services.CacheHandlerService").getInstance(m);n.invalidateIfNeeded(l,k);});},
_getCachedModel:function(s){if(sap.ui.getCore().getConfiguration().getViewCache()){return c.get(s);}return undefined;},
_setCachedModel:function(s,o){if(sap.ui.getCore().getConfiguration().getViewCache()){c.set(s,o);}return undefined;},
createView:function(r,s,f,p,P,g){var t=this;var o=this.getContext(),m=o.settings,i=m.converterType,j=o.scopeObject,A=C.getOwnerComponentFor(j),F=A.getRoutingService().getTargetInformationFor(j).options.settings.fullContextPath,k=A.getMetaModel(),l=A.getManifest(),n=new J(sap.ui.Device).setDefaultBindingMode("OneWay"),q=new J(l),E=false,u,v,w,x;this.oFactory=o.factory;function y(){var B=F.split("/");var G=B.reduce(function(H,N){if(N===""){return H;}if(H===""){H="/"+N;}else{var I=k.getObject(H+"/$NavigationPropertyBinding/"+N);if(I&&Object.keys(I).length>0){H+="/$NavigationPropertyBinding";}H+="/"+N;}return H;},"");var w={type:"XML",preprocessors:{xml:{bindingContexts:{entitySet:G?k.createBindingContext(G):null,fullContextPath:F?k.createBindingContext(F):null,converterContext:u.createBindingContext("/",null,{noResolve:true}),viewData:x?v.createBindingContext("/"):null},models:{entitySet:k,fullContextPath:k,"sap.fe.i18n":r,metaModel:k,"sap.fe.deviceModel":n,manifest:q,converterContext:u,viewData:v},appComponent:A}},id:s,viewName:m.viewName||j.getViewName(),viewData:x,cache:{keys:[f]},models:{"sap.fe.i18n":r},height:"100%"};return w;}function z(B){L.error(B.message,B);w.viewName=m.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage";w.preprocessors.xml.models["error"]=new J(B);return j.runAsOwner(function(){return V.create(w).then(function(G){t.oView=G;t.oView.setModel(new M(t.oView),"$view");j.setAggregation("rootControl",t.oView);return f;});});}return A.getService("routingService").then(function(B){var G=B.getTargetInformationFor(j);var O=l["sap.app"]&&l["sap.app"].crossNavigation&&l["sap.app"].crossNavigation.outbounds;var N=j.getNavigation()||{};Object.keys(N).forEach(function(I){var K=N[I];var Q;if(K.detail&&K.detail.outbound&&O[K.detail.outbound]){Q=O[K.detail.outbound];K.detail.outboundDetail={semanticObject:Q.semanticObject,action:Q.action,parameters:Q.parameters};}if(K.create&&K.create.outbound&&O[K.create.outbound]){Q=O[K.create.outbound];K.create.outboundDetail={semanticObject:Q.semanticObject,action:Q.action,parameters:Q.parameters};}});x={navigation:N,viewLevel:G.viewLevel,stableId:s,contentDensities:l["sap.ui5"].contentDensities,resourceBundle:r.__bundle,fullContextPath:F};if(j.getViewData){Object.assign(x,j.getViewData());}x.converterType=i;v=new J(x);if(x&&x.controlConfiguration){Object.keys(x.controlConfiguration).forEach(function(I){if(I.indexOf("[")!==-1){var K=D.resolveDynamicExpression(I,k);x.controlConfiguration[K]=x.controlConfiguration[I];}});}var H=A.getShellServices();u=new T(function(){try{if(!!P){return P;}else{var I=A.getDiagnostics();var K=I.getIssues().length;var Q=g.convertPage(i,k,x,H,I,F,A.getEnvironmentCapabilities().getCapabilities());var U=I.getIssues();var W=U.slice(K);if(W.length>0){L.warning("Some issues have been detected in your project, please check the UI5 support assistant rule for sap.fe.core");}t._setCachedModel(p,Q);return Q;}}catch(X){L.error(X,X);return{};}},k);if(!E){w=y();j.setModel(u,"_pageModel");return j.runAsOwner(function(){return V.create(w).catch(z).then(function(I){t.oView=I;t.oView.setModel(new M(t.oView),"$view");j.setAggregation("rootControl",t.oView);return f;}).catch(L.error);});}}).catch(function(B){L.error(B.message,B);throw new Error("Error while creating view : "+B);});},
getView:function(){return this.oView;},
exit:function(){this.oFactory.removeGlobalInstance();}
});
return a.extend("sap.fe.core.services.TemplatedViewServiceFactory",{_oInstanceRegistry:{},createInstance:function(s){var t=new e(Object.assign({factory:this},s));return t.initPromise.then(function(){return t;});},removeGlobalInstance:function(){this._oInstanceRegistry={};}});},true);
sap.ui.predefine('sap/fe/core/support/Diagnostics',[],function(){"use strict";
function _(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
function a(t,p){for(var i=0;i<p.length;i++){var d=p[i];d.enumerable=d.enumerable||false;d.configurable=true;if("value"in d)d.writable=true;Object.defineProperty(t,d.key,d);}}
function b(C,p,s){if(p)a(C.prototype,p);if(s)a(C,s);return C;}
var D=function(){function D(){_(this,D);this._issues=[];}b(D,[{key:"addIssue",value:function g(i,c,d,e,s){var f=this.checkIfIssueExists(i,c,d,e,s);if(!f){this._issues.push({category:i,severity:c,details:d,subCategory:s});}}},{key:"getIssues",value:function g(){return this._issues;}},{key:"getIssuesByCategory",value:function g(i,s){if(s){return this._issues.filter(function(c){return c.category===i&&c.subCategory===s;});}else{return this._issues.filter(function(c){return c.category===i;});}}},{key:"checkIfIssueExists",value:function f(i,s,d,c,e){if(c&&c[i]&&e){return this._issues.some(function(g){return g.category===i&&g.severity===s&&g.details.replace(/\n/g,"")===d.replace(/\n/g,"")&&g.subCategory===e;});}return this._issues.some(function(g){return g.category===i&&g.severity===s&&g.details.replace(/\n/g,"")===d.replace(/\n/g,"");});}}]);return D;}();return D;},false);
sap.ui.predefine('sap/fe/core/templating/DataModelPathHelper',["sap/fe/core/helpers/BindingExpression","sap/fe/core/templating/PropertyHelper"],function(B,P){"use strict";var _={};var i=P.isPathExpression;var e=B.equal;var c=B.constant;var a=B.annotationExpression;var g=function(n){var v=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!n){return v.map(function(p){return p.name;});}else{if(v.length>=n.navigationProperties.length){var r=[];n.navigationProperties.forEach(function(p,q){if(v[q]!==p){r.push(v[q]);}});r=r.concat(v.slice(n.navigationProperties.length));return r.map(function(p){return p.name;});}else{var o=[];v.forEach(function(p,q){if(n.navigationProperties[q]!==p){o.push(v[q]);}});o=o.concat(n.navigationProperties.slice(v.length));return o.map(function(p){return p.partner;});}}};_.getPathRelativeLocation=g;var b=function(n,p){var s="";if(i(p)&&p.path){s=p.path;}else if(typeof p==="string"){s=p;}var t;if(i(p)){t=p.$target;}else if(n.targetEntityType){t=n.targetEntityType.resolvePath(s);}else{t=n.targetObject;}var o=s.split("/");var q=n.targetEntitySet;var r=n.targetEntityType;var u=n.navigationProperties.concat();o.reduce(function(v,w){if(!v){return undefined;}var x=v.navigationProperties.find(function(y){return y.name===w;});if(x){u.push(x);r=x.targetType;if(q&&q.navigationPropertyBinding.hasOwnProperty(w)){q=q.navigationPropertyBinding[w];}return r;}return undefined;},n.targetEntityType);return{startingEntitySet:n.startingEntitySet,navigationProperties:u,contextLocation:n.contextLocation,targetEntitySet:q,targetEntityType:r,targetObject:t};};_.enhanceDataModelPath=b;var d=function(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var p="";if(!r){p+="/".concat(n.startingEntitySet.name);}if(n.navigationProperties.length>0){if(p.length>0){p+="/";}p+=n.navigationProperties.map(function(o){return o.name;}).join("/");}if(n.targetObject&&n.targetObject.name&&n.targetObject._type!=="NavigationProperty"&&n.targetObject!==n.startingEntitySet){if(!p.endsWith("/")){p+="/";}p+="".concat(n.targetObject.name);}else if(n.targetObject&&n.targetObject.hasOwnProperty("term")){if(p.length>0&&!p.endsWith("/")){p+="/";}p+="@".concat(n.targetObject.term);}return p;};_.getTargetObjectPath=d;var f=function(n){var p=g(n.contextLocation,n.navigationProperties).join("/");if(n.targetObject&&n.targetObject.name&&n.targetObject._type!=="NavigationProperty"&&n.targetObject!==n.startingEntitySet){if(!p.endsWith("/")){p+="/";}p+="".concat(n.targetObject.name);}else if(n.targetObject&&n.targetObject.hasOwnProperty("term")){if(p.length>0&&!p.endsWith("/")){p+="/";}p+="@".concat(n.targetObject.term);}return p;};_.getContextRelativeTargetObjectPath=f;var h=function(n,p){return m(n,function(o){var q;return o===null||o===void 0?void 0:(q=o.UpdateRestrictions)===null||q===void 0?void 0:q.Updatable;},p);};_.isPathUpdatable=h;var j=function(n,p,t){return m(n,function(o){var q;return o===null||o===void 0?void 0:(q=o.DeleteRestrictions)===null||q===void 0?void 0:q.Deletable;},p,t);};_.isPathDeletable=j;var k=function(n,p){return m(n,function(o){var q;return o===null||o===void 0?void 0:(q=o.InsertRestrictions)===null||q===void 0?void 0:q.Insertable;},p);};_.isPathInsertable=k;var l=function(n,o){return m(n,function(p){var q;var r=(p===null||p===void 0?void 0:(q=p.FilterRestrictions)===null||q===void 0?void 0:q.FilterExpressionRestrictions)||[];var s=r.find(function(t){return t.Property.$target===n.targetObject;});if(s){return o.indexOf(s===null||s===void 0?void 0:s.AllowedExpressions)!==-1;}else{return false;}});};_.checkFilterExpressionRestrictions=l;var m=function(n,o,p,t){var q,r;if(!n||!n.startingEntitySet){return c(true);}n=b(n,p);var s=n.startingEntitySet;var u=null;var v=[];var w=[];var x=s;var y=false;n.navigationProperties.forEach(function(I){if(y){v=[];}v.push(I.name);w.push(I);if(!I.containsTarget){var J=v.join("/");if(s&&s.navigationPropertyBinding.hasOwnProperty(J)){u=s;s=s.navigationPropertyBinding[J];x=s;y=true;}else{u=s;s=null;y=true;}}else{u=s;x=null;}});var z=v.join("/");var A;if(u!==null){var C,D,E;var F=u;(C=F.annotations)===null||C===void 0?void 0:(D=C.Capabilities)===null||D===void 0?void 0:(E=D.NavigationRestrictions)===null||E===void 0?void 0:E.RestrictedProperties.forEach(function(I){var J;if(((J=I.NavigationProperty)===null||J===void 0?void 0:J.type)==="NavigationPropertyPath"){var K=o(I);if(z===I.NavigationProperty.value&&K!==undefined){var L;A=e(a(K,g((L=n)===null||L===void 0?void 0:L.contextLocation,w.slice(0,-1))),true);}}});}var G;var H=o((q=x)===null||q===void 0?void 0:(r=q.annotations)===null||r===void 0?void 0:r.Capabilities);if(H!==undefined){G=e(a(H,g(n.contextLocation,w)),true);}if(t&&!A&&(H===null||H===void 0?void 0:H.path)){var R={"currentEntityRestriction":G};return R;}return A||G||c(true);};_.checkOnPath=m;return _;},false);
sap.ui.predefine('sap/fe/core/templating/EntitySetHelper',[],function(){"use strict";var _={};var i=function(d){return d&&d.hasOwnProperty("_type")&&d._type==="EntitySet";};_.isEntitySet=i;var g=function(e){var b,c,d;return((b=e.annotations)===null||b===void 0?void 0:(c=b.Capabilities)===null||c===void 0?void 0:(d=c.FilterRestrictions)===null||d===void 0?void 0:d.FilterExpressionRestrictions)||[];};_.getFilterExpressionRestrictions=g;var a=function(e){var b;return!!((b=e.annotations.Session)===null||b===void 0?void 0:b.StickySessionSupported);};_.isStickySessionSupported=a;return _;},false);
sap.ui.predefine('sap/fe/core/templating/PropertyFormatters',["./PropertyHelper","./UIFormatters","sap/fe/core/converters/MetaModelConverter","sap/fe/core/templating/DataModelPathHelper"],function(P,U,M,D){"use strict";var _={};var g=D.getTargetObjectPath;var e=D.enhanceDataModelPath;var a=M.getInvolvedDataModelObjects;var b=U.getConverterContext;var c=function(C,I){var p=I.context.getPath();if(!C){throw new Error("Unresolved context path "+p);}var o=false;if(typeof C==="object"&&C.hasOwnProperty("$Path")){o=true;}else if(typeof C==="object"&&C.hasOwnProperty("$kind")&&C.$kind!=="Property"){throw new Error("Context does not resolve to a Property object but to a "+C.$kind);}var q=b(C,I);if(o){q=q.$target;}return q;};_.getProperty=c;var d=function(C,I){var p=I.context.getPath();if(!C){throw new Error("Unresolved context path "+p);}if(typeof C==="object"&&C.hasOwnProperty("$kind")&&C.$kind!=="Property"){throw new Error("Context does not resolve to a Property object but to a "+C.$kind);}var o=a(I.context);if(o.targetObject&&o.targetObject.type==="Path"){o=e(o,o.targetObject.path);}if(p.endsWith("$Path")){o=e(o,C);}return o;};_.getPropertyObjectPath=d;var i=function(C,I){var p=c(C,I);return P.isKey(p);};_.isKey=i;var h=function(C,I){var p=c(C,I);return P.hasValueHelp(p);};_.hasValueHelp=h;var f=function(C,I){var p=c(C,I);return P.hasDateType(p);};_.hasDateType=f;var j=function(C,I){var p=c(C,I);return P.hasValueHelpWithFixedValues(p);};_.hasValueHelpWithFixedValues=j;var k=function(C,I){var p=c(C,I);return p.name;};_.getName=k;var l=function(C,I){var p=c(C,I);return P.getLabel(p);};_.getLabel=l;var m=function(C,I){var p=d(C,I);return g(p);};_.getPropertyPath=m;var n=function(C,I){var p=d(C,I);return g(p,true);};_.getRelativePropertyPath=n;return _;},false);
sap.ui.predefine('sap/fe/core/templating/PropertyHelper',["sap/fe/core/helpers/BindingExpression"],function(B){"use strict";var _={};var o=B.or;var e=B.equal;var a=B.annotationExpression;
function i(w){return w&&w.hasOwnProperty("_type")&&w._type==="Property";}
_.isProperty=i;var b=function(P){var w,x;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Core)===null||x===void 0?void 0:x.Computed);};_.isComputed=b;var c=function(P){var w,x;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Core)===null||x===void 0?void 0:x.Immutable);};_.isImmutable=c;var d=function(P){return!!P.isKey;};_.isKey=d;var h=function(P){return["Edm.Date","Edm.DateTime","Edm.DateTimeOffset"].indexOf(P.type)!==-1;};_.hasDateType=h;var g=function(P){var w,x,y;return((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:(y=x.Label)===null||y===void 0?void 0:y.toString())||"";};_.getLabel=g;var f=function(P){var w,x;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.SemanticObject);};_.hasSemanticObject=f;var j=function(P){return o(k(P),m(P));};_.isNonEditableExpression=j;var k=function(P){var w,x;var F=(w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.FieldControl;if(typeof F==="object"){return!!F&&e(a(F),1);}return F==="Common.FieldControlType/ReadOnly";};_.isReadOnlyExpression=k;var l=function(P){var w,x;var F=(w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.FieldControl;if(typeof F==="object"){return!!F&&e(a(F),7);}return F==="Common.FieldControlType/Mandatory";};_.isRequiredExpression=l;var m=function(P){var w,x;var F=(w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.FieldControl;if(typeof F==="object"){return!!F&&e(a(F),0);}return F==="Common.FieldControlType/Inapplicable";};_.isDisabledExpression=m;var n=function(w){return!!w&&w.type!==undefined&&w.type==="Path";};_.isPathExpression=n;var p=function(P){var w,x,y,z;return n((w=P.annotations)===null||w===void 0?void 0:(x=w.Measures)===null||x===void 0?void 0:x.Unit)?(y=P.annotations)===null||y===void 0?void 0:(z=y.Measures)===null||z===void 0?void 0:z.Unit.$target:undefined;};_.getAssociatedUnitProperty=p;var q=function(P){var w,x,y,z;return n((w=P.annotations)===null||w===void 0?void 0:(x=w.Measures)===null||x===void 0?void 0:x.ISOCurrency)?(y=P.annotations)===null||y===void 0?void 0:(z=y.Measures)===null||z===void 0?void 0:z.ISOCurrency.$target:undefined;};_.getAssociatedCurrencyProperty=q;var r=function(P){var w,x,y,z,A,C,D,E;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.ValueList)||!!((y=P.annotations)===null||y===void 0?void 0:(z=y.Common)===null||z===void 0?void 0:z.ValueListReferences)||!!((A=P.annotations)===null||A===void 0?void 0:(C=A.Common)===null||C===void 0?void 0:C.ValueListWithFixedValues)||!!((D=P.annotations)===null||D===void 0?void 0:(E=D.Common)===null||E===void 0?void 0:E.ValueListMapping);};_.hasValueHelp=r;var s=function(P){var w,x;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.ValueListWithFixedValues);};_.hasValueHelpWithFixedValues=s;var t=function(P){var w,x;return((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.ValueListForValidation)!==undefined;};_.hasValueListForValidation=t;var u=function(P){var w,x;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.IsUnit);};_.isUnit=u;var v=function(P){var w,x;return!!((w=P.annotations)===null||w===void 0?void 0:(x=w.Common)===null||x===void 0?void 0:x.IsCurrency);};_.isCurrency=v;return _;},false);
sap.ui.predefine('sap/fe/core/templating/UIFormatters',["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/templating/PropertyHelper","sap/fe/core/templating/DataModelPathHelper"],function(M,B,a,P,D){"use strict";var _={};var i=D.isPathUpdatable;var b=P.isReadOnlyExpression;var c=P.isPathExpression;var d=P.isNonEditableExpression;var e=P.isKey;var f=P.isImmutable;var g=P.isDisabledExpression;var h=P.isComputed;var j=P.hasValueHelp;var k=P.hasSemanticObject;var l=P.getAssociatedCurrencyProperty;var m=P.getAssociatedUnitProperty;var U=a.UI;var o=B.or;var n=B.not;var p=B.isConstant;var q=B.ifElse;var r=B.equal;var s=B.compileBinding;var t=B.and;var u=M.getInvolvedDataModelObjects;var v=M.convertMetaModelContext;var w=function(I,J){var K=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!I||typeof I==="string"){return s(false);}var L=c(I)&&I.$target||I;var N=i(J,I);var O=q(o(n(N),h(L),e(L),f(L),k(L)&&!j(L),d(L)),q((f(L)||e(L))&&!h(L),t(N,U.IsTransientBinding),false),U.IsEditable);if(K){return O;}return s(O);};_.getEditableExpression=w;var x=function(I){var J=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!I||typeof I==="string"){return s(true);}var K=c(I)&&I.$target||I;var L=q(g(K),false,true);if(J){return L;}return s(L);};_.getEnabledExpression=x;var y=function(I,J){var K=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!I||typeof I==="string"){return"Display";}var L=c(I)&&I.$target||I;var N=w(I,J,true);var O=x(I,true);var Q=l(L)||m(L);var R="Editable";if(Q){R=q(o(b(Q),h(Q)),"EditableReadOnly","Editable");}var S=b(L);var T=q(O,q(N,R,q(t(!p(S)&&S,U.IsEditable),"ReadOnly","Display")),q(U.IsEditable,"Disabled","Display"));if(K){return T;}return s(T);};_.getEditMode=y;var z=function(I,J,N){if(!I||typeof I==="string"){return"Display";}var K=c(I)&&I.$target||I;var L=l(K)||m(K);if(!L){return s(N);}var O=t(n(b(L)),n(h(L)));return s(q(O,J,N));};_.ifUnitEditable=z;var A=function(I,J){var K,L,N,O,Q,R,S;if(!I||typeof I==="string"){return"Value";}var T=c(I)&&I.$target||I;var V=J.targetEntitySet;var W=(K=T.annotations)===null||K===void 0?void 0:(L=K.Common)===null||L===void 0?void 0:L.Text;var X=typeof W!=="string"&&(W===null||W===void 0?void 0:(N=W.annotations)===null||N===void 0?void 0:(O=N.UI)===null||O===void 0?void 0:O.TextArrangement)||(V===null||V===void 0?void 0:(Q=V.entityType)===null||Q===void 0?void 0:(R=Q.annotations)===null||R===void 0?void 0:(S=R.UI)===null||S===void 0?void 0:S.TextArrangement);var Y=W?"DescriptionValue":"Value";if(W&&X){if(X==="UI.TextArrangementType/TextOnly"){Y="Description";}else if(X==="UI.TextArrangementType/TextLast"){Y="ValueDescription";}else if(X==="UI.TextArrangementType/TextSeparate"){Y="Value";}else{Y="DescriptionValue";}}return Y;};_.getDisplayMode=A;var C=function(I,T,J){var K=c(I)&&I.$target||I;return j(K)?s(T):s(q(r(J,"Editable"),"Value",T));};_.getFieldDisplay=C;var E=function(I){var J=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Begin";var K=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"Begin";return s(q(r(I,"Display"),J,K));};_.getAlignmentExpression=E;var F=function(I,J){if(J&&J.context){return v(J.context);}return null;};F.requiresIContext=true;_.getConverterContext=F;var G=function(I,J){if(J&&J.context){return u(J.context);}return null;};G.requiresIContext=true;_.getDataModelObjectPath=G;var H=function(I){return s(I);};_.getExpressionBinding=H;return _;},false);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.predefine('sap/fe/core/AppComponent',["sap/ui/core/UIComponent","sap/fe/core/RouterProxy","sap/fe/core/AppStateHandler","sap/base/Log","sap/fe/core/controllerextensions/EditFlow","sap/fe/core/support/Diagnostics","sap/ui/model/json/JSONModel","sap/fe/core/library","sap/fe/core/helpers/SemanticDateOperators","sap/ui/core/CustomizingConfiguration","sap/ui/core/Component","sap/fe/core/TemplateComponent","sap/fe/core/helpers/ModelHelper"],function(U,R,A,L,E,D,J,l,S,C,a,T,M){"use strict";var g=C.getControllerExtension;
C.getControllerExtension=function(s,o){var d=b(o),e=d&&d.getId(),r=g.call(C,s,e);return r;};
function b(o){var s=o&&typeof o==="string"?o:o&&a.getOwnerIdFor(o);var d=s&&a.get(s);if(d instanceof T){d=d.oAppComponent;}return d;}
var N={FCL:{VIEWNAME:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};
var c=U.extend("sap.fe.core.AppComponent",{
metadata:{config:{fullWidth:true},manifest:{"sap.ui5":{services:{resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService","startup":"waitFor","settings":{"bundles":["sap.fe.core.messagebundle"],"modelName":"sap.fe.i18n"}},routingService:{factoryName:"sap.fe.core.services.RoutingService",startup:"waitFor"},shellServices:{factoryName:"sap.fe.core.services.ShellServices",startup:"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigationService:{factoryName:"sap.fe.core.services.NavigationService",startup:"waitFor"},environmentCapabilities:{factoryName:"sap.fe.core.services.EnvironmentService",startup:"waitFor"},asyncComponentService:{factoryName:"sap.fe.core.services.AsyncComponentService",startup:"waitFor"}},rootView:{viewName:N.NAVCONTAINER.VIEWNAME,type:"XML",async:true,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:N.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",async:true,containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"},
_isFclEnabled:function(){var m=this.getMetadata().getManifestEntry("/sap.ui5",true);return N.FCL.VIEWNAME===m.rootView.viewName;},
getRouterProxy:function(){return this._oRouterProxy;},
getAppStateHandler:function(){return this._oAppStateHandler;},
getRootViewController:function(){return this.getRootControl().getController();},
getRootContainer:function(){return this.getRootControl().getContent()[0];},
init:function(){this.setModel(new J({editMode:l.EditMode.Display,isEditable:false,draftStatus:l.DraftStatus.Clear,busy:false,busyLocal:{},pages:{}}),"ui");var i=new J({pages:{}});M.enhanceInternalJSONModel(i);this.setModel(i,"internal");this.bInitializeRouting=this.bInitializeRouting!==undefined?this.bInitializeRouting:true;this._oRouterProxy=new R();this._oAppStateHandler=new A(this);this._oDiagnostics=new D();var t=this;var m=this.getModel();this.initErrorMessage=null;if(m){m.getMetaModel().requestObject("/$EntityContainer/").catch(function(e){t.initErrorMessage=e.message;});}var o=this.getMetadata().getManifestEntry("/sap.ui5",true);if(o.rootView.viewName===N.FCL.VIEWNAME&&o.routing.config.routerClass===N.FCL.ROUTERCLASS){L.info('Rootcontainer: "'+N.FCL.VIEWNAME+'" - Routerclass: "'+N.FCL.ROUTERCLASS+'"');}else if(o.rootView.viewName===N.NAVCONTAINER.VIEWNAME&&o.routing.config.routerClass===N.NAVCONTAINER.ROUTERCLASS){L.info('Rootcontainer: "'+N.NAVCONTAINER.VIEWNAME+'" - Routerclass: "'+N.NAVCONTAINER.ROUTERCLASS+'"');}else if(o.rootView.viewName.indexOf("sap.fe")!==-1){throw Error("\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n"+"Current values are :("+o.rootView.viewName+"/"+o.routing.config.routerClass+")\n"+"Expected values are \n"+"\t - ("+N.NAVCONTAINER.VIEWNAME+"/"+N.NAVCONTAINER.ROUTERCLASS+")\n"+"\t - ("+N.FCL.VIEWNAME+"/"+N.FCL.ROUTERCLASS+")");}else{L.info('Rootcontainer: "'+o.rootView.viewName+'" - Routerclass: "'+N.NAVCONTAINER.ROUTERCLASS+'"');}S.addSemanticDateOperators();U.prototype.init.apply(t,arguments);},
onServicesStarted:function(){var t=this;function f(){if(t.initErrorMessage){var r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");t.getRootViewController().displayMessagePage(r.getText("C_APP_COMPONENT_SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:r.getText("C_COMMON_SAPFE_ERROR"),description:t.initErrorMessage,FCLLevel:0});}else{if(t.getRootViewController().attachRouteMatchers){t.getRootViewController().attachRouteMatchers();}t.getRouter().initialize();t.getRouterProxy().init(t,t._isFclEnabled());}}if(this.bInitializeRouting){this.getRoutingService().initializeRouting(this).then(function(){if(t.getRootViewController()){f();}else{t.getRootControl().attachAfterInit(function(){f();});}}).catch(function(e){L.error("cannot cannot initialize routing: "+e);});}},
exit:function(){this._oRouterProxy.exit();this.getModel("ui").destroy();},
getMetaModel:function(){return this.getModel().getMetaModel();},
getDiagnostics:function(){return this._oDiagnostics;},
destroy:function(){var m=this.oModels[undefined];var h=jQuery.extend({},m.oRequestor.mHeaders);U.prototype.destroy.apply(this,arguments);m.oRequestor.mHeaders=h;}
});
return c;});
sap.ui.predefine('sap/fe/core/TemplateComponent',["sap/ui/core/UIComponent","sap/fe/core/CommonUtils","sap/base/Log"],function(U,C,L){"use strict";
var T=U.extend("sap.fe.core.TemplateComponent",{
metadata:{properties:{entitySet:{type:"string",defaultValue:null},bindingContextPattern:{type:"string"},navigation:{type:"object"},enhanceI18n:{type:"string[]"},controlConfiguration:{type:"object"},content:{type:"object"},allowDeepLinking:{type:"boolean"},_placeholderScreen:{type:"string"}},events:{containerDefined:{container:{type:"sap.ui.base.ManagedObject"}},heroesBatchReceived:{element:{type:"sap.ui.base.ManagedObject"}},workersBatchReceived:{element:{type:"sap.ui.base.ManagedObject"}}},library:"sap.fe.core"},
setContainer:function(c){U.prototype.setContainer.apply(this,arguments);this.fireContainerDefined({container:c});},
init:function(){this.oAppComponent=C.getAppComponent(this);U.prototype.init.apply(this,arguments);},
onPageReady:function(l){if(this.getRootControl()&&this.getRootControl().getController()&&this.getRootControl().getController().onPageReady){this.getRootControl().getController().onPageReady(l);}},
getNavigationConfiguration:function(t){var n=this.getNavigation();return n[t];},
getViewData:function(){var p=this.getMetadata().getAllProperties();var v=Object.keys(p).reduce(function(V,P){V[P]=p[P].get(this);return V;}.bind(this),{});v.fclEnabled=this.oAppComponent._isFclEnabled();return v;},
_getPageTitleInformation:function(){if(this.getRootControl()&&this.getRootControl().getController()&&this.getRootControl().getController()._getPageTitleInformation){return this.getRootControl().getController()._getPageTitleInformation();}},
getExtensionAPI:function(){return this.getRootControl().getController().getExtensionAPI();}
});
return T;},true);
sap.ui.predefine('sap/fe/core/fpm/Component',["sap/fe/core/TemplateComponent","sap/fe/macros/macroLibrary"],function(T,m){"use strict";
var F=T.extend("sap.fe.core.fpm.Component",{metadata:{properties:{"viewName":{type:"string"}},manifest:"json"}});
return F;},true);
sap.ui.predefine('sap/fe/core/helpers/SideEffectsUtil',["sap/base/Log"],function(L){"use strict";var s={};
s.replaceEmptyNavigationPaths=function(p){return((p&&p.map(function(P){if(P["$NavigationPropertyPath"]===""){return{"$PropertyPath":"*"};}return P;}))||[]);};
s.getSideEffectsForAction=function(A,c){var m=c&&c.getModel().getMetaModel(),M=m&&m.getMetaContext(c.getPath()),o=M&&m.getObject(A+"@",M),S=s.getSideEffects(o),b,t=[],T=[],d=[],e,f=[];if(S.length===0){return{};}S.forEach(function(g){T=T.concat(g.TargetProperties);t=t.concat(g.TargetEntities);if(g.TriggerAction){d=d.concat(g.TriggerAction);}});b=m.getObject(A+"/@$ui5.overload/0/$Parameter/0/$Name",M);T=s.removeBindingPaths(T,"$PropertyPath",b,A);t=s.removeBindingPaths(t,"$NavigationPropertyPath",b,A);f=f.concat(T).concat(t);f=s.replaceEmptyNavigationPaths(f);e=m.getMetaPath(c.getPath());f=s.addTextProperties(f,m,e);return{pathExpressions:f,triggerActions:d};};
s.addTextProperties=function(p,m,b){var B=b,t=[],e=[],T,E,r;if(B.charAt(0)!=="/"){B="/"+B;}if(B.charAt(B.length-1)!=="/"){B=B+"/";}p.forEach(function(P){var c=P["$PropertyPath"];if(c&&c.endsWith("*")){e.push(c.slice(0,-1));r=true;}else if(c){T=_(m,B,"",c);if(T){t.push(T);}}});if(r){e.forEach(function(n){E=m.getObject(B+n);Object.keys(E).forEach(function(k){if(E[k].$kind&&E[k].$kind==="Property"){T=_(m,B,n,k);if(T){t.push(T);}}});});}return p.concat(t);};
function _(m,p,n,k){var t=m.getObject(p+n+k+"@com.sap.vocabularies.Common.v1.Text"),P=t&&n+t["$Path"],r=!!n,T=t&&t["$Path"]&&t["$Path"].indexOf("/")===-1;if(r&&T){return undefined;}if(P){if(k.indexOf("/")>0){P=k.substr(0,k.lastIndexOf("/"))+"/"+P;}return a(P);}return undefined;}
function a(p){var n=p.lastIndexOf("/");if(n>-1){return{"$NavigationPropertyPath":p.substr(0,n)};}else{return{"$PropertyPath":p};}}
s.determinePathOrNavigationPath=function(p){return a(p);};
s.logRequest=function(r){var p=Array.isArray(r.pathExpressions)&&r.pathExpressions.reduce(function(P,o){return P+"\n\t\t"+(o["$PropertyPath"]||o["$NavigationPropertyPath"]||"");},"");L.info("SideEffects request:\n\tContext path : "+r.context.getPath()+"\n\tProperty paths :"+p);};
s.removeBindingPaths=function(t,T,b,A){t.forEach(function(p){var n=p[T].indexOf(b);if(n===0){p[T]=p[T].substr(b.length+1);}else if(n===-1){L.info('Side Effects for Action "'+A+'" with property "'+p[T]+'" do not include binding parameter '+'"'+b+'".');}});return t;};
s.convertSideEffect=function(S){function b(C,t){if(typeof t==="string"){C.TargetProperties.push({$PropertyPath:t});}else if(t.$PropertyPath){C.TargetProperties.push(t);}else if(t.$Path){throw new Error("<Path> is not supported for TargetProperties of SideEffects. Annotate <String>"+t.$Path+"</String> instead.");}else{throw new Error("Unsupported TargetProperties type");}return C;}if(S){var c=Object.assign({},S);c.TargetProperties=[];c.TargetEntities||(c.TargetEntities=[]);S.TargetProperties&&S.TargetProperties.reduce(b,c);return c;}};
s.getSideEffects=function(A){return A?Object.keys(A).filter(function(b){return b.indexOf("@com.sap.vocabularies.Common.v1.SideEffects")>-1;}).map(function(S){return s.convertSideEffect(A[S]);}):[];};
s.requestSideEffects=function(n,b){var m=b.oModel.getMetaModel(),B="/"+m.getObject(m.getMetaPath(b.getPath()))["$Type"],A=m.getObject(B+"@"),S=this.getSideEffects(A),c=[],p,t=[],P=[],e=[];S.forEach(function(o){if(o.SourceEntities){o.SourceEntities.forEach(function(d){if(d["$NavigationPropertyPath"]===n){c.push(o);}});}if(o.SourceProperties&&c.indexOf(o)===-1){o.SourceProperties.forEach(function(d){if(d["$PropertyPath"].indexOf(n+"/")===0){c.push(o);}});}});c.forEach(function(o){var T=o.TargetProperties,d=o.TargetEntities;if(o.TriggerAction){t.push(o.TriggerAction);}T=T.map(function(f){return f["$PropertyPath"];}).filter(function(f){return P.indexOf(f)<0;});d=d.map(function(f){return f["$NavigationPropertyPath"];}).filter(function(f){return e.indexOf(f)<0;});P=P.concat(T);e=e.concat(d);});p=P.map(function(d){return{"$PropertyPath":d};}).concat(e.map(function(d){return{"$NavigationPropertyPath":d};}));if(t.length){t.forEach(function(T){var o=b.getModel().bindContext(T+"(...)",b);o.execute(b.getBinding().getUpdateGroupId());});}if(p.length){p=this.replaceEmptyNavigationPaths(p);p=this.addTextProperties(p,m,B);this.logRequest({context:b,pathExpressions:p});b.requestSideEffects(p);}};
return s;});
sap.ui.predefine('sap/fe/core/library',["sap/base/Log","sap/ui/base/DataType","sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/fe/core/services/ShellServicesFactory","sap/fe/core/services/AsyncComponentServiceFactory","sap/fe/core/services/EnvironmentServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/core/Core","sap/ui/core/library","sap/fe/navigation/library","sap/fe/placeholder/library","sap/ui/fl/library","sap/ui/mdc/library","sap/fe/core/formatters/ValueFormatter","sap/fe/core/formatters/FPMFormatter"],function(L,D,T,R,C,N,a,S,A,E,b){"use strict";sap.ui.getCore().initLibrary({name:"sap.fe.core",dependencies:["sap.ui.core","sap.fe.navigation","sap.fe.placeholder","sap.ui.fl","sap.ui.mdc"],types:["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],interfaces:[],controls:[],elements:[],version:"1.86.1",noLibraryCSS:true,extensions:{"sap.ui.support":{publicRules:true,internalRules:true}}});sap.fe.core.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow",External:"External"};sap.fe.core.VariantManagement={None:"None",Page:"Page",Control:"Control"};sap.fe.core.Constants={CancelActionDialog:"cancel"};sap.fe.core.ProgrammingModel={Draft:"Draft",Sticky:"Sticky",NonDraft:"NonDraft"};sap.fe.core.DraftStatus={Saving:"Saving",Saved:"Saved",Clear:"Clear"};sap.fe.core.EditMode={Display:"Display",Editable:"Editable"};sap.fe.core.TemplateContentView={Hybrid:"Hybrid",Chart:"Chart",Table:"Table"};var I=(sap.fe.core.InitialLoadMode={Enabled:"Enabled",Disabled:"Disabled",Auto:"Auto"});var c=D.createType("sap.fe.core.InitialLoadMode",{defaultValue:I.Auto,isValid:function(v){if(typeof v==="boolean"){L.warning("DEPRECATED: boolean value not allowed for 'initialLoad' manifest setting - supported values are: Disabled|Enabled|Auto");}return v===undefined||v===null||typeof v==="boolean"||I.hasOwnProperty(v);}});c.setNormalizer(function(v){if(!v){return I.Disabled;}return v===true?I.Enabled:v;});b.register("sap.fe.core.services.TemplatedViewService",new T());b.register("sap.fe.core.services.ResourceModelService",new R());b.register("sap.fe.core.services.CacheHandlerService",new C());b.register("sap.fe.core.services.NavigationService",new N());b.register("sap.fe.core.services.RoutingService",new a());b.register("sap.fe.core.services.ShellServices",new S());b.register("sap.fe.core.services.EnvironmentService",new E());b.register("sap.fe.core.services.AsyncComponentService",new A());return sap.fe.core;});
/* the subsequent text seems not to contain a copyright or license statement */
sap.ui.predefine('sap/fe/core/helpers/StableIdHelper',[],function(){"use strict";var _={};
/*!
   * ${copyright}
   */

function a(v){return/^([A-Za-z_][-A-Za-z0-9_.:]*)$/.test(v);}
function r(i){if(i.indexOf(" ")>=0){throw i+" - Spaces are not allowed in ID parts.";}i=i.replace(/^\/|^@|^#|^\*/,"").replace(/\/$|@$|#$|\*$/,"").replace(/\/|@|\(|\)|#|\*/g,"::");while(i.indexOf("::::")>-1){i=i.replace("::::","::");}if(i.slice(-2)=="::"){i=i.slice(0,-2);}return i;}
_.replaceSpecialChars=r;
function b(i){i=i.replace("com.sap.vocabularies.UI.v1.","");i=i.replace("com.sap.vocabularies.Communication.v1.","");return i;}
function g(v){if(v&&v.$Path||v.path){return v.$Path||v.path;}if(v&&v.$Apply&&v.$Function==="odata.concat"){var P="";for(var i=0;i<v.$Apply.length;i++){if(v.$Apply[i].$Path){if(P){P+="::";}P+=v.$Apply[i].$Path;}}return P;}if(v){return r(v.replace(/ /g,"_"));}}
var c=function(s){var S="",E,f;for(var i=0;i<s.length;i++){E=s[i];if(!E){continue;}S+=S!==""?"::":"";if(E["Facet"]&&E["Facet"]["$Type"]&&E["Facet"]["$Type"]=="com.sap.vocabularies.UI.v1.CollectionFacet"){S+=E["Facet"]["ID"];}else if(typeof E==="string"){if(E){S+=E;}}else if(typeof E==="object"){if(E&&E.Facet){if(E.Facet.$Type&&E.Facet.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(E.Facet.ID){f=E.Facet.ID;}}else if(E.Facet.$Type&&E.Facet.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(E.Facet.ID){f=E.Facet.ID;}else{f=E.Facet.Target.$AnnotationPath||E.Facet.Target.value;}}if(f){S+=f;}}else if(E&&E.FacetSource){if(E.FacetSource==="com.sap.vocabularies.UI.v1.HeaderFacets"){S+="HeaderFacet";}}if(E&&E["$Type"]&&E["$Type"].indexOf("com.sap.vocabularies.UI.v1.DataField")>-1){S+=e(E);}}}S=p(S);return S;};_.generate=c;var d=function(D){var i="";if(typeof D.SemanticObject=="string"){i+=D.SemanticObject;}else if(D.SemanticObject.$Path){i+=D.SemanticObject.$Path;}if(typeof D.Action=="string"){i+="::"+D.Action;}else if(D.Action&&D.Action.$Path){i+="::"+D.Action.$Path;}if(D["RequiresContext"]&&D["RequiresContext"]==true){i+="::RequiresContext";}return i;};_.getStableIdPartFromSemanticObjectAndAction=d;var e=function(D){var P=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i="";if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){i="DataFieldForAction::";i+=D.Action;return p(i);}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i="DataFieldForIntentBasedNavigation::";i+=d(D);return i;}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){i="DataFieldForAnnotation::";i+=p(D.Target.$AnnotationPath||D.Target.value);return i;}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"){i="DataFieldWithAction::";if(D.Value){i+=g(D.Value)+"::";}i+=D.Action;return p(i);}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataField"){i="DataField::";i+=g(D.Value);return p(i);}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){i="DataFieldWithIntentBasedNavigation::";i+=g(D.Value)+"::";i+=d(D);return p(i);}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i="DataFieldWithNavigationPath::";i+=g(D.Value);if(D.Target&&D.Target["$NavigationPropertyPath"]){i+="::"+D.Target["$NavigationPropertyPath"];}return p(i);}else if(D.$Type&&D.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){i="DataFieldWithUrl::";i+=g(D.Value);return p(i);}else if(P&&P.context&&P.context.getObject("@sapui.name")){return p(P.context.getObject("@sapui.name").toString());}else{}return undefined;};_.getStableIdPartFromDataField=e;var p=function(i){i=r(b(i));if(a(i)){return i;}else{throw i+" - Stable Id could not be generated due to insufficient information.";}};_.prepareId=p;return _;},false);
/* the subsequent text seems not to contain a copyright or license statement */
sap.ui.predefine('sap/fe/core/support/CommonHelper',["sap/ui/support/library","sap/fe/core/converters/helpers/IssueManager"],function(S,I){"use strict";var _={};var a=I.IssueSeverity;var b=I.IssueCategory;
/*!
   * ${copyright}
   */
var C=S.Categories,c=S.Severity,A=S.Audiences;_.Categories=C;_.Audiences=A;_.Severity=c;var g=function(s){switch(s){case a.Low:return c.Low;case a.High:return c.High;case a.Medium:return c.Medium;}};_.getSeverity=g;var d=function(i,o,e,f){var m=o.getComponents();var h;Object.keys(m).forEach(function(k){var l,n;var p=m[k];if((p===null||p===void 0?void 0:(l=p.getMetadata())===null||l===void 0?void 0:(n=l.getParent())===null||n===void 0?void 0:n.getName())==="sap.fe.core.AppComponent"){h=p;}});if(h){var j=h.getDiagnostics().getIssuesByCategory(b[e],f);j.forEach(function(E){i.addIssue({severity:g(E.severity),details:E.details,context:{id:E.category}});});}};_.getIssueByCategory=d;return _;},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.predefine('sap/fe/core/AnnotationHelper',["sap/base/Log","sap/ui/model/odata/v4/AnnotationHelper","sap/fe/core/CommonUtils","sap/m/library","sap/base/strings/formatMessage","sap/fe/macros/CommonHelper","sap/fe/core/helpers/StableIdHelper","sap/fe/core/helpers/ModelHelper"],function(L,O,C,l,f,a,S,M){"use strict";var B=l.ButtonType;var A={getTargetContext:function(t){var T=t.getObject(t.getPath()),n=O.getNavigationPath(t.getPath());return n+"/"+T;},getNavigationContext:function(c){return O.getNavigationPath(c.getPath());},getNavigationInsertableRestrictions:function(c,s,r,I,b){var i,n,p="";for(i in r){n=r[i];if(n.NavigationProperty.$NavigationPropertyPath===s&&n.InsertRestrictions){if(n.InsertRestrictions.Insertable&&n.InsertRestrictions.Insertable.$Path){if(b){p=c.$Partner+"/";}return("{= ${"+p+n.InsertRestrictions.Insertable.$Path+"}  && ${ui>/editMode} === 'Editable' }");}return n.InsertRestrictions.Insertable?"{= ${ui>/editMode} === 'Editable' }":false;}}if(I&&I.$Path&&I.$Path.indexOf("/")>-1){var d=I.$Path.split("/");var N=d[0];var P=c.$Partner;if(N!==P){return"{= ${ui>/editMode} === 'Editable'}";}if(b){s="";}else{s=s+"/";}return"{=  ${ui>/editMode} === 'Editable' && ${"+s+I.$Path+"}}";}return"{= "+(I!==false)+" && ${ui>/editMode} === 'Editable'}";},showFooter:function(d,c){var h="";var s;var H=[];for(var i in d){var D=d[i];if(D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&D.Determining===true){if(!D["@com.sap.vocabularies.UI.v1.Hidden"]){return true;}else if(D["@com.sap.vocabularies.UI.v1.Hidden"].$Path){if(H.indexOf(D["@com.sap.vocabularies.UI.v1.Hidden"].$Path)===-1){H.push(D["@com.sap.vocabularies.UI.v1.Hidden"].$Path);}}}}if(H.length){for(var b in H){if(H[b]){s="(%{"+H[b]+"} === true ? false : true )";}if(b==H.length-1){h=h+s;}else{h=h+s+"||";}}return("{= "+h+(c?" || ${ui>/editMode} === 'Editable' ":" ")+"|| ${internal>showMessageFooter} === true}");}else{return("{= "+(c?"${ui>/editMode} === 'Editable' || ":"")+"${internal>showMessageFooter} === true}");}},getActionContext:function(o){return C.getActionPath(o,true);},getPathToBoundActionOverload:function(o){var p=C.getActionPath(o,true);return p+"/@$ui5.overload/0";},buildButtonTypeExpressionForCriticality:function(d){var F=B.Default;var e;var c=d.Criticality;if(c){e="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+B.Reject+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+B.Accept+"'' : "+"''"+B.Default+"'' '}'";if(c.$Path){var s="${"+c.$Path+"}";F=f(e,s);}else if(c.$EnumMember){var b="'"+c.$EnumMember+"'";F=f(e,b);}}return F;},buildEmphasizedButtonExpression:function(i){if(!i){return B.Emphasized;}var F;var I,h,H="";i.forEach(function(d){var c=d.Criticality;var D=d["@com.sap.vocabularies.UI.v1.Hidden"];if(d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!I&&c){if(!F&&D===true){F=B.Emphasized;return;}if(D&&D.$Path){h=D.$Path;if(H){H=H+" && ";}H=H+"%{"+h+"} === true";F="{= ("+H+") ? 'Emphasized' : 'Default' }";}switch(c.$EnumMember){case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":case"1":case 1:case"3":case 3:if(!D){F=B.Default;I=true;}F=F||B.Default;break;default:F=B.Emphasized;}if(c.$Path){var s=H?"!("+H+") && ":"";F="{= "+s+"((${"+c.$Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${"+c.$Path+"} === '1') || (${"+c.$Path+"} === 1) "+"|| (${"+c.$Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${"+c.$Path+"} === '3') || (${"+c.$Path+"} === 3)) ? "+"'Default'"+" : "+"'Emphasized'"+" }";}}});return F||B.Emphasized;},isStickySessionSupported:function(c,i){var m;if(arguments.length>1){m=i.context.getModel();}else{m=c;}return M.isStickySessionSupported(m);},isManifestAction:function(o){var b=["Primary","DefaultApply","Secondary","ForAction","ForNavigation"];return b.indexOf(o.type)<0;},getFooterVisible:function(F,d){var c=false;F.forEach(function(b){var i=this.isManifestAction(b);if(i){c=true;}}.bind(this));if(c){return true;}else{return this.showFooter(d,true);}},buildActionWrapper:function(o,t){var p=["$event",a.addSingleQuotes(o.handlerModule),a.addSingleQuotes(o.handlerMethod)];if(t&&t.id){var b={contexts:"${internal>selectedContexts}"};p.push(a.objectToString(b));}return"FPM.actionWrapper("+p.join(", ")+")";},getVariantBackReference:function(v,c){if(v&&v.variantManagement==="Page"){return"fe::PageVariantManagement";}if(v&&v.variantManagement==="Control"){return S.generate([c.filterBarId,"VariantManagement"]);}return undefined;}};return A;},true);
sap.ui.predefine('sap/fe/core/AppStateHandler',["sap/ui/mdc/p13n/StateUtil","sap/ui/base/Object","sap/fe/core/library","sap/fe/navigation/library","sap/fe/core/CommonUtils","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/base/Log","sap/base/util/merge","sap/base/util/deepEqual","sap/fe/core/BusyLocker"],function(S,B,C,N,a,b,L,m,d,c){"use strict";var e=N.NavType;
function _(t){return Promise.resolve(t.then(function(){return Array.prototype.slice.call(arguments);}).catch(function(){return Array.prototype.slice.call(arguments);}));}
var A=B.extend("sap.fe.core.AppStateHandler",{
constructor:function(o){this.oAppComponent=o;this.sId=o.getId()+"/AppStateHandler";this.bNoRouteChange=false;L.info("APPSTATE : Appstate handler initialized");return B.apply(this,arguments);},
getId:function(){return this.sId;},
createAppState:function(){if(c.isLocked(this)){return Promise.resolve();}var n=this.oAppComponent.getNavigationService(),r=this.oAppComponent.getRouterProxy(),h=r.getHash(),o=this.oAppComponent.getRootControl().getController(),t=this;if(!o.viewState){return Promise.reject("viewState controller extension not available for controller: "+o.getMetadata().getName());}return o.viewState.retrieveViewState().then(function(i){var s={appState:i};if(i&&!d(t._mCurrentAppState,i)){t._mCurrentAppState=i;var f=n.storeInnerAppStateWithImmediateReturn(s,true);L.info("APPSTATE: Appstate stored");var g=f.appStateKey;var j=n.replaceInnerAppStateKey(h,g);if(j!==h){r.navToHash(j);t.bNoRouteChange=true;}L.info("APPSTATE: navToHash");}return s;});},
_createNavigationParameters:function(o,n){return Object.assign({},o,{selectionVariantDefaults:o.oDefaultedSelectionVariant,selectionVariant:o.oSelectionVariant,requiresStandardVariant:!o.bNavSelVarHasDefaultsOnly,navigationType:n});},
applyAppState:function(){if(c.isLocked(this)){return Promise.resolve();}c.lock(this);var t=this,n=this.oAppComponent.getNavigationService();return _(n.parseNavigation()).catch(function(E){if(!E){E=[];}L.warning("APPSTATE: Parse Navigation failed",E[0]);return[{},E[1],E[2]];}).then(function(r){L.info("APPSTATE: Parse Navigation done");var o=r[0]||{},s=r[2]||e.initial,R=t.oAppComponent.getRootControl().getController();t._mCurrentAppState=s===e.iAppState?o&&o.appState:undefined;if(!R.viewState){throw new Error("viewState extension required for controller "+R.getMetadata().geName());}return R.viewState.applyViewState(t._mCurrentAppState,t._createNavigationParameters(o,s)).catch(function(E){L.error("appState could not be applied",E);throw E;});}).finally(function(){c.unlock(t);});},
checkIfRouteChangedByIApp:function(){return this.bNoRouteChange;},
resetRouteChangedByIApp:function(){if(this.bNoRouteChange){this.bNoRouteChange=false;}},
_isListBasedComponent:function(o){return o.isA("sap.fe.templates.ListComponent");}
});
return A;},true);
sap.ui.predefine('sap/fe/core/BusyLocker',["sap/base/Log"],function(L){"use strict";var _=30,a={},b={getId:function(){return"BusyLocker.ReferenceDummy";},setBusy:function(B){L.info("setBusy("+B+") triggered on dummy reference");}};
function g(r,p){return r.getId()+(p||"/busy");}
function i(r,p){return g(r,p)in a;}
function c(r,p){if(!r||!r.getId){L.warning("No reference for BusyLocker, using dummy reference");r=b;}var p=p||"/busy",I=g(r,p);if(!(I in a)){a[I]={id:I,path:p,reference:r,count:0};}return a[I];}
function d(l){delete a[l.id];}
function e(l){var I=l.reference.isA&&l.reference.isA("sap.ui.model.Model"),B=l.count!==0;if(I){l.reference.setProperty(l.path,B);}else if(l.reference.setBusy){l.reference.setBusy(B);}clearTimeout(l.timeout);if(B){l.timeout=setTimeout(function(){L.error("busy lock for "+l.id+" with value "+l.count+" timed out after "+_+" seconds!");},_*1000);}else{d(l);}return B;}
function f(l,D){if(D===0){l.count=0;L.info("busy lock count '"+l.id+"' was reset to 0");}else{l.count+=D;L.info("busy lock count '"+l.id+"' is "+l.count);}}
return{lock:function(m,p){return this._updateLock(m,p,1);},unlock:function(m,p){return this._updateLock(m,p,-1);},isLocked:function(m,p){return i(m,p);},_updateLock:function(r,p,D){var l=c(r,p);f(l,D);return e(l);}};});
sap.ui.predefine('sap/fe/core/CommonUtils',["sap/ui/core/mvc/View","sap/ui/core/Component","sap/m/MessageBox","sap/base/Log","sap/fe/navigation/SelectionVariant","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/odata/v4/TypeUtil","sap/fe/core/helpers/StableIdHelper","sap/fe/core/library","sap/fe/core/helpers/ModelHelper","sap/fe/core/helpers/SemanticDateOperators","sap/fe/core/converters/controls/Common/Filter"],function(V,C,M,L,S,F,T,a,b,c,d,e){"use strict";var P=b.ProgrammingModel;var v=["Edm.Boolean","Edm.Byte","Edm.Date","Edm.DateTime","Edm.DateTimeOffset","Edm.Decimal","Edm.Double","Edm.Float","Edm.Guid","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.String","Edm.Time","Edm.TimeOfDay"];
function g(i){var j=i.getProperty("$Type");if(!i.getProperty("$kind")){switch(j){case"com.sap.vocabularies.UI.v1.DataFieldForAction":case"com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation":j=undefined;break;case"com.sap.vocabularies.UI.v1.DataField":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":case"com.sap.vocabularies.UI.v1.DataFieldWithUrl":j=i.getProperty("Value/$Path/$Type");break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":default:var i1=i.getProperty("Target/$AnnotationPath");if(i1){if(i1.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){j=i.getProperty("Target/$AnnotationPath/fn/$Path/$Type");}else if(i1.indexOf("com.sap.vocabularies.UI.v1.DataPoint")>-1){j=i.getProperty("Value/$Path/$Type");}else{j=undefined;}}else{j=undefined;}break;}}return j;}
function h(i){var j=false;if(i){i.getCurrentContexts().forEach(function(i1){if(i1&&i1.isTransient()){j=true;}});}return j;}
function _(i,j,i1){var j1=false;var k1=i.getObject(j+"@Org.OData.Capabilities.V1.FilterRestrictions");if(k1&&k1.NonFilterableProperties){j1=k1.NonFilterableProperties.some(function(l1){return l1.$NavigationPropertyPath===i1||l1.$PropertyPath===i1;});}return j1;}
function f(i,j,i1){var j1=i1.split("/"),k1=false,l1="";j1.some(function(m1,n1,o1){if(l1.length>0){l1+="/"+m1;}else{l1=m1;}if(n1===o1.length-1){k1=_(i,j,l1);}else if(i.getObject(j+"/$NavigationPropertyBinding/"+m1)){k1=_(i,j,l1);l1="";j="/"+i.getObject(j+"/$NavigationPropertyBinding/"+m1);}return k1===true;});return k1;}
function k(i,j,i1,j1){if(typeof i1!=="string"){throw new Error("sProperty parameter must be a string",i1);}var k1;var l1=i.createBindingContext(j+"/"+i1);if(l1.getProperty("@com.sap.vocabularies.UI.v1.Hidden")===true){return false;}if(!j1&&l1.getProperty("@com.sap.vocabularies.UI.v1.HiddenFilter")){return false;}if(i1.indexOf("/")<0){k1=!_(i,j,i1);}else{k1=!f(i,j,i1);}if(k1&&l1){var m1=g(l1);if(m1){k1=v.indexOf(m1)!==-1;}else{k1=false;}}return k1;}
function l(i){return s(i).getShellServices();}
function m(i,j,i1){var j1=h1.getShellServices(i);return j1.getLinks({semanticObject:j,params:i1});}
function n(j){var i1=[];var j1=Object.keys(j);for(var i=0;i<j1.length;i++){var k1={"LocalProperty":{"$PropertyPath":j1[i]},"SemanticObjectProperty":j[j1[i]]};i1.push(k1);}return i1;}
function o(j,i1,j1,k1){for(var i=0;i<j.length;i++){var l1=j[i];var m1=l1.intent;var n1=m1.split("-")[1].split("?")[0];if(i1&&i1.indexOf(n1)===-1){k1.push({text:l1.text,targetSemObject:m1.split("#")[1].split("-")[0],targetAction:n1.split("~")[0],targetParams:j1});}}}
function p(i,j,i1,j1){if(j1&&j1.length>0){var k1=i.unavailableActions?i.unavailableActions:[];var l1=i.mapping?n(i.mapping):[];var m1={navigationContexts:j,semanticObjectMapping:l1};o(j1,k1,m1,i1);}}
function u(i,i1,j1,k1,l1,m1){var n1=l(j1),o1={},p1="",q1="";var r1;var s1=[];var t1=[];if(i1){if(k1&&k1.length>0){for(var j=0;j<k1.length;j++){var u1=k1[j].$PropertyPath;if(!o1[u1]){o1[u1]={value:i1[u1]};}}}else{var v1=l1.getObject(m1+"/$Type/$Key");for(var w1 in v1){var x1=v1[w1];if(!o1[x1]){o1[x1]={value:i1[x1]};}}}}var y1=t(j1).getViewData();var z1=[];if(y1.additionalSemanticObjects){var A1=Object.keys(y1.additionalSemanticObjects);for(var w1=0;w1<A1.length;w1++){m(j1,A1[w1],o1).then(p.bind(this,y1.additionalSemanticObjects[A1[w1]],i,z1)).catch(function(C1){L.error("Error while retrieving SO Intents",C1);});}}function B1(){var C1=n1.parseShellHash(document.location.hash);p1=C1.semanticObject;q1=C1.action;return m(j1,p1,o1);}B1().then(function(C1){if(C1&&C1.length>0){var D1={};var E1=[];var F1=m1+"@";var G1=m1+"/@";var H1=l1.getObject(F1);r1=q(H1,p1);if(!r1.bHasEntitySetSO){var I1=l1.getObject(G1);r1=q(I1,p1);}t1=r1.aUnavailableActions;t1.push(q1);D1.navigationContexts=i;D1.semanticObjectMapping=r1.aMappings;o(C1,t1,D1,E1);s1=E1.concat(z1);j1.getBindingContext("internal").setProperty("relatedApps/visibility",s1.length>0);j1.getBindingContext("internal").setProperty("relatedApps/items",s1);}else{j1.getBindingContext("internal").setProperty("relatedApps/visibility",false);}}).catch(function(C1){L.error("Cannot read links",C1);});return s1;}
function q(i,j){var i1={bHasEntitySetSO:false,aUnavailableActions:[],aMappings:[]};var j1,k1;var l1;for(var m1 in i){if(m1.indexOf("com.sap.vocabularies.Common.v1.SemanticObject")>-1&&i[m1]===j){i1.bHasEntitySetSO=true;j1="@com.sap.vocabularies.Common.v1.SemanticObjectMapping";k1="@com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions";if(m1.indexOf("#")>-1){l1=m1.split("#")[1];j1=j1+"#"+l1;k1=k1+"#"+l1;}i1.aMappings=i1.aMappings.concat(i[j1]);i1.aUnavailableActions=i1.aUnavailableActions.concat(i[k1]);break;}}return i1;}
function U(i){var j=i.getModel().getMetaModel();var i1=i.getBindingContext();var j1=i1&&i1.getPath();var k1=j.getMetaPath(j1);var l1=k1+"/"+"@com.sap.vocabularies.Common.v1.SemanticKey";var m1=j.getObject(l1);var n1=i1.getObject();if(!n1){i1.requestObject().then(function(n1){return u(i1,n1,i,m1,j,k1);}).catch(function(o1){L.error("Cannot update the related app details",o1);});}else{return u(i1,n1,i,m1,j,k1);}}
function r(i){var j=["sap.m.Button","sap.m.OverflowToolbarButton"];if(i&&j.indexOf(i.getMetadata().getName())!==-1&&i.getVisible()&&i.getEnabled()){i.firePress();}}
function R(i){if(i==="true"||i===true){return true;}else{return false;}}
function s(i){if(i.isA("sap.fe.core.AppComponent")){return i;}var j=C.getOwnerComponentFor(i);if(!j){return i;}else{return s(j);}}
function t(i){if(i&&i.isA("sap.ui.core.ComponentContainer")){i=i.getComponentInstance();i=i&&i.getRootControl();}while(i&&!(i instanceof V)){i=i.getParent();}return i;}
function w(i,j,i1,j1){var k1=j.getModel("ui").getProperty("/isEditable"),l1=sap.ui.getCore().getLibraryResourceBundle("sap.fe.templates"),m1=l1&&l1.getText("T_COMMON_UTILS_NAVIGATION_AWAY_MSG"),n1=l1&&l1.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CONFIRM_BUTTON"),o1=l1&&l1.getText("T_COMMON_UTILS_NAVIGATION_AWAY_CANCEL_BUTTON");if(i1===P.Sticky&&k1){return M.warning(m1,{actions:[n1,o1],onClose:function(p1){if(p1===n1){var q1=j&&j.getModel("internal");L.info("Navigation confirmed.");if(q1){q1.setProperty("/sessionOn",false);}else{L.warning("Local UIModel couldn't be found.");}i();}else{L.info("Navigation rejected.");}}});}return i();}
function x(i,j){var i1=false,j1=i.split("/");if(j1.length>1){i1=j[j1[0]]&&j[j1[0]].hasOwnProperty(j1[1])&&j[j1[0]][j1[1]]===0;}else{i1=j[i]===0;}return i1;}
function y(i1,j1){var k1=[];for(var i=0;i<i1.length;i++){var l1=i1[i].entitySet,m1=i1[i].contextData,n1;delete m1["@odata.context"];delete m1["@odata.metadataEtag"];delete m1["SAP__Messages"];n1=Object.keys(m1);for(var j=0;j<n1.length;j++){var o1=n1[j],p1=j1.getObject("/"+l1+"/"+o1+"@");if(p1){if(p1["@com.sap.vocabularies.PersonalData.v1.IsPotentiallySensitive"]||p1["@com.sap.vocabularies.UI.v1.ExcludeFromNavigationContext"]||p1["@com.sap.vocabularies.Analytics.v1.Measure"]){delete m1[o1];}else if(p1["@com.sap.vocabularies.Common.v1.FieldControl"]){var q1=p1["@com.sap.vocabularies.Common.v1.FieldControl"];if(q1["$EnumMember"]&&q1["$EnumMember"].split("/")[1]==="Inapplicable"){delete m1[o1];}else if(q1["$Path"]&&h1.isFieldControlPathInapplicable(q1["$Path"],m1)){delete m1[o1];}}}}k1.push(m1);}return k1;}
function G(i,j){var i1=i.getObject("/"+j+"/")||{},j1={};for(var k1 in i1){if(i1.hasOwnProperty(k1)&&!/^\$/i.test(k1)&&i1[k1].$kind&&i1[k1].$kind==="Property"){j1[k1]=i1[k1];}}return j1;}
function z(i,j){var i1;if(i&&j){i1=i.getObject("/"+j+"@Org.OData.Capabilities.V1.FilterRestrictions/RequiredProperties");}return i1;}
function A(i,j){var i1=i&&i.getActions();if(i1){i1.forEach(function(j1){if(j1.data("IBNData")){j.push(j1);}});}return j;}
function B(i,j){var i1=this;var j1={};var k1=function(l1){if(l1){var m1=Object.keys(l1);m1.map(function(n1){if(n1.indexOf("_")!==0&&n1.indexOf("odata.context")===-1){j1[n1]={value:l1[n1]};}});}if(i.length){i.forEach(function(n1){var o1=n1.data("IBNData").semanticObject;var p1=n1.data("IBNData").action;i1.getShellServices(j).getLinks({semanticObject:o1,action:p1,params:j1}).then(function(q1){n1.setVisible(q1&&q1.length===1);}).catch(function(q1){L.error("Cannot retrieve the links from the shell service",q1);});});}};if(j&&j.getBindingContext()){j.getBindingContext().requestObject().then(function(l1){return k1(l1);}).catch(function(l1){L.error("Cannot retrieve the links from the shell service",l1);});}else{k1();}}
function D(i,j,i1,j1){var k1=i;if(j){if(j1){var l1=E(j.aCustomBundles,i+"|"+j1);k1=l1?i+"|"+j1:i;}return j.getText(k1,i1);}j=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");return j.getText(k1,i1);}
function E(j,i1){if(j.length){for(var i=j.length-1;i>=0;i--){var j1=j[i].hasText(i1);if(j1){return true;}E(j[i].aCustomBundles,i1);}}return false;}
function H(i,j,i1,j1){i1=!i1?i.getObject(i.getPath()):i1;var k1=i.getPath().split("/@")[0];k1=i.getObject(k1).$Type;k1=I(i.getModel(),k1);if(j1){return i.getObject("/"+k1+"/"+i1+"@Org.OData.Core.V1.OperationAvailable");}if(j){return"/"+k1+"/"+i1;}else{return{sEntityName:k1,sProperty:i.getObject("/"+k1+"/"+i1+"@Org.OData.Core.V1.OperationAvailable/$Path"),sBindingParameter:i.getObject("/"+k1+"/"+i1+"/@$ui5.overload/0/$Parameter/0/$Name")};}}
function I(i,j){var i1=i.getObject("/");for(var j1 in i1){if(typeof i1[j1]==="object"&&i1[j1].$Type===j){return j1;}}}
function J(i,j){var i1=i["@com.sap.vocabularies.Common.v1.Text"],j1=i1&&((i&&i["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"])||(j&&j["@com.sap.vocabularies.UI.v1.TextArrangement"]));if(j1){if(j1.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description";}else if(j1.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription";}return"DescriptionValue";}return i1?"DescriptionValue":"Value";}
function K(j,i1,j1){for(var k1 in i1){j.setProperty("dynamicActions/"+k1,{bEnabled:false,aApplicable:[],aNotApplicable:[]});var l1=[],m1=[];var n1=i1[k1];for(var i=0;i<j1.length;i++){var o1=j1[i];var p1=o1.getObject();if(n1===null&&!!p1["#"+k1]){j.getModel().setProperty(j.getPath()+"/dynamicActions/"+k1+"/bEnabled",true);break;}else if(o1.getObject(n1)){j.getModel().setProperty(j.getPath()+"/dynamicActions/"+k1+"/bEnabled",true);l1.push(o1);}else{m1.push(o1);}}j.getModel().setProperty(j.getPath()+"/dynamicActions/"+k1+"/aApplicable",l1);j.getModel().setProperty(j.getPath()+"/dynamicActions/"+k1+"/aNotApplicable",m1);}}
function N(i){var j=T.getDataTypeClassName(i);var i1=T.getBaseType(j);return F.getOperatorsForType(i1);}
function O(i,j){var i1=i.filter(function(j1){return j.indexOf(j1)>-1;});return i1.toString()||undefined;}
function Q(i,j,i1,j1,k1,l1){var m1=i1.getObject(j+"@Org.OData.Capabilities.V1.FilterRestrictions");var n1=["EQ"];var o1=["EQ","GE","LE","LT","GT","BT","NOTLE","NOTLT","NOTGE","NOTGT"];var p1=["EQ","GE","LE","LT","GT","BT","NE","NOTBT","NOTLE","NOTLT","NOTGE","NOTGT"];var q1=["StartsWith","NotStartsWith","EndsWith","NotEndsWith","Contains","NotContains"];var r1=d.getSupportedOperations();var s1=k1==="true"||k1===true;var t1=[];var u1=typeof l1==="string"?JSON.parse(l1).customData:l1;if(u1&&u1.operatorConfiguration&&u1.operatorConfiguration.length>0){t1=d.getFilterOperations(u1.operatorConfiguration);}else{t1=d.getSemanticDateOperations();}var v1=N(j1);if(m1&&m1.FilterExpressionRestrictions&&m1.FilterExpressionRestrictions.some(function(z1){return z1.Property.$PropertyPath===i;})){if(s1){v1=r1.concat(v1);}var w1=m1.FilterExpressionRestrictions.filter(function(z1){return z1.Property.$PropertyPath===i;});if(w1.some(function(z1){return z1.AllowedExpressions==="SingleValue"||z1.AllowedExpressions==="MultiValue";})){return O(v1,n1);}if(w1.some(function(z1){return z1.AllowedExpressions==="SingleRange";})){var x1=O(v1,j1==="Edm.Date"&&s1?t1:o1);return x1?x1:"";}if(w1.some(function(z1){return z1.AllowedExpressions==="MultiRange";})){return O(v1,p1);}if(w1.some(function(z1){return z1.AllowedExpressions==="SearchExpression";})){return O(v1,q1);}if(w1.some(function(z1){return z1.AllowedExpressions==="MultiRangeOrSearchExpression";})){return O(v1,q1.concat(p1));}return undefined;}else if(j1==="Edm.Date"){t1=d.getSemanticDateOperations();var y1=v1.filter(function(z1){return t1.indexOf(z1)<0;});return y1.toString();}}
function W(i,j,i1,j1){var k1=i.getSelectOptionsPropertyNames(),l1=h1.getEntitySetProperties(i1,j1),m1=i.getParameterNames();m1.forEach(function(n1){if(n1.substring(0,2)==="P_"){var o1=n1;n1=n1.slice(2,n1.length);if(k1.indexOf(n1)==-1){if(n1 in l1){var p1=i.getParameter(o1),q1=e.getTypeCompliantValue(p1,l1[n1].$Type),r1;if(q1!==undefined||q1!==null){r1={isEmpty:null,operator:"EQ",values:[q1]};j[n1]=j.hasOwnProperty(n1)?j[n1].concat([r1]):[r1];}}}}});k1.forEach(function(n1){var o1=n1;if(n1.substring(0,2)==="P_"){n1=n1.slice(2,n1.length);if(k1.indexOf(n1)>-1){n1="";}}if(n1 in l1){var p1=[],q1,r1;if(h1.isPropertyFilterable(i1,"/"+j1,n1,true)){q1=i.getSelectOption(o1==n1?n1:o1);r1=h1.getOperatorsForProperty(n1,"/"+j1,i1);p1=q1.reduce(function(s1,t1){var u1=e.getTypeCompliantValue(t1.Low,l1[n1].$Type),v1=t1.High?e.getTypeCompliantValue(t1.High,l1[n1].$Type):undefined;if((u1!==undefined||u1!==null)&&t1.Option){var w1=e.createConditions(t1.Option,u1,v1,t1.Sign);if(!r1||r1.indexOf(w1.operator)>-1){s1.push(w1);}}return s1;},p1);if(p1.length){j[n1]=j.hasOwnProperty(n1)?j[n1].concat(p1):p1;}}}});return j;}
function X(i,j,i1){var j1=h1.getAppComponent(i1);var k1=j1.getNavigationService();return k1.mixAttributesAndSelectionVariant(j,i.toJSONString());}
function Y(i,j){var i1,j1="",k1=null;var l1=function(q1,r1,s1){var t1={option:"",sign:"I",low:r1,high:s1};switch(q1){case"Contains":t1.option="CP";break;case"StartsWith":t1.option="CP";t1.low+="*";break;case"EndsWith":t1.option="CP";t1.low="*"+t1.low;break;case"BT":case"LE":case"LT":case"GT":case"NE":case"EQ":t1.option=q1;break;case"EEQ":t1.option="EQ";break;case"Empty":t1.option="EQ";t1.low="";break;case"NotContains":t1.option="CP";t1.sign="E";break;case"NOTBT":t1.option="BT";t1.sign="E";break;case"NotStartsWith":t1.option="CP";t1.low+="*";t1.sign="E";break;case"NotEndsWith":t1.option="CP";t1.low="*"+t1.low;t1.sign="E";break;case"NotEmpty":t1.option="NE";t1.low="";break;case"NOTLE":t1.option="LE";t1.sign="E";break;case"NOTGE":t1.option="GE";t1.sign="E";break;case"NOTLT":t1.option="LT";t1.sign="E";break;case"NOTGT":t1.option="GT";t1.sign="E";break;default:L.warning(q1+" is not supported. "+i1+" could not be added to the navigation context");}return t1;};j=j.filter||j;for(var i1 in j){if(!i.getSelectOption(i1)){if(i1==="$editState"){continue;}var m1=j[i1];for(var n1 in m1){var o1=m1[n1];j1=(o1.values[0]&&o1.values[0].toString())||"";k1=(o1.values[1]&&o1.values[1].toString())||null;var p1=l1(o1.operator,j1,k1);if(p1.option){i.addSelectOption(i1,p1.sign,p1.option,p1.low,p1.high);}}}}return i;}
function Z(i){var j=c.isStickySessionSupported(i.getModel().getMetaModel());var i1=i.getModel("ui").getProperty("/isEditable");return j&&i1;}
function $(j,i1,j1){if(i1&&j&&j.length){for(var i=0;i<j.length;i++){var k1=i1.getSelectOption("DisplayCurrency"),l1=j1&&j1.getSelectOption("DisplayCurrency");if(j[i].$PropertyPath==="DisplayCurrency"&&(!k1||!k1.length)&&l1&&l1.length){var m1=l1[0];var n1=m1["Sign"];var o1=m1["Option"];var p1=m1["Low"];var q1=m1["High"];i1.addSelectOption("DisplayCurrency",n1,o1,p1,q1);}}}}
function a1(i,j){var i1=i.getObject(j+"/").$Key;var j1=[];var k1=i.getObject(j+"/");for(var l1 in k1){if(k1[l1].$kind&&k1[l1].$kind==="Property"){var m1=i.getObject(j+"/"+l1+"@")||{},n1=i1.indexOf(l1)>-1,o1=n1||m1["@Org.OData.Core.V1.Immutable"],p1=!m1["@Org.OData.Core.V1.Computed"],q1=!m1["@com.sap.vocabularies.UI.v1.Hidden"];if(o1&&p1&&q1){j1.push(l1);}}}return j1;}
function b1(j,i1,j1,k1){return new Promise(function(l1,m1){var n1=j.getComponentData(),o1=(n1&&n1.startupParameters)||{},p1=j.getShellServices();if(!p1.hasUShell()){i1.map(function(i){var q1=k1?"/"+i.$Name:i.getPath().slice(i.getPath().lastIndexOf("/")+1);var r1=k1?q1.slice(1):q1;if(o1[r1]){j1.setProperty(q1,o1[r1][0]);}});return l1(true);}return p1.getStartupAppState(j).then(function(q1){var r1=q1.getData()||{},s1=(r1.selectionVariant&&r1.selectionVariant.SelectOptions)||[];i1.map(function(t1){var u1=k1?"/"+t1.$Name:t1.getPath().slice(t1.getPath().lastIndexOf("/")+1);var v1=k1?u1.slice(1):u1;if(o1[v1]){j1.setProperty(u1,o1[v1][0]);}else if(s1.length>0){for(var i in s1){var w1=s1[i];if(w1.PropertyName===v1){var x1=w1.Ranges.length?w1.Ranges[0]:undefined;if(x1&&x1.Sign==="I"&&x1.Option==="EQ"){j1.setProperty(u1,x1.Low);}}}}});return l1(true);});});}
function c1(j){var i1=[];if(j.parameters){var j1=Object.keys(j.parameters)||[];if(j1.length>0){j1.forEach(function(k1){var l1=j.parameters[k1];if(l1.value&&l1.value.value&&l1.value.format==="binding"){var m1={"LocalProperty":{"$PropertyPath":l1.value.value},"SemanticObjectProperty":k1};if(i1.length>0){for(var i=0;i<i1.length;i++){if(i1[i]["LocalProperty"]["$PropertyPath"]!==m1["LocalProperty"]["$PropertyPath"]){i1.push(m1);}}}else{i1.push(m1);}}});}}return i1;}
function d1(i,j){var i1=[];var j1={};var k1;var l1=i.controlConfiguration;for(var m1 in l1){if(m1.indexOf("@com.sap.vocabularies.UI.v1.DataPoint")>-1||m1.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){if(l1[m1].navigation&&l1[m1].navigation.targetOutbound&&l1[m1].navigation.targetOutbound.outbound){var n1=l1[m1].navigation.targetOutbound.outbound;var o1=j[n1];if(o1.semanticObject&&o1.action){if(m1.indexOf("Chart")>-1){k1=a.generate(["fe","MicroChartLink",m1]);}else{k1=a.generate(["fe","HeaderDPLink",m1]);}var i1=h1.getSemanticObjectMapping(o1);j1[k1]={semanticObject:o1.semanticObject,action:o1.action,semanticObjectMapping:i1};}else{L.error("Cross navigation outbound is configured without semantic object and action for "+n1);}}}}return j1;}
function e1(j,i1){var j1=typeof i1==="string"?JSON.parse(i1):i1;for(var i=0;i<j1.length;i++){var k1=(j1[i]["LocalProperty"]&&j1[i]["LocalProperty"]["$PropertyPath"])||(j1[i]["@com.sap.vocabularies.Common.v1.LocalProperty"]&&j1[i]["@com.sap.vocabularies.Common.v1.LocalProperty"]["$Path"]);var l1=j1[i]["SemanticObjectProperty"]||j1[i]["@com.sap.vocabularies.Common.v1.SemanticObjectProperty"];if(j.getSelectOption(k1)){var m1=j.getSelectOption(k1);j.removeSelectOption(k1);j.massAddSelectOption(l1,m1);}}return j;}
function f1(i,j){var i1=i.getObject(j+"@com.sap.vocabularies.Common.v1.SemanticObject");var j1=i.getObject(j+"@com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions");var k1;var l1;if(!(i1===undefined)){k1=[{semanticObject:i1}];l1={semanticObject:i1};}return{semanticObjectForGetLinks:k1,semanticObject:l1,unavailableActions:j1};}
function g1(j,i1){var j1=function(B1,C1){return k1(B1,C1,[]);};var k1=function(B1,C1,D1){if(!B1){return D1;}if(B1 instanceof Array){for(var i in B1){D1=D1.concat(k1(B1[i],C1,[]));}return D1;}if(B1[C1]){D1.push(B1[C1]);}if(typeof B1=="object"&&B1!==null){var E1=Object.keys(B1);if(E1.length>0){for(i=0;i<E1.length;i++){D1=D1.concat(k1(B1[E1[i]],C1,[]));}}}return D1;};var l1=function(B1){return B1.filter(function(C1,D1){return B1.indexOf(C1)===D1;});};var m1=function(r1,z1){var B1=z1.substring(0,z1.lastIndexOf("/"));if(B1.lastIndexOf("/")===0){return z1;}else{var C1=z1.substring(z1.lastIndexOf("/")+1),D1=r1.getContext(B1),E1=c.getTargetEntitySet(D1);return E1+"/"+C1;}};var n1=j.getView();var o1=n1.getBindingContext("internal");if(o1){var p1=j.getOwnerComponent();var q1=sap.ui.core.Component.getOwnerComponentFor(p1);var r1=q1.getMetaModel();var s1=p1.getModel(i1).getData();if(JSON.stringify(s1)==="{}"){s1=p1.getModel(i1)._getObject("/",undefined);}var t1=j1(s1,"semanticObjectPath");t1=l1(t1);var u1=h1.getShellServices(q1);var v1=u1.hrefForExternal();var w1=[];var x1=[];var y1=[];var z1;var A1;if(v1&&v1.indexOf("?")!==-1){v1=v1.split("?")[0];}for(var i=0;i<t1.length;i++){z1=t1[i];A1=h1.getSemanticObjectsFromPath(r1,z1);if(A1.semanticObject){w1.push(A1.semanticObjectForGetLinks);x1.push({semanticObject:A1.semanticObject.semanticObject,unavailableActions:A1.unavailableActions,path:m1(r1,z1)});}}u1.getLinksWithCache(w1).then(function(B1){if(B1&&B1.length>0&&B1[0]!==undefined){var C1={};var D1={};var E1;var F1=function(G1){if(!(v1===G1.intent)){if(x1[i].unavailableActions&&x1[i].unavailableActions.find(function(H1){if(H1===G1.intent.split("-")[1]){return true;}})){return false;}else{y1[i].push(G1);}}};for(var i=0;i<B1.length;i++){y1.push([]);B1[i][0].forEach(F1);D1={semanticObject:x1[i].semanticObject,HasTargets:y1[i].length>0?true:false,HasTargetsNotFiltered:B1[i][0].length>0?true:false};if(C1[x1[i].semanticObject]===undefined){C1[x1[i].semanticObject]={};}E1=x1[i].path.replace(/\//g,"_");if(C1[x1[i].semanticObject][E1]===undefined){C1[x1[i].semanticObject][E1]={};}C1[x1[i].semanticObject][E1]=Object.assign(C1[x1[i].semanticObject][E1],D1);}o1.setProperty("semanticsTargets",C1);}}).catch(function(B1){L.error("fnGetSemanticTargets: Cannot read links",B1);});}}
var h1={isPropertyFilterable:k,isFieldControlPathInapplicable:x,removeSensitiveData:y,fireButtonPress:r,getTargetView:t,hasTransientContext:h,updateRelatedAppsDetails:U,resolveStringtoBoolean:R,getAppComponent:s,processDataLossConfirmation:w,getMandatoryFilterFields:z,getEntitySetProperties:G,updateDataFieldForIBNButtonsVisibility:B,getTranslatedText:D,getEntitySetName:I,getActionPath:H,computeDisplayMode:J,setActionEnablement:K,isStickyEditMode:Z,getOperatorsForProperty:Q,addSelectionVariantToConditions:W,addExternalStateFiltersToSelectionVariant:Y,addPageContextToSelectionVariant:X,addDefaultDisplayCurrency:$,getNonComputedVisibleFields:a1,setUserDefaults:b1,getShellServices:l,getIBNActions:A,getHeaderFacetItemConfigForExternalNavigation:d1,getSemanticObjectMapping:c1,setSemanticObjectMappings:e1,getSemanticTargetsFromPageModel:g1,getSemanticObjectsFromPath:f1,getPropertyDataType:g};return h1;});
sap.ui.predefine('sap/fe/core/RouterProxy',["sap/base/Log","sap/ui/base/Object","sap/ui/base/EventProvider","sap/fe/core/Synchronization","sap/ui/thirdparty/URI"],function(L,B,E,S,U){"use strict";var e={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};var a={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};
function c(g){return{_guardHash:g.replace(/\?[^\?]*$/,""),check:function(h){return h.indexOf(this._guardHash)===0;}};}
return B.extend("sap.fe.core.RouterProxy",{bIsRebuildHistoryRunning:false,bIsComputingTitleHierachy:false,bIsGuardCrossAllowed:false,sIAppStateKey:null,init:function(A,i){A.getService("shellServices").then(function(){this._oShellServices=A.getShellServices();this.initRaw(A.getRouter());this.waitForRouteMatchBeforeNavigation();history.replaceState(Object.assign({feLevel:0},history.state),"",window.location);this.fclEnabled=i;this._fnBlockingNavFilter=this._blockingNavigationFilter.bind(this);this._oShellServices.registerNavigationFilter(this._fnBlockingNavFilter);}.bind(this)).catch(function(o){L.error("Cannot retrieve the shell services",o);});this._fnHashGuard=this.hashGuard.bind(this);window.addEventListener("popstate",this._fnHashGuard);this._bDisableOnHashChange=false;this._bIgnoreRestore=false;this._bCleanedRestore=false;},exit:function(){if(this._oShellServices){this._oShellServices.unregisterNavigationFilter(this._fnBlockingNavFilter);}window.removeEventListener("popstate",this._fnHashGuard);},initRaw:function(r){this._oRouter=r;this._oManagedHistory=[];this._oNavigationGuard=null;var C=this.getHash();this._oManagedHistory.push(this._extractStateFromHash(C));this.sIAppStateKey=this._findAppStateInHash(C);},getHash:function(){return this._oRouter.getHashChanger().getHash();},navToHash:function(h,p,d){var t=this;if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(function(){t._oRouteMatchSynchronization=null;return t._internalNavToHash(h,p,d);});}else{if(this._bActivateRouteMatchSynchro){this.waitForRouteMatchBeforeNavigation();}return t._internalNavToHash(h,p,d);}},_internalNavToHash:function(h,p,d){var t=this,l=sap.ui.getCore().getCurrentFocusedControlId(),s=l&&sap.ui.getCore().byId(l)?sap.ui.getCore().byId(l).getFocusInfo():null,b=this.getHash();if(this.fclEnabled&&this.sIAppStateKey&&!this._findAppStateInHash(h)){h=this._setAppStateInHash(h,this.sIAppStateKey);}var n=this._extractStateFromHash(h);if(this._oManagedHistory.length>0){n.history=this._oManagedHistory[this._oManagedHistory.length-1].history.concat();n.history.push(this._oManagedHistory[this._oManagedHistory.length-1].hash);}if(!this.checkHashWithGuard(h)){if(!this.oResourceBundle){this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");}if(!confirm(this.oResourceBundle.getText("C_ROUTER_PROXY_SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve();}this.bIsGuardCrossAllowed=true;}var H=this._pushNewState(n,false,p,d);return this._rebuildBrowserHistory(H,false).then(function(){t.storeFocusForHash(l,s,b);});},restoreHistory:function(){if(this._bApplyRestore){this._bApplyRestore=false;var t=this.getHash();t=t.replace(/(\?|&)restoreHistory=true/,"");var n=this._extractStateFromHash(t);var h=this._pushNewState(n,true,false,true);return this._rebuildBrowserHistory(h,true);}else{return Promise.resolve();}},getFocusControlForCurrentHash:function(){var C=this.getHash();var l;for(var i=this._oManagedHistory.length-1;i>=0;i--){if(C===this._oManagedHistory[i].hash){l=this._oManagedHistory[i].oLastFocusControl;break;}else{this._oManagedHistory[i].oLastFocusControl=undefined;}}return l;},storeFocusForHash:function(l,s,h){var m=this._oManagedHistory;for(var i=0;i<m.length;i++){if(h===m[i].hash){m[i].oLastFocusControl={controlId:l,focusInfo:s};break;}}},navBack:function(){var C=this.getHash(),p;for(var i=this._oManagedHistory.length-1;i>0;i--){if(this._oManagedHistory[i].hash===C){p=this._oManagedHistory[i-1].hash;break;}}if(p){return this.navToHash(p);}else{window.history.back();return Promise.resolve();}},navTo:function(r,p){var h=this._oRouter.getURL(r,p);return this.navToHash(h,false,p.noPreservationCache);},exitFromApp:function(){return this._oShellServices.backToPreviousApp();},isCurrentStateImpactedBy:function(h){if(h[0]==="/"){h=h.substring(1);}var l=c(h);return l.check(this.getHash());},isNavigationFinalized:function(){return!this.bIsRebuildHistoryRunning&&!this._bDelayedRebuild;},setNavigationGuard:function(){this._oNavigationGuard=c(this.getHash());this.bIsGuardCrossAllowed=false;},discardNavigationGuard:function(){this._oNavigationGuard=null;},hasNavigationGuard:function(){return this._oNavigationGuard!==null;},checkHashWithGuard:function(h){return this._oNavigationGuard===null||this._oNavigationGuard.check(h);},isGuardCrossAllowedByUser:function(){return this.bIsGuardCrossAllowed;},activateRouteMatchSynchronization:function(){this._bActivateRouteMatchSynchro=true;},resolveRouteMatch:function(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve();}},waitForRouteMatchBeforeNavigation:function(){this._oRouteMatchSynchronization=new S();this._bActivateRouteMatchSynchro=false;},_extractStateFromHash:function(h){var s={keys:[]};if(h===undefined){h="";}var H=h.split("?")[0];var t=H.split("/");t.forEach(function(T){var r=/[^\(\)]+\([^\(\)]+\)/;if(r.test(T)){s.keys.push(T.split("(")[0]);}});var l=h.match(new RegExp("\\?.*"+a.LAYOUTPARAM+"=([^&]*)"));s.sLayout=l&&l.length>1?l[1]:null;if(s.sLayout==="MidColumnFullScreen"){s.screenMode=1;}else if(s.sLayout==="EndColumnFullScreen"){s.screenMode=2;}else{s.screenMode=0;}s.hash=h;s.history=[];return s;},_pushNewState:function(n,r,p,d,b){var C=this.getHash(),l=this._oManagedHistory.length-1,P=r?1:0,t=this;var u=-1;if(!d){if(p===true){this._oManagedHistory[this._oManagedHistory.length-1].preserved=true;}for(u=b?this._oManagedHistory.length-2:this._oManagedHistory.length-1;u>=0;u--){if(this._oManagedHistory.length>u&&this._oManagedHistory[u].preserved===true){break;}}}if(!r){while(l>=0&&this._oManagedHistory[l].hash!==C){this._oManagedHistory.pop();l--;}}if(this._oManagedHistory.length===0){this._oManagedHistory.push(this._extractStateFromHash(C));if(!r){history.replaceState(Object.assign({feLevel:0},history.state),"");}}var o;var f;while(this._oManagedHistory.length-1>u&&this._oManagedHistory.length>0&&this._compareCacheStates(this._oManagedHistory[this._oManagedHistory.length-1],n)!==e.ANCESTOR){o=this._oManagedHistory[this._oManagedHistory.length-1].oLastFocusControl;f=this._oManagedHistory.pop();P++;}if(this._oManagedHistory.length>0&&this._oManagedHistory[this._oManagedHistory.length-1].preserved===true&&this._RemoveAppStateInHash(this._oManagedHistory[this._oManagedHistory.length-1].hash)===this._RemoveAppStateInHash(n.hash)){o=this._oManagedHistory[this._oManagedHistory.length-1].oLastFocusControl;f=this._oManagedHistory.pop();P++;n.preserved=true;}this.sIAppStateKey=this._findAppStateInHash(n.hash);if(this.fclEnabled&&this.sIAppStateKey){this._oManagedHistory.forEach(function(m){m.hash=t._setAppStateInHash(m.hash,t.sIAppStateKey);});}else if(!this.fclEnabled&&f){var s=this._findAppStateInHash(f.hash);var g=this._compareCacheStates(f,n);if(!this.sIAppStateKey&&s&&(g===e.EQUAL||g===e.COMPATIBLE)){n.hash=t._setAppStateInHash(n.hash,s);}}n.oLastFocusControl=o;var h=false;if(f){n.lastRemovedItem=f;h=n.hash===f.hash;}if(this._oManagedHistory.length===0||this._oManagedHistory[this._oManagedHistory.length-1].hash!==n.hash){this._oManagedHistory.push(n);}if(P===0){return{type:"append"};}else if(P===1){return h?{type:"none"}:{type:"replace"};}else{return h?{type:"back",steps:P-1}:{type:"back-replace",steps:P-1};}},_findAppStateInHash:function(h){var A=h.match(new RegExp("\\?.*"+a.IAPPSTATEPARAM+"=([^&]*)"));return A&&A.length>1?A[1]:null;},_RemoveAppStateInHash:function(h){return h.replace(new RegExp("[&?]*"+a.IAPPSTATEPARAM+"=[^&]*"),"");},_setAppStateInHash:function(h,A){var n;if(h.indexOf(a.IAPPSTATEPARAM)>=0){n=h.replace(new RegExp(a.IAPPSTATEPARAM+"=[^&]*"),a.IAPPSTATEPARAM+"="+A);}else{if(h.indexOf("?")<0){n=h+"?";}else{n=h+"&";}n+=a.IAPPSTATEPARAM+"="+A;}return n;},_blockingNavigationFilter:function(){return this._bDisableOnHashChange?"Custom":"Continue";},_disableEventOnHashChange:function(){this._bDisableOnHashChange=true;this._oRouter.stop();},_enableEventOnHashChange:function(i){this._bDisableOnHashChange=false;this._oRouter.initialize(i);},_rebuildBrowserHistory:function(h,r){var t=this;return new Promise(function(b,d){t.bIsRebuildHistoryRunning=true;var T=t._oManagedHistory[t._oManagedHistory.length-1],n=t._oManagedHistory.length-1;function f(){if(!r){t._enableEventOnHashChange(true);}t._oRouter.getHashChanger().replaceHash(T.hash);history.replaceState(Object.assign({feLevel:n},history.state),"");if(r){setTimeout(function(){t._enableEventOnHashChange(true);},0);}t.bIsRebuildHistoryRunning=false;b();}function g(){window.removeEventListener("popstate",g);setTimeout(function(){f();},0);}function i(){window.removeEventListener("popstate",i);t.bIsRebuildHistoryRunning=false;b();}t._bIgnoreRestore=true;switch(h.type){case"replace":t._oRouter.getHashChanger().replaceHash(T.hash);history.replaceState(Object.assign({feLevel:n},history.state),"");t.bIsRebuildHistoryRunning=false;b();break;case"append":t._oRouter.getHashChanger().setHash(T.hash);history.replaceState(Object.assign({feLevel:n},history.state),"");t.bIsRebuildHistoryRunning=false;b();break;case"back":window.addEventListener("popstate",i);history.go(-h.steps);break;case"back-replace":t._disableEventOnHashChange();window.addEventListener("popstate",g);history.go(-h.steps);break;default:t.bIsRebuildHistoryRunning=false;b();}});},hashGuard:function(o){if(this._bCleanedRestore){this._bCleanedRestore=false;return;}var h=window.location.hash;if(h.indexOf("restoreHistory=true")!==-1){this._bApplyRestore=true;}else if(!this.bIsRebuildHistoryRunning){var H=h.split("&/");var A=H[1]?H[1]:"";if(this.checkHashWithGuard(A)){this._bDelayedRebuild=true;var n=this._extractStateFromHash(A);this._pushNewState(n,false,false,false,true);var t=this;setTimeout(function(){t._bDelayedRebuild=false;},0);}}},_compareCacheStates:function(s,o){if(s.keys.length>o.keys.length){return e.DIFFERENT;}var b=true;var i;for(i=0;b&&i<s.keys.length;i++){if(s.keys[i]!==o.keys[i]){b=false;}}if(!b){return e.DIFFERENT;}if(s.keys.length<o.keys.length||s.screenMode<o.screenMode){return e.ANCESTOR;}if(s.screenMode>o.screenMode){return e.DIFFERENT;}return s.sLayout===o.sLayout?e.EQUAL:e.COMPATIBLE;},checkIfBackIsOutOfGuard:function(p){var t=this,P;if(p===undefined){var s=this._oShellServices.splitHash(window.location.hash);if(s&&s.appSpecificRoute){p=s.appSpecificRoute;if(p.indexOf("&/")===0){p=p.substring(2);}}else{p=window.location.hash.substring(1);if(p[0]==="/"){p=p.substring(1);}}}p=U.decode(p);if(t._oNavigationGuard){for(var i=t._oManagedHistory.length-1;i>0;i--){if(t._oManagedHistory[i].hash===p){P=t._oManagedHistory[i-1].hash;break;}}return!P||!t.checkHashWithGuard(P);}return false;}});});
sap.ui.predefine('sap/fe/core/TemplateModel',["sap/base/Log","sap/ui/base/Object","sap/ui/model/json/JSONModel"],function(L,B,J){"use strict";return B.extend("sap.fe.core.TemplateModel",{constructor:function(p,m){this.oMetaModel=m;this.oConfigModel=new J();this.oConfigModel.setSizeLimit(Number.MAX_VALUE);this.bConfigLoaded=false;var t=this;if(typeof p==="function"){var g=this.oConfigModel._getObject.bind(this.oConfigModel);this.oConfigModel._getObject=function(P,c){if(!t.bConfigLoaded){this.setData(p());t.bConfigLoaded=true;}return g(P,c);};}else{this.oConfigModel.setData(p);}this.fnCreateMetaBindingContext=this.oMetaModel.createBindingContext.bind(this.oMetaModel);this.fnCreateConfigBindingContext=this.oConfigModel.createBindingContext.bind(this.oConfigModel);this.oConfigModel.createBindingContext=this.createBindingContext.bind(this);return this.oConfigModel;},createBindingContext:function(p,c,P,C){var b,r,n=P&&P.noResolve;b=this.fnCreateConfigBindingContext(p,c,P,C);r=!n&&b.getObject();if(r&&typeof r==="string"){b=this.fnCreateMetaBindingContext(r,c,P,C);}return b;},destroy:function(){this.oConfigModel.destroy();J.prototype.destroy.apply(this,arguments);}});});
sap.ui.predefine('sap/fe/core/actions/draft',["sap/m/Dialog","sap/m/Button","sap/m/Text","sap/m/MessageBox","sap/fe/core/actions/messageHandling","sap/fe/core/CommonUtils","sap/fe/core/helpers/SideEffectsUtil","sap/base/Log"],function(D,B,T,M,m,C,S,L){"use strict";var d={EDIT:"EditAction",ACTIVATION:"ActivationAction",DISCARD:"DiscardAction",PREPARE:"PreparationAction"};
function g(o,O){var p=o.getModel(),q=p.getMetaModel(),E=q.getMetaPath(o.getPath());return q.getObject(E+"@com.sap.vocabularies.Common.v1.DraftRoot/"+O);}
function c(o,O,p){var s=g(o,O);return o.getModel().bindContext(s+"(...)",o,p);}
function h(o){return!!g(o,d.PREPARE);}
function e(o,p){if(o.getProperty("IsActiveEntity")){var O={$$inheritExpandSelect:true};var q=c(o,d.EDIT,O);q.setParameter("PreserveChanges",p);return q.execute().then(function(s){return s;});}else{throw new Error("The edit action cannot be executed on a draft document");}}
function a(o,G){if(!o.getProperty("IsActiveEntity")){var O=c(o,d.ACTIVATION,{$$inheritExpandSelect:true});return O.execute(G).then(function(A){return A;}).catch(function(){if(h(o)){var A=g(o,d.PREPARE),p=S.getSideEffectsForAction(A,o),t=p&&p.pathExpressions;if(t){o.requestSideEffects(t).catch(function(E){L.error("Error while requesting side effects",E);});}else{r(o).catch(function(E){L.error("Error while requesting messages",E);});}}return Promise.reject();});}else{throw new Error("The activation action cannot be executed on an active document");}}
function b(o,G,p){if(!o.getProperty("IsActiveEntity")){var O=c(o,d.PREPARE);O.setParameter("SideEffectsQualifier","");G=G||O.getGroupId();var P=O.execute(G).then(function(){return O;}).catch(function(E){L.error("Error while executing the operation",E);});if(p){var A=g(o,d.PREPARE),q=S.getSideEffectsForAction(A,o),t=q&&q.pathExpressions;if(t){o.requestSideEffects(t,G).catch(function(E){L.error("Error while requesting side effects",E);});}else{r(o);}}return P;}else{throw new Error("The preparation action cannot be executed on an active document");}}
function f(o){var p=o.getModel(),q=p.getMetaModel(),E=q.getMetaPath(o.getPath());return q.getObject(E+"/@com.sap.vocabularies.Common.v1.Messages/$Path");}
function r(o){var s=f(o);if(s){return o.requestSideEffects([{$PropertyPath:s}]);}}
function i(o){if(!o.getProperty("IsActiveEntity")){var O=c(o,d.DISCARD);return O.execute();}else{throw new Error("The discard action cannot be executed on an active document");}}
function j(o,p){var P=p||{},q=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),R=typeof P.bPreserveChanges==="undefined"||(typeof P.bPreserveChanges==="boolean"&&P.bPreserveChanges);function s(O){if(O){var u=o.getModel(),v,w=u.bindContext(o.getPath()+"/DraftAdministrativeData").getBoundContext();return p.oView.getModel("sap.fe.i18n").getResourceBundle().then(function(_){v=_;return w.requestObject();}).then(function(x){if(x){m.removeUnboundTransitionMessages();var I=x.InProcessByUserDescription||x.InProcessByUser;var E=p.oView.getViewData().entitySet;if(I){var y=C.getTranslatedText("C_DRAFT_OBJECT_PAGE_DRAFT_LOCKED_BY_USER",v,I,E);M.error(y);throw new Error(y);}else{I=x.CreatedByUserDescription||x.CreatedByUser;var U=C.getTranslatedText("C_DRAFT_OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",v,I,E);return t(U).then(function(){return e(o,false);});}}});}return Promise.reject(new Error("Draft creation aborted for document: "+o.getPath()));}function t(u){return new Promise(function(v,w){var x=new D({title:q.getText("C_DRAFT_OBJECT_PAGE_WARNING"),state:"Warning",content:new T({text:u}),beginButton:new B({text:q.getText("C_COMMON_OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){x.close();v(true);}}),endButton:new B({text:q.getText("C_COMMON_OBJECT_PAGE_CANCEL"),press:function(){x.close();w("Draft creation aborted for document: "+o.getPath());}}),afterClose:function(){x.destroy();}});x.addStyleClass("sapUiContentPadding");x.open();});}if(!o){return Promise.reject(new Error("Binding context to active document is required"));}return Promise.resolve(P.fnBeforeCreateDraftFromActiveDocument?P.fnBeforeCreateDraftFromActiveDocument(o,R):true).then(function(E){if(!E){throw new Error("Draft creation was aborted by extension for document: "+o.getPath());}return e(o,R).catch(function(u){if(R&&u.status===409){return Promise.resolve(P.fnWhenDecisionToOverwriteDocumentIsRequired?P.fnWhenDecisionToOverwriteDocumentIsRequired():true).then(s);}else{throw new Error(u);}});}).then(function(u){return Promise.resolve(P.fnAfterCreateDraftFromActiveDocument?P.fnAfterCreateDraftFromActiveDocument(o,u):u);}).then(function(u){if(P.bPrepareOnEdit&&h(u)){return b(u,undefined,true).then(function(){return u;});}return u;}).catch(function(u){return Promise.reject(u);});}
function k(o,p){var P=p||{};if(!o){return Promise.reject(new Error("Binding context to draft document is required"));}return Promise.resolve(P.fnBeforeActivateDocument?P.fnBeforeActivateDocument(o):true).then(function(E){if(!E){return Promise.reject(new Error("Activation of the document was aborted by extension for document: "+o.getPath()));}if(!h(o)){return a(o);}var s="draft";var q=b(o,s,false);o.getModel().submitBatch(s);var A=a(o,s);return Promise.all([q,A]).then(function(v){return v[1];}).catch(function(t){return Promise.reject(t);});}).then(function(A){return Promise.resolve(P.fnAfterActivateDocument?P.fnAfterActivateDocument(o,A):A);}).catch(function(q){return Promise.reject(q);});}
function l(o){var s=g(o,d.DISCARD),I=o.getObject().IsActiveEntity;if(I||(!I&&!s)){return o.delete();}else{return i(o);}}
var n={createDraftFromActiveDocument:j,activateDocument:k,deleteDraft:l};return n;});
sap.ui.predefine('sap/fe/core/actions/messageHandling',["sap/m/MessageToast","sap/m/MessageItem","sap/m/MessageView","sap/m/Button","sap/m/Dialog","sap/ui/core/library","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/message/Message","sap/ui/core/IconPool"],function(M,a,b,B,D,C,F,c,d,I){"use strict";var e=C.MessageType;var t=this;
function f(){var p;function i(P){return P.property?"( ${"+P.property+'} ? ("<p>'+P.property.substr(Math.max(P.property.lastIndexOf("/"),P.property.lastIndexOf("."))+1)+' : " + '+"${"+P.property+'} + "</p>") : "" )':"";}function q(P){var H="";if(P.groupName&&P.property&&P.groupName!==p){H+="( ${"+P.property+'} ? "<br><h3>'+P.groupName+'</h3>" : "" ) + ';p=P.groupName;}return H;}function u(){var T="technicalDetails";return[{"groupName":"","property":T+"/status"},{"groupName":"","property":T+"/statusText"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ComponentId"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ServiceId"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ServiceRepository"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ServiceVersion"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ErrorResolution/Analysis"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ErrorResolution/Note"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ErrorResolution/DetailedNote"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ExceptionCategory"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.TimeStamp"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.TransactionId"},{"groupName":"Messages","property":T+"/error/code"},{"groupName":"Messages","property":T+"/error/message"}];}var H="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';u().forEach(function(P){H=H+q(P)+""+i(P)+" + ";});return H;}
function g(){var H="(${"+'description} ? ("<h2>Description</h2>" + ${'+'description}) : "")';return H;}
function G(p){var q=e.None,L=p.length,u={Error:0,Warning:0,Success:0,Information:0};for(var i=0;i<L;i++){++u[p[i].getType()];}if(u[e.Error]>0){q=e.Error;}else if(u[e.Warning]>0){q=e.Warning;}else if(u[e.Success]>0){q=e.Success;}else if(u[e.Information]>0){q=e.Information;}return q;}
function m(p,R){var q=p.getMessageModel().getObject("/");var u=false;var E="";q.forEach(function(v,i){var T=v.getTechnicalDetails();if(T&&T.httpStatus===412){E=E||R.getText("C_APP_COMPONENT_SAPFE_ETAG_TECHNICAL_ISSUES");p.removeMessages(q[i]);v.setMessage(E);p.addMessages(v);u=true;}});return u;}
function h(){t.oDialog.close();t.oBackButton.setVisible(false);r();}
function s(p,q){var u=l(),v=sap.ui.getCore().getMessageManager(),H,w;if(u.length===0&&!p){return Promise.resolve(true);}else if(u.length===1&&u[0].getType()===e.Success&&!p){return new Promise(function(i,x){M.show(u[0].message);v.removeMessages(u);i();});}else{t.aResolveFunctions=t.aResolveFunctions||[];return new Promise(function(x,y){t.aResolveFunctions.push(x);sap.ui.getCore().getLibraryResourceBundle("sap.fe.core",true).then(function(R){t.oMessageTemplate=t.oMessageTemplate||new a({counter:"{counter}",title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:"{type}",description:"{= ${"+"description} || ${technicalDetails} ? "+'"<html><body>" + '+g()+" + "+f()+'"</body></html>"'+' : "" }',markupDescription:true});t.oMessageView=t.oMessageView||new b({showDetailsPageHeader:false,itemSelect:function(){t.oBackButton.setVisible(true);},items:{path:"/",filters:[new F("target",c.EQ,""),new F("code",c.NE,undefined)],template:t.oMessageTemplate}});t.oBackButton=t.oBackButton||new B({icon:I.getIconURI("nav-back"),visible:false,press:function(){t.oMessageView.navigateBack();this.setVisible(false);}});if(p&&p.length){p.map(function(i){v.addMessages(new d({message:i.text,type:i.type,target:"",persistent:true}));});}t.oMessageView.setModel(v.getMessageModel());t.oDialog=t.oDialog||new D({resizable:true,content:t.oMessageView,endButton:new B({press:h,text:R.getText("C_COMMON_SAPFE_CLOSE")}),customHeader:new sap.m.Bar({contentMiddle:[new sap.m.Text({text:R.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[t.oBackButton]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,afterClose:function(E){for(var i=0;i<t.aResolveFunctions.length;i++){t.aResolveFunctions[i].call();}t.aResolveFunctions=[];}});var z=m(v,R);if(z){sap.ui.require(["sap/m/ButtonType"],function(i){t.oDialog.setBeginButton(new B({press:function(){h();if(q.hasPendingChanges()){q.getRootBinding().resetChanges();}q.getRootBinding().refresh();},text:R.getText("C_COMMON_SAPFE_REFRESH"),type:i.Emphasized}));});}else{t.oDialog.destroyBeginButton();}H=G(t.oMessageView.getItems());w=j(H);t.oDialog.setState(H);t.oDialog.getCustomHeader().getContentMiddle()[0].setText(w);t.oMessageView.navigateBack();t.oDialog.open();}).catch(y);});}}
function j(H){var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");switch(H){case"Error":return R.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR");case"Information":return R.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return R.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return R.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING");default:return R.getText("C_MESSAGE_HANDLING_SAPFE_ERROR_MESSAGES_PAGE_TITLE");}}
function r(){n(false);}
function k(){n(true);}
function l(p,T){var q=sap.ui.getCore().getMessageManager(),u=q.getMessageModel(),v=u.getObject("/"),w=[];for(var i=0;i<v.length;i++){if((!T||v[i].persistent)&&((p&&v[i].target!=="")||v[i].target==="")&&v[i].code){w.push(v[i]);}}return w;}
function n(i){var p=l(i,true);if(p.length>0){sap.ui.getCore().getMessageManager().removeMessages(p);}}
var o={getMessages:l,showUnboundMessages:s,removeUnboundTransitionMessages:r,removeBoundTransitionMessages:k,modifyETagMessagesOnly:m};return o;});
sap.ui.predefine('sap/fe/core/actions/nonDraft',[],function(){"use strict";var n={};return n;});
sap.ui.predefine('sap/fe/core/actions/operations',["sap/m/MessageBox","sap/m/Dialog","sap/ui/model/json/JSONModel","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/core/Fragment","sap/fe/core/actions/messageHandling","sap/fe/core/BusyLocker","sap/fe/core/helpers/SideEffectsUtil","sap/fe/core/helpers/StableIdHelper","sap/fe/core/CommonUtils","sap/base/Log","sap/fe/core/library","sap/ui/core/ValueState"],function(M,D,J,X,a,F,m,B,S,b,C,L,c,V){"use strict";var d=c.Constants;
function e(A,i,j,P){if(!i||i.length===0){return Promise.reject("Bound actions always requires at least one context");}P=P||{};if(Array.isArray(i)){P.bReturnAsArray=true;}else{i=[i];}var q=j.getMetaModel(),r=q.getMetaPath(i[0].getPath())+"/"+A,t=q.createBindingContext(r+"/@$ui5.overload/0");var t=q.createBindingContext(r+"/@$ui5.overload/0");P.aContexts=i;P.isCriticalAction=l(q,r,i,t);return g(A,j,t,P);}
function f(A,i,P){if(!i){return Promise.reject("Action expects a model/context for execution");}var j=i.getMetaModel(),q=i.bindContext("/"+A).getPath(),r=j.createBindingContext("/"+j.createBindingContext(q).getObject("$Action")+"/0");P.isCriticalAction=l(j,q+"/@$ui5.overload");return g(A,i,r,P);}
function g(A,i,j,P){return new Promise(function(r,q){P=P||{};var t=P.actionParameters||[],u={},v,w,x=P.label,y=P.showActionParameterDialog,z=P.aContexts,I=P.bIsCreateAction,E=P.isCriticalAction,G,H,K,N;if(!j||!j.getObject()){return q(new Error("Action"+A+" not found"));}if(y||t.length>0){t=p(j,t);if(!t||t.length===0){y=false;}}if(y){v=s;}else if(E){v=h;}u={fnOnSubmitted:P.onSubmitted,fnOnResponse:P.onResponse,actionName:A,model:i,aActionParameters:t,ownerComponent:P.ownerComponent,bGetBoundContext:P.bGetBoundContext};if(j.getObject("$IsBound")){if(P.additionalSideEffect&&P.additionalSideEffect.pathExpressions){G=i.getMetaModel();H=G.getMetaPath(z[0].getPath());K=G.getObject(H+"/@com.sap.vocabularies.Common.v1.Messages/$Path");if(K){N=P.additionalSideEffect.pathExpressions.findIndex(function(O){return O.$PropertyPath===K;});if(N>-1){P.mBindingParameters=P.mBindingParameters||{};if(j.getObject("$ReturnType/$Type/"+K)&&(!P.mBindingParameters.$select||P.mBindingParameters.$select.split(",").indexOf(K)===-1)){P.mBindingParameters.$select=P.mBindingParameters.$select?P.mBindingParameters.$select+","+K:K;if(P.additionalSideEffect.triggerActions.length===0){P.additionalSideEffect.pathExpressions.splice(N,1);}}}}}u.aContexts=z;u.mBindingParameters=P.mBindingParameters;u.additionalSideEffect=P.additionalSideEffect;u.bGrouped=P.invocationGrouping==="ChangeSet";u.bReturnAsArray=P.bReturnAsArray;u.internalModelContext=P.internalModelContext;u.operationAvailableMap=P.operationAvailableMap;}if(I){u.bIsCreateAction=I;}if(v){w=v(A,x,u,t,j,P.parentControl,P.entitySetName);}else{w=_(u);}return w.then(function(O){r(O);}).catch(function(O){q(O);});});}
function h(A,i,P,j,q,r,t){return new Promise(function(u,v){var w=A?A:null;w=w.indexOf(".")>=0?w.split(".")[w.split(".").length-1]:w;var x=w&&t?t+"|"+w:"";var R=r.getController().oResourceBundle;var y=C.getTranslatedText("C_OPERATIONS_ACTION_CONFIRM_MESSAGE",R,null,x);M.confirm(y,{onClose:function(z){if(z===M.Action.OK){return _(P).then(function(O){u(O);}).catch(function(E){m.showUnboundMessages().then(function(){v(E);}).catch(function(){v(E);});});}else{u();}}});});}
function s(A,j,P,q,r,t,u){var v=n(r,A),w=r.getModel().oModel.getMetaModel(),x=w.createBindingContext(v),y=r.getObject("$IsBound")?r.getPath().split("/@$ui5.overload/0")[0]:r.getPath().split("/0")[0],z=w.createBindingContext(y),E="sap/fe/core/controls/ActionParameterDialog";return new Promise(function(G,H){var I=X.loadTemplate(E,"fragment"),K=new J({$displayMode:{}}),N=[],O={},Q={handleChange:function(i){m.removeBoundTransitionMessages();var R=i.getSource();var T=i.getParameter("id");var U=i.getParameter("promise");if(U){O[T]=U.then(function(){return R.getValue();});}}};return Promise.resolve(a.process(I,{name:E},{bindingContexts:{action:r,actionName:z,entitySet:x},models:{action:r.getModel(),actionName:z.getModel(),entitySet:x.getModel(),metaModel:x.getModel()}})).then(function(I){return C.setUserDefaults(P.ownerComponent,q,K,true).then(function(){return F.load({definition:I,controller:Q}).then(function(R){var T;var U=t.getController().oResourceBundle;var W=new D({title:j||C.getTranslatedText("C_OPERATIONS_ACTION_PARAMETER_DIALOG_TITLE",U),content:[R],escapeHandler:function(i){W.close();m.removeUnboundTransitionMessages();H();},beginButton:{text:j||C.getTranslatedText("C_COMMON_DIALOG_OK",U),type:"Emphasized",press:function($){var a1=sap.ui.getCore().getMessageManager().getMessageModel().getData();N=[];q.forEach(function(i){var b1=i.$Name;a1.forEach(function(c1){var d1=b1.replace("-inner","");if(c1.controlIds.length>0&&(c1.getControlId().includes("APD_::"+b1)||(c1.getControlId().includes("APD_::"+b1+"inner")&&N.indexOf("APD_::"+d1)<0))){N.push("APD_::"+d1);}});});if(N.length>0){return;}B.lock(W);return Promise.all(Object.keys(O).map(function(i){return O[i];})).then(function(){m.removeUnboundTransitionMessages();var b1,c1=T&&T.getParameterContext();for(var i in P.aActionParameters){b1=c1.getProperty(P.aActionParameters[i].$Name);P.aActionParameters[i].value=b1;b1=undefined;}return _(P).then(function(d1){W.close();G(d1);}).catch(function(d1){throw d1;});}).catch(function(){return m.showUnboundMessages();}).finally(function(){B.unlock(W);});}},endButton:{text:C.getTranslatedText("C_COMMON_ACTION_PARAMETER_DIALOG_CANCEL",U),press:function(){W.close();m.removeUnboundTransitionMessages();H(d.CancelActionDialog);}},beforeOpen:function(){m.removeUnboundTransitionMessages();m.removeBoundTransitionMessages();var $=function(b1){var c1=function(f1,h1){return new Promise(function(G,H){if(h1){if(Z.length>0&&h1.$Path){T.getParameterContext().requestProperty(h1.$Path).then(function(i1){if(Z.length>1){var j1=h1.$Path;if(j1.indexOf(b1+"/")===0){j1=j1.replace(b1+"/","");}for(var i=1;i<Z.length;i++){if(Z[i].getProperty(j1)!==i1){G({});}}}G({value:i1});}).catch(function(){L.error("Error while reading default action parameter",f1,P.actionName);G({value:undefined,bLatePropertyError:true});});}else{G({value:h1});}}else{if(K&&K.oData[f1]){G({value:K.oData[f1]});}else{G({value:undefined});}}});};var d1=function(f1){var h1=W.getModel().getMetaModel(),Y=r.sPath&&r.sPath.split("/@")[0],i1=Y+"/"+f1+"@",j1=h1.getObject(i1),k1=j1&&j1["@com.sap.vocabularies.UI.v1.ParameterDefaultValue"];return k1;};var e1=[];var f1,g1;for(var i in P.aActionParameters){f1=P.aActionParameters[i].$Name;g1=d1(f1);e1.push(c1(f1,g1));}Promise.all(e1).then(function(h1){for(var i=0;i<h1.length;i++){if(h1[i]&&h1[i].value){T.setParameter(q[i].$Name,h1[i].value);}}var i1=h1.some(function(k1){return k1.bLatePropertyError;});if(i1){var j1=U.getText("C_APP_COMPONENT_SAPFE_ETAG_LATE_PROPERTY");M.warning(j1,{contentWidth:"25em"});}}).catch();};if(r.getObject("$IsBound")&&Z.length>0){var a1=r.getObject("$Parameter"),b1=a1[0]&&a1[0].$Name;Z[0].requestObject().then(function(i){if(i){T.setParameter(b1,i);}$(b1);}).catch(function(i){L.error("Error while retrieving the parameter",i);});}else{$();}},afterClose:function(){W.destroy();}});W.setModel(r.getModel().oModel);W.setModel(K,"paramsModel");W.bindElement({path:"/",model:"paramsModel"});var Y=A+"(...)";var Z=P.aContexts||[];if(!Z.length){Y="/"+Y;}W.bindElement({path:Y});if(t){t.addDependent(W);}if(Z.length>0){W.setBindingContext(Z[0]);}T=W.getObjectBinding();W.open();});});}).catch(H);});}
function p(A,P){var i=k(A);P=P||[];if(P.length>0){}return i;}
function k(A){var P=A.getObject("$Parameter")||[];if(P&&P.length){if(A.getObject("$IsBound")){return P.slice(1,P.length)||[];}}return P;}
function l(i,P,j,q){var A=i.getObject(P+"@com.sap.vocabularies.Common.v1.IsActionCritical"),r=A&&A.$Path;if(!r){return!!A;}var t=q&&q.getObject("$Parameter"),u=r&&r.split("/"),v=t&&t.length&&typeof t==="object"&&r&&j&&j.length;if(v){t.filter(function(w){var x=u&&u.indexOf(w.$Name);if(x>-1){u.splice(x,1);}});r=u.join("/");return j[0].getObject(r);}else if(r){return j[0].getObject(r);}}
function _(P){var q=P.aContexts||[],r=P.model,E=m.getMessages().length||0,A=P.aActionParameters||[],t=P.actionName,O=P.fnOnSubmitted,u=P.fnOnResponse,I=P.bIsCreateAction,v=false,w;function x(i){return i.then(function(j){var G=m.getMessages();if(G.length>E&&G[G.length-1].type==="Error"){return{response:j,status:"rejected"};}return{response:j,status:"resolved"};},function(j){return{response:j,status:"rejected"};});}function y(){if(A&&A.length){v=true;for(var j=0;j<A.length;j++){if(!A[j].value){switch(A[j].$Type){case"Edm.String":A[j].value="";break;case"Edm.Boolean":A[j].value=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":A[j].value=0;break;default:break;}}w.setParameter(A[j].$Name,A[j].value);}}}if(q.length){return new Promise(function(j,G){var H=P.mBindingParameters,K=P.bGrouped,R=P.bReturnAsArray,N=P.bGetBoundContext,Q=[],z,i,T,U=function(w,W,Y){y();T=!K?"actionGroup":w.getUpdateGroupId();z=N?w.execute(T).then(function(){return w.getBoundContext();}):w.execute(T);Q.push(z);if(!K){r.submitBatch(T);}if(Y&&Y.triggerActions&&Y.triggerActions.length){Y.triggerActions.forEach(function(Z){if(Z){var $=Y.context.getModel().bindContext(Z+"(...)",Y.context);$.execute(T);}});}if(Y&&Y.pathExpressions&&Y.pathExpressions.length>0){S.logRequest(Y);Y.context.requestSideEffects(Y.pathExpressions,T).then(function(){if(P.operationAvailableMap&&P.internalModelContext){C.setActionEnablement(P.internalModelContext,JSON.parse(P.operationAvailableMap),P.aContexts);}}).catch(function(Z){L.error("Error while requesting side effects",Z);});}};for(i=0;i<q.length;i++){w=r.bindContext(t+"(...)",q[i],H);U(w,q.length<=1?null:i,{context:q[i],pathExpressions:P.additionalSideEffect&&P.additionalSideEffect.pathExpressions,triggerActions:P.additionalSideEffect&&P.additionalSideEffect.triggerActions});}(O||jQuery.noop)(Q);Promise.all(Q.map(x)).then(function(W){var Y=[],Z=[],$;for($=0;$<W.length;$++){if(W[$].status==="rejected"){Y.push(W[$].response);}if(W[$].status==="resolved"){if(I&&v){W[$].bConsiderDocumentModified=true;Z.push(W[$]);}else{Z.push(W[$].response);}}}if(!W||(W&&W.length===0)){G(true);}if(Y.length===0){if(R){j(Z);}else{j(Z[0]);}}else{G({resolvedItems:Z,rejectedItems:Y});}}).catch(G);}).finally(function(){(u||jQuery.noop)();});}else{var z;w=r.bindContext("/"+t+"(...)");y();z=w.execute("actionImport");r.submitBatch("actionImport");(O||jQuery.noop)(z);return z.finally(function(){(u||jQuery.noop)();});}}
function n(A,i){var P=A.getPath();P=A.getObject("$IsBound")?P.split("@$ui5.overload")[0]:P.split("/0")[0];return P.split("/"+i)[0];}
var o={callBoundAction:e,callActionImport:f};return o;});
sap.ui.predefine('sap/fe/core/actions/sticky',["sap/fe/core/actions/operations"],function(o){"use strict";
function e(c){var m=c.getModel(),M=m.getMetaModel(),b=M.getMetaPath(c.getPath()),E=M.getObject(b+"@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction"),f;if(!E){throw new Error("Edit Action for Sticky Session not found for "+b);}f=m.bindContext(E+"(...)",c,{$$inheritExpandSelect:true});return f.execute();}
function a(c){var m=c.getModel(),M=m.getMetaModel(),b=M.getMetaPath(c.getPath()),S=M.getObject(b+"@com.sap.vocabularies.Session.v1.StickySessionSupported/SaveAction"),f;if(!S){throw new Error("Save Action for Sticky Session not found for "+b);}f=m.bindContext(S+"(...)",c,{$$inheritExpandSelect:true});return f.execute("$auto");}
function d(c){var m=c.getModel(),M=m.getMetaModel(),b=M.getMetaPath(c.getPath()),D=M.getObject(b+"@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction"),f;if(!D){throw new Error("Discard Action for Sticky Session not found for "+b);}f=m.bindContext("/"+D+"(...)");return f.execute().then(function(){return c;});}
var s={editDocumentInStickySession:e,activateDocument:a,discardDocument:d};return s;});
sap.ui.predefine('sap/fe/core/controllerextensions/ControllerExtensionMetadata',["sap/ui/base/Metadata","sap/base/util/merge","sap/ui/core/mvc/ControllerMetadata"],function(M,m,C){"use strict";var a=function(c,o){C.apply(this,arguments);if(this.isA("sap.ui.core.mvc.ControllerExtension")&&this.getParent().getClass().override){this.getClass().override=this.getParent().getClass().override;}};a.prototype=Object.create(C.prototype);a.prototype.constructor=a;
a.prototype.afterApplySettings=function(){M.prototype.afterApplySettings.call(this);if(this._oParent){var p=this._oParent._mMethods?this._oParent._mMethods:{};for(var s in p){if(this._mMethods[s]){var P=this._mMethods[s].public;this._mMethods[s]=m({},p[s]);if(P!==undefined){this._mMethods[s].public=P;}if(!this.isMethodPublic(s)&&this._mMethods[s].public!==p[s].public){this._aAllPublicMethods.splice(this._aAllPublicMethods.indexOf(s),1);}}else{this._mMethods[s]=p[s];}}}if(this._oParent&&this._oParent.isA("sap.ui.core.mvc.ControllerExtension")){this._bFinal=true;}};
return a;});
sap.ui.predefine('sap/fe/core/controllerextensions/EditFlow',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/fe/core/actions/messageHandling","sap/fe/core/actions/sticky","sap/fe/core/TransactionHelper","sap/base/Log","sap/m/Text","sap/m/Button","sap/m/Dialog","sap/fe/core/CommonUtils","sap/fe/core/BusyLocker","sap/base/util/merge","sap/fe/core/helpers/SideEffectsUtil","sap/fe/core/library","sap/ui/model/odata/v4/ODataListBinding","sap/fe/core/helpers/SemanticKeyHelper","sap/fe/core/helpers/EditState"],function(C,O,m,s,T,L,a,B,D,b,c,d,S,F,f,g,E){"use strict";var h=F.CreationMode,P=F.ProgrammingModel,j=F.Constants,k=F.DraftStatus,l=F.EditMode;
var n=C.extend("sap.fe.core.controllerextensions.EditFlow",{
metadata:{methods:{editDocument:{"public":true,"final":true},updateDocument:{"public":true,"final":true},createDocument:{"public":true,"final":true},saveDocument:{"public":true,"final":true},cancelDocument:{"public":true,"final":true},deleteDocument:{"public":true,"final":true},applyDocument:{"public":true,"final":true},invokeAction:{"public":true,"final":true},securedExecution:{"public":true,"final":true},setCreateMode:{"public":false,"final":false,overrideExecution:O.After},setEditMode:{"public":false,"final":true},setDraftStatus:{"public":false,"final":true},getGlobalUIModel:{"public":false,"final":true},getInternalModel:{"public":false,"final":true},getProgrammingModel:{"public":false,"final":true},getTransactionHelper:{"public":false,"final":true},getRoutingListener:{"public":false,"final":true}}},
setEditMode:function(e,i){var G=this.getGlobalUIModel();if(e){G.setProperty("/editMode",e);G.setProperty("/isEditable",e==="Editable");}if(i!==undefined){this.setCreationMode(i);}},
setCreationMode:function(e){},
setDraftStatus:function(e){this.base.getView().getModel("ui").setProperty("/draftStatus",e);},
getRoutingListener:function(){if(this.base._routing){return this.base._routing;}else{throw new Error("Edit Flow works only with a given routing listener");}},
getGlobalUIModel:function(){return this.base.getView().getModel("ui");},
getInternalModel:function(){return this.base.getView().getModel("internal");},
syncTask:function(t){var N;if(t instanceof Promise){N=function(){return t;};}else if(typeof t==="function"){N=t;}this._pTasks=this._pTasks||Promise.resolve();if(!!N){this._pTasks=this._pTasks.then(N).catch(function(){return Promise.resolve();});}return this._pTasks;},
securedExecution:function(e,p){var i=p&&p.busy&&p.busy.set!==undefined?p.busy.set:true,o=p&&p.busy&&p.busy.check!==undefined?p.busy.check:true,u=(p&&p.updatesDocument)||false,q=this.getGlobalUIModel(),r=this.base.getView().getBindingContext(),I=r&&this.getProgrammingModel(r)===P.Draft,t=this;if(o&&c.isLocked(q)){return Promise.reject("Application already busy therefore execution rejected");}if(i){c.lock(q);}if(u&&I){this.setDraftStatus(k.Saving);}return this.syncTask(e).then(function(){if(u){t.getTransactionHelper().handleDocumentModifications();E.setEditStateDirty();if(I){t.setDraftStatus(k.Saved);}}}).catch(function(v){if(u&&I){t.setDraftStatus(k.Clear);}return Promise.reject(v);}).finally(function(){if(i){c.unlock(q);}return m.showUnboundMessages();});},
getProgrammingModel:function(o){return this.getTransactionHelper().getProgrammingModel(o);},
createDocument:function(v,p){var t=this,e=this.getTransactionHelper(),o=this.getGlobalUIModel(),i,q,r=t.getView().getController().oResourceBundle,u=!p||(p.creationMode!==h.Inline&&p.creationMode!==h.CreationRow&&p.creationMode!==h.External);if(p.creationMode===h.External){return this.syncTask().then(function(){var x=t.getView().getController();x.handlers.onChevronPressNavigateOutBound(x,p.outbound,undefined);});}if(p.creationMode===h.CreationRow&&p.creationRow){i=p.creationRow.getParent();if(i.getCreationRow().data("disableAddRowButtonForEmptyData")==="true"){var I=i.getBindingContext("internal");I.setProperty("creationRowFieldValidity",{});}}if(p.creationMode===h.Inline&&p.tableId){i=this.getView().byId(p.tableId);}function w(x,y){y.then(function(N){var z=t.getView().getBindingContext();if(!b.hasTransientContext(x)){S.requestSideEffects(x.getPath(),z);}}).catch(function(z){L.error("Error while creating the document",z);});}u&&c.lock(o);return this.syncTask().then(function(){var x,y,M;p=p||{};if(v&&typeof v==="object"){y=v;}else if(typeof v==="string"){y=new f(t.getView().getModel(),v);p.creationMode=h.Sync;delete p.createAtEnd;}else{throw new Error("Binding object or path expected");}M=y.getModel();q=y.iMaxLength||0;var z=p.creationMode;return Promise.resolve(t.getProgrammingModel(y)).then(function(A){x=A;if(z&&z!==h.NewPage){return z;}else{var G=M.getMetaModel();if(!y.isRelative()){var H=y.getPath(),N=x===P.Draft?G.getObject(H+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction"):G.getObject(H+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction");if(N){var J=G.getObject("/"+N+"/@$ui5.overload/0/$Parameter")||[];if(J.length>1){return h.Deferred;}}}var K=G.getMetaPath(y.getHeaderContext().getPath());var Q=b.getNonComputedVisibleFields(G,K);if(Q.length>0){return h.Deferred;}return h.Async;}}).then(function(z){var A,G,H=p.creationRow,J,V=Promise.resolve(),K,N,Q=M.getMetaModel(),R=t.getRoutingListener();if(z!==h.Deferred){if(z===h.CreationRow){J=H.getBindingContext();N=Q.getMetaPath(J.getPath());K=J.getObject();p.data={};Object.keys(K).forEach(function(W){var X=Q.getObject(N+"/"+W);if(X&&X.$kind==="NavigationProperty"){return;}p.data[W]=K[W];});V=t._checkForValidationErrors(J);}if(z===h.CreationRow||z===h.Inline){p.keepTransientContextOnFailed=true;p.busyMode="Local";if(z===h.Inline){p.keepTransientContextOnFailed=false;}t._handleCreateEvents(y);}A=V.then(function(){if(!p.parentControl){p.parentControl=t.getView();}return e.createDocument(y,p,r);});}var U;switch(z){case h.Deferred:U=R.navigateForwardToContext(y,{bDeferredContext:true,editable:true});break;case h.Async:U=R.navigateForwardToContext(y,{asyncContext:A,editable:true});break;case h.Sync:G={editable:true};if(x==P.Sticky){G.transient=true;}U=A.then(function(W){if(!W){var r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");return R.navigateToMessagePage(r.getText("C_COMMON_SAPFE_DATA_RECEIVED_ERROR"),{title:r.getText("C_COMMON_SAPFE_ERROR"),description:r.getText("C_EDITFLOW_SAPFE_CREATION_FAILED_DESCRIPTION")});}else{return R.navigateForwardToContext(W,G);}});break;case h.Inline:U=w(y,A);t.syncTask(A);break;case h.CreationRow:U=V.then(function(){var W=J.getBinding(),X;if(!p.bSkipSideEffects){w(y,A);}X=W.create();H.setBindingContext(X);X.created().catch(function(){L.trace("transient fast creation context deleted");});return J.delete("$direct");}).catch(function(W){L.error("CreationRow navigation error: ",W);});break;default:U=Promise.reject("Unhandled creationMode "+z);break;}if(x===P.Sticky){t.getInternalModel().setProperty("/sessionOn",true);}if(A){return Promise.all([A,U]).then(function(W){t.setEditMode(l.Editable,true);var X=W[0];if(X){E.setEditStateDirty();if(x===P.Sticky){t._handleStickyOn(X);}}}).catch(function(W){if(W&&W.navigateBackFromTransientState){R.navigateBackFromTransientState();}return Promise.reject(W);});}});}).finally(function(){if(i&&i.isA("sap.ui.mdc.Table")){switch(p.createAtEnd){case true:if(i.data("tableType")==="ResponsiveTable"&&i.getThreshold()){i.scrollToIndex(i.getThreshold());}else{i.scrollToIndex(q+1);}break;case false:i.scrollToIndex(0);break;}}u&&c.unlock(o);});},
createMultipleDocuments:function(o,e,i){var t=this,p=this.getTransactionHelper(),q=this.getGlobalUIModel(),r=t.getView().getController().oResourceBundle;c.lock(q);return this.syncTask().then(function(){var M=o.getModel(),u=M.getMetaModel(),v;if(o.getContext()){v=u.getMetaPath(o.getContext().getPath()+"/"+o.getPath());}else{v=u.getMetaPath(o.getPath());}t._handleCreateEvents(o);var w=e.map(function(x){var y={data:{}};y.keepTransientContextOnFailed=true;y.busyMode="None";y.creationMode="CreationRow";y.parentControl=t.getView();y.createAtEnd=i;for(var z in x){var A=u.getObject(v+"/"+z);if(A&&A.$kind!=="NavigationProperty"){y.data[z]=x[z];}}return p.createDocument(o,y,r);});return Promise.all(w);}).then(function(){var u=t.getView().getBindingContext();if(!b.hasTransientContext(o)){S.requestSideEffects(o.getPath(),u);}}).catch(function(u){L.error("Error while creating multiple documents.");return Promise.reject(u);}).finally(function(){c.unlock(q);});},
editDocument:function(o,p){var t=this,e=this.getTransactionHelper();return e.editDocument(o,p,t.getView()).then(function(N){var i=t.getProgrammingModel(o);if(i===P.Sticky){t.getInternalModel().setProperty("/sessionOn",true);}t.setEditMode(l.Editable,false);if(N!==o){return t._handleNewContext(N,true).then(function(){if(i===P.Sticky){t._handleStickyOn(N);}});}});},
updateDocument:function(p,o){var t=this,e=t.getTransactionHelper(),i=t.getProgrammingModel(o)===P.Draft;return this.syncTask(function(){e.handleDocumentModifications();E.setEditStateDirty();m.removeBoundTransitionMessages();if(i){t.setDraftStatus(k.Saving);}return p.then(function(){if(i){t.setDraftStatus(k.Saved);}},function(){if(i){t.setDraftStatus(k.Clear);}}).finally(function(){m.showUnboundMessages(undefined,o);});});},
saveDocument:function(o,e,i){var t=this,p=this.getTransactionHelper(),r=t.getView().getController().oResourceBundle;return(this.syncTask().then(this._submitOpenChanges.bind(this,o)).then(this._checkForValidationErrors.bind(this,o)).then(p.saveDocument.bind(p,o,r,e,i)).then(function(A){var q=t.getProgrammingModel(o);t._removeContextsFromPages();if(q===P.Sticky){t.getInternalModel().setProperty("/sessionOn",false);t._handleStickyOff(o);}t.setEditMode(l.Display,false);if(A!==o){t._handleNewContext(A,false);}}));},
cancelDocument:function(o,p){var t=this,e=this.getTransactionHelper(),r=t.getView().getController().oResourceBundle;return this.syncTask().then(e.cancelDocument.bind(e,o,p,r)).then(function(A){var i=t.getProgrammingModel(o);t._removeContextsFromPages();if(i===P.Sticky){t.getInternalModel().setProperty("/sessionOn",false);t._handleStickyOff(o);}t.setEditMode(l.Display,false);t.setDraftStatus(k.Clear);if(!A){E.setEditStateDirty();t.getRoutingListener().navigateBackFromContext(o);}else if(i===P.Draft){return t._fetchSemanticKeyValues(A).then(function(){return t._handleNewContext(A,false,true);});}else{return t._handleNewContext(A,false);}});},
deleteDocument:function(o,p){var t=this;if(!p){p={bFindActiveContexts:false};}else{p.bFindActiveContexts=false;}return this._deleteDocumentTransaction(o,p).then(function(){E.setEditStateDirty();t.getRoutingListener().navigateBackFromContext(o);});},
deleteMultipleDocuments:function(e,p){var t=this,r=this.getRoutingListener(),o=this.getGlobalUIModel();var i=t.getView().byId(p.controlId);if(!i||!i.isA("sap.ui.mdc.Table")){throw new Error("parameter controlId missing or incorrect");}var q=i.getRowBinding();p.bFindActiveContexts=true;c.lock(o);return this._deleteDocumentTransaction(e,p).then(function(){var R;i.clearSelection();var u=t.getView().getBindingContext();if(q.isRoot()){R=new Promise(function(w){q.attachEventOnce("dataReceived",function(){w();});});q.refresh();}else if(u){if(!b.hasTransientContext(q)){S.requestSideEffects(q.getPath(),u);}}E.setEditStateDirty();for(var v=0;v<e.length;v++){if(r.isCurrentStateImpactedBy(e[v])){r.navigateBackFromContext(e[v]);break;}}return R;}).finally(function(){c.unlock(o);});},
_deleteDocumentTransaction:function(o,p){var t=this,r=this.getView().getController().oResourceBundle,e=this.getTransactionHelper();p=p||{};p.internalModelContext=p.id?this.getView().byId(p.id).getBindingContext("internal"):null;return this.syncTask().then(e.deleteDocument.bind(e,o,p,r)).then(function(){t.getInternalModel().setProperty("/sessionOn",false);});},
applyDocument:function(o){var t=this,e=this.getGlobalUIModel();c.lock(e);return(this._submitOpenChanges(o).then(this._checkForValidationErrors.bind(this,o)).then(function(){m.showUnboundMessages();t.getRoutingListener().navigateBackFromContext(o);return true;}).finally(function(){c.unlock(e);}));},
_submitOpenChanges:function(o){var M=o.getModel();return M.submitBatch("$auto").then(function(){if(M.hasPendingChanges("$auto")){return Promise.reject("submit of open changes failed");}});},
_handleStickyOn:function(o){var t=this,A=b.getAppComponent(this.getView());if(!A.getRouterProxy().hasNavigationGuard()){var H=A.getRouterProxy().getHash(),i=this.getInternalModel();setTimeout(function(){A.getRouterProxy().setNavigationGuard();},0);A.getShellServices().setBackNavigation(t._onBackNavigationInSession.bind(t));this.fnDirtyStateProvider=function(N){var p=N.innerAppRoute,r=A.getRouterProxy(),q,u=i.getProperty("/sessionOn");if(i.getProperty("/IBN_OpenInNewTable")){i.setProperty("/IBN_OpenInNewTable",false);return;}if(!u){return;}if(!r.isNavigationFinalized()){q=false;H=p;}else if(H===p){q=true;}else if(r.checkHashWithGuard(p)||r.isGuardCrossAllowedByUser()){H=p;q=false;}else{q=true;}if(q){setTimeout(function(){A.getShellServices().setDirtyFlag(false);},0);}return q;};A.getShellServices().registerDirtyStateProvider(this.fnDirtyStateProvider);var e=this.getView().getModel("sap.fe.i18n");this.fnHandleSessionTimeout=function(){m.removeBoundTransitionMessages();m.removeUnboundTransitionMessages();var p=new D({title:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new a({text:"{sap.fe.i18n>C_EDITFLOW_OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new B({text:"{sap.fe.i18n>C_COMMON_DIALOG_OK}",type:"Emphasized",press:function(){t._handleStickyOff();t.getRoutingListener().navigateBackFromContext(o);}}),afterClose:function(){p.destroy();}});p.addStyleClass("sapUiContentPadding");p.setModel(e,"sap.fe.i18n");t.getView().addDependent(p);p.open();};this.getView().getModel().attachSessionTimeout(this.fnHandleSessionTimeout);this._fnStickyDiscardAfterNavigation=function(){var p=A.getRouterProxy().getHash();if(!p||!A.getRouterProxy().checkHashWithGuard(p)){t._discardStickySession(o);}};A.getRoutingService().attachRouteMatched(this._fnStickyDiscardAfterNavigation);}},
_handleStickyOff:function(){var A=b.getAppComponent(this.getView());if(A.getRouterProxy){A.getRouterProxy().discardNavigationGuard();}if(this.fnDirtyStateProvider){A.getShellServices().deregisterDirtyStateProvider(this.fnDirtyStateProvider);this.fnDirtyStateProvider=null;}if(this.getView().getModel()&&this.fnHandleSessionTimeout){this.getView().getModel().detachSessionTimeout(this.fnHandleSessionTimeout);}A.getRoutingService().detachRouteMatched(this._fnStickyDiscardAfterNavigation);this._fnStickyDiscardAfterNavigation=null;this.setEditMode(l.Display,false);if(A){A.getShellServices().setBackNavigation();}},
_handleNewContext:function(o,e,r){E.setEditStateDirty();return this.getRoutingListener().navigateToContext(o,{checkNoHashChange:true,editable:e,bPersistOPScroll:true,bRecreateContext:r});},
createActionPromise:function(A,e){var t=this,r,R;this.oActionPromise=new Promise(function(i,o){r=i;R=o;}).then(function(o){return Object.assign({controlId:e},t._getActionResponseDataAndKeys(A,o));});return{fResolver:r,fRejector:R};},
getCurrentActionPromise:function(){return this.oActionPromise;},
deleteCurrentActionPromise:function(){this.oActionPromise=null;},
invokeAction:function(A,p){var t=this,o,e=this.getTransactionHelper(),i,q,r,u,v;var V=this.getView();var H=false;if(!p.parentControl){p.parentControl=this.getView();}if(p.prefix){o=this.getView().byId(p.prefix);if(o){p.internalModelContext=o.getBindingContext("internal");}}if(A&&A.indexOf("(")>-1){r=A.split("(");A=r[0];u=r[1].slice(0,-1);H=true;if(u.indexOf("Collection(")>-1){return Promise.reject(A+" bound to a collection "+u+" is not supported");}}if(p.bStaticAction){if(H){i=o;while(i){q=i.getBindingContext();if(q&&q.getModel().getMetaModel().getMetaContext(q.getPath()).getObject("$Type")===u){p.contexts=q;break;}else{i=i.getParent();}}if(!p.contexts){return Promise.reject("Context not found for entity type "+u);}}else{if(o.isTableBound()){p.contexts=o.getRowBinding().getHeaderContext();}else{var w=o.getRowsBindingInfo().path,x=new f(t.getView().getModel(),w);p.contexts=x.getHeaderContext();}}if(p.enableAutoScroll){v=this.createActionPromise(A,o.sId);}}if(p.isNavigable){p.bGetBoundContext=false;}else{p.bGetBoundContext=true;}return this.syncTask().then(e.callAction.bind(e,A,p)).then(function(R){return t._refreshListIfRequired(t._getActionResponseDataAndKeys(A,R),p.contexts[0]).then(function(){return R;});}).then(function(R){if(v){v.fResolver(R);}if(p.contexts){E.setEditStateDirty();}if(p.isNavigable){var y=R;if(Array.isArray(y)&&y.length===1){y=y[0];}if(y&&!Array.isArray(y)){var M=V.getModel().getMetaModel();var z=M.getMetaPath(y.getPath());var G=Array.isArray(p.contexts)?p.contexts[0]:p.contexts;var I=G&&M.getMetaPath(G.getPath());if(z!=undefined&&z===I){if(G.getPath()!==y.getPath()){t.getRoutingListener().navigateForwardToContext(y,{noHistoryEntry:false});}else{L.info("Navigation to the same context is not allowed");}}}}}).catch(function(y){if(v){v.fRejector();}if(y==j.CancelActionDialog){return Promise.reject("Dialogcancelled.");}else{return Promise.reject("Error in EditFlow.invokeAction:"+y);}});},
_handleCreateEvents:function(o){var t=this,p;if(t.editFlow){t=t.editFlow;}var e=t.getTransactionHelper();t.setDraftStatus(k.Clear);o=(o.getBinding&&o.getBinding())||o;p=t.getProgrammingModel(o);o.attachEvent("createSent",function(){e.handleDocumentModifications();if(p===P.Draft){t.setDraftStatus(k.Saving);}});o.attachEvent("createCompleted",function(i){var q=i.getParameter("success");if(p===P.Draft){t.setDraftStatus(q?k.Saved:k.Clear);}m.showUnboundMessages();});},
computeEditMode:function(o){var t=this;return Promise.resolve((function(){var p=t.getProgrammingModel(o);if(p===P.Draft){t.setDraftStatus(k.Clear);return o.requestObject("IsActiveEntity").then(function(i){if(i===false){t.setEditMode(l.Editable);return o.requestObject("HasActiveEntity").then(function(H){t.setEditMode(undefined,!H);});}else{t.setEditMode(l.Display,false);}}).catch(function(e){L.error("Error while determining the editMode for draft",e);throw e;});}})());},
_checkForValidationErrors:function(o){return this.syncTask().then(function(){var p=o.getPath(),M=sap.ui.getCore().getMessageManager().getMessageModel().getData(),e,q;for(var i=0;i<M.length;i++){q=M[i];if(q.validation){e=sap.ui.getCore().byId(q.getControlId());if(e&&e.getBindingContext()&&e.getBindingContext().getPath().indexOf(p)===0){return Promise.reject("validation errors exist");}}}});},
getTransactionHelper:function(){if(!this._oTransactionHelper){var A=b.getAppComponent(this.getView());this._oTransactionHelper=new T(A,this.getGlobalUIModel());}return this._oTransactionHelper;},
_onBackNavigationInSession:function(){var t=this,v=t.getView(),A=b.getAppComponent(v),r=A.getRouterProxy();if(r.checkIfBackIsOutOfGuard()){var o=v&&v.getBindingContext();b.processDataLossConfirmation(function(){t._discardStickySession(o);history.back();},v,t.getProgrammingModel(o));return;}history.back();},
_discardStickySession:function(o){s.discardDocument(o);this._handleStickyOff();},
_getActionResponseDataAndKeys:function(A,r){if(Array.isArray(r)){if(r.length===1){r=r[0];}else{return null;}}if(!r){return null;}var v=this.getView(),M=v.getModel().getMetaModel().getData(),e=M&&M[A]&&M[A][0]&&M[A][0].$ReturnType?M[A][0].$ReturnType.$Type:null,K=e&&M[e]?M[e].$Key:null;return{oData:r.getObject(),keys:K};},
_refreshListIfRequired:function(r,o){if(!o||!r||!r.oData){return Promise.resolve();}var i=o.getBinding();if(i&&i.isA("sap.ui.model.odata.v4.ODataListBinding")){var p=r.oData,K=r.keys,q=o.getObject(),R=true;if(Object.keys(p).length){R=K.every(function(e){return q[e]===p[e];});if(!R){return new Promise(function(t,u){if(i.isRoot()){i.attachEventOnce("dataReceived",function(){t();});i.refresh();}else{i.getContext().requestSideEffects([{$NavigationPropertyPath:i.getPath()}]).then(function(){t();},function(){L.error("Error while refreshing the table");t();}).catch(function(e){L.error("Error while refreshing the table",e);});}});}}}return Promise.resolve();},
_fetchSemanticKeyValues:function(o){var M=o.getModel().getMetaModel(),e=M.getMetaContext(o.getPath()).getObject("@sapui.name"),i=g.getSemanticKeys(M,e);if(i&&i.length){var r=i.map(function(K){return o.requestObject(K.$PropertyPath);});return Promise.all(r);}else{return Promise.resolve();}},
_removeContextsFromPages:function(){var p=[];var A=b.getAppComponent(this.getView());if(A._isFclEnabled()){p=p.concat(A.getRootContainer().getMidColumnPages()||[]);p=p.concat(A.getRootContainer().getEndColumnPages()||[]);}else{p=A.getRootContainer().getPages()||[];}p.forEach(function(o){if(o.isA("sap.ui.core.ComponentContainer")){o=o.getComponentInstance();}if(o.getBindingContext()){o.setBindingContext(null);}});}
});
return n;});
sap.ui.predefine('sap/fe/core/controllerextensions/Placeholder',["sap/ui/core/mvc/ControllerExtension","sap/fe/core/BusyLocker","sap/base/util/UriParameters","sap/base/Log"],function(C,B,U,L){"use strict";
var E=C.extend("sap.fe.core.controllerextensions.Placeholder",{
enumViewType:{OBJECTPAGE:"ObjectPage",LISTREPORT:"ListReport"},
enumStartingParams:{FE_VIEW_CREATED:"FE-VIEW-CREATED",FE_DATA_LOADED:"FE-DATA-LOADED",FE_HEROES_LOADED:"FE-HEROES-LOADED",FE_WORKERS_LOADED:"FE-WORKERS-LOADED",FE_HEROES_WORKERS_LOADED:"FE-HEROES-WORKERS-LOADED",DISABLED:"DISABLED"},
attachRouteMatchers:function(){this._init();var t=this;if(this._isPlaceholderEnabledInManifest()||!this.getStartupOptions("disabled")){this.oRouter.attachBeforeRouteMatched(function(e){var d=t.navigateToPlaceholder(t.oAppComponent,t.oRouter,t.oRootContainer,t.oPlaceholders);if(d){var r=t.oAppComponent.getRootControl();B.lock(r);t.oRouter.attachEventOnce("routeMatched",function(){var r=t.oAppComponent.getRootControl();if(B.isLocked(r)){B.unlock(r);}});}});}},
buildOptionParameters:function(s){var S={};if(s&&s.indexOf("-FIRSTONLY")!==-1){S.enabledFirstTimeOnly=true;s=s.replace("-FIRSTONLY","");}else{S.enabledFirstTimeOnly=false;}if(!s){S.disabled=null;S.enabledFirstTimeOnly=null;S.transition=null;}else if(s==="DISABLED"){S.disabled=true;S.transition=null;}else{S.disabled=false;S.transition=s;}return S;},
_init:function(){var t=this;this.oAppComponent=this.base.getAppComponent();this.oRouting=this.oAppComponent._oRouting;this.oRootContainer=this.oAppComponent.getRootContainer();this.oRouter=this.oAppComponent.getRouter();this.oPlaceholders={};this.oStartupOptions=this.buildOptionParameters(U.fromQuery(window.location.search).get("sap-ui-xx-placeholder"));this.setPlaceholderMapping({"sap.fe.templates.ListReport":{placeHolderName:"sap.fe.placeholder.view.PlaceholderLR",viewType:this.enumViewType.LISTREPORT},"sap.fe.templates.AnalyticalListPage":{placeHolderName:"sap.fe.placeholder.view.PlaceholderLR",viewType:this.enumViewType.LISTREPORT},"sap.fe.templates.ObjectPage":{placeHolderName:"sap.fe.placeholder.view.PlaceholderOP",viewType:this.enumViewType.OBJECTPAGE}});sap.m.NavContainer.addCustomTransition("placeholder",function(f,T,c){if(f.getController&&f.getController().isPlaceholder&&f.getController().isPlaceholder()){var s=t.getStartupOptions("transition")||f.getController().getOptions("transition");if(s!==t.enumStartingParams.FE_VIEW_CREATED){f.getController().fireEvent("targetPageInsertedInContainer",{targetpage:T});var F=f.getController();var o=f.$().css("z-index");f.$().css("z-index",100);T.removeStyleClass("sapMNavItemHidden");c();var _=function(e){f.$().css("z-index",o);f.addStyleClass("sapMNavItemHidden");F.currentTargetNavigated();p.forEach(function(e){P.detachEvent(e.eventId,e.fn);});p=[];};var p=[];var P=T.getComponentInstance().getRootControl().getController().pageReady;P.attachEvent("pageReady",_);p.push({"eventId":"pageReady","fn":_});var a,b;var i=function(){return new Promise(function(r,d){P.attachEvent("heroesBatchReceived",r);P.attachEvent("pageReady",d);p.push({"eventId":"heroesBatchReceived","fn":r});p.push({"eventId":"pageReady","fn":d});});};var I=function(){return new Promise(function(r,d){P.attachEvent("workersBatchReceived",r);P.attachEvent("pageReady",d);p.push({"eventId":"workersBatchReceived","fn":r});p.push({"eventId":"pageReady","fn":d});});};switch(s){case t.enumStartingParams.FE_HEROES_LOADED:a=i();a.then(_).catch(function(){L.info("PlaceHolder : Heroes request not received");});break;case t.enumStartingParams.FE_WORKERS_LOADED:b=I();b.then(_).catch(function(){L.info("PlaceHolder : Workers request not received");});break;case t.enumStartingParams.FE_HEROES_WORKERS_LOADED:a=i();b=I();Promise.all([a,b]).then(_).catch(function(){L.info("PlaceHolder : Heroes or Workers request not received");});break;default:}}else{var F=f.getController();F.currentTargetNavigated();sap.m.NavContainer.transitions["show"].to(f,T,c);}}else{sap.m.NavContainer.transitions["show"].to(f,T,c);}},sap.m.NavContainer.transitions["show"].back);},
_isPlaceholderEnabledInManifest:function(){var m=this.oAppComponent.getMetadata().getManifestEntry("/sap.ui5/routing");var t=m["targets"];return Object.keys(t).some(function(T){var o=m["targets"][T];return(o.options&&o.options.settings&&o.options.settings._placeholderScreen&&o.options.settings._placeholderScreen!=="DISABLED");});},
getStartupOptions:function(k){return this.oStartupOptions[k];},
setPlaceholderMapping:function(m){this.oPlaceholderMapping=m;},
getPlaceholderMapping:function(m){return this.oPlaceholderMapping;},
createPlaceholderView:function(v){var p=new sap.ui.core.mvc.XMLView({viewName:this.oPlaceholderMapping[v].placeHolderName});return p;},
navigateToPlaceholder:function(a,r,R,p){var o=a.getRoutingService();var b=o.getRouteFromHash(r,a);var t=o.getTargetsFromRoute(b,a);var c=this;var d=true;t.forEach(function(T,i){var P=true;switch(c.getStartupOptions("disabled")){case false:P=false;break;case true:P=true;break;default:var s=c.buildOptionParameters(T.options&&T.options.settings&&T.options.settings._placeholderScreen);P=s.disabled;}if(P===false){var e;var f=c.getPlaceholderMapping();if(f[T.name]){switch(f[T.name].viewType){case c.enumViewType.OBJECTPAGE:p.oOP=p.oOP?p.oOP:{};e=p.oOP;break;case c.enumViewType.LISTREPORT:p.oLR=p.oLR?p.oLR:{};e=p.oLR;break;default:break;}d=c.base.displayPlaceholders(T,t,e,R,r)?false:true;}}});return d;}
});
return E;});
sap.ui.predefine('sap/fe/core/helpers/EditState',["sap/base/Log"],function(L){"use strict";var e={CLEAN:0,PROCESSED:1,DIRTY:2};var c=e.CLEAN;return{setEditStateDirty:function(){c=e.DIRTY;},setEditStateProcessed:function(){c=e.PROCESSED;},resetEditState:function(){c=e.CLEAN;},isEditStateDirty:function(){return c!==e.CLEAN;},cleanProcessedEditState:function(){if(c===e.PROCESSED){c=e.CLEAN;}}};});
sap.ui.predefine('sap/fe/core/helpers/ExcelFormatHelper',["sap/ui/core/format/DateFormat"],function(D){"use strict";var E={getExcelDatefromJSDate:function(){var j=D.getDateInstance().oFormatOptions.pattern.toLowerCase();if(j){var r=/^[^y]*y[^y]*$/m;if(r.exec(j)){j=j.replace("y","yyyy");}}return j;},getExcelDateTimefromJSDateTime:function(){var j=D.getDateTimeInstance().oFormatOptions.pattern.toLowerCase();if(j){var r=/^[^y]*y[^y]*$/m;if(r.exec(j)){j=j.replace("y","yyyy");}if(j.includes("a")){j=j.replace("a","AM/PM");}}return j;},getExcelTimefromJSTime:function(){var j=D.getTimeInstance().oFormatOptions.pattern;if(j&&j.includes("a")){j=j.replace("a","AM/PM");}return j;}};return E;});
sap.ui.predefine('sap/fe/core/helpers/PasteHelper',["sap/ui/core/util/PasteHelper","sap/m/MessageBox"],function(C,M){"use strict";var p={_getColumnInfoForPaste:function(t){var c=[],m=t.getRowBinding().getModel(),o=m.getMetaModel(),r=m.resolve(t.getRowBinding().getPath(),t.getRowBinding().getContext()),a=o.getMetaContext(r);t.getColumns().forEach(function(b){var d=b.getDataProperty();if(!d){c.push({property:"unused",type:null,ignore:true});}else{var P=a.getProperty(d),f={parseKeepsEmptyString:true},T=P&&o.getUI5Type(r+"/"+d,f),i=!P||a.getProperty(d+"@Org.OData.Core.V1.Computed");c.push({property:d,type:T,ignore:i});var A=a.getProperty(d+"@Org.OData.Measures.V1.Unit/$Path")||a.getProperty(d+"@Org.OData.Measures.V1.ISOCurrency/$Path");if(A){var e=a.getProperty(A),g=e&&o.getUI5Type(r+"/"+A);c.push({property:A,type:g,ignore:i,additionalProperty:true});}}});return c;},parseDataForTablePaste:function(r,t){var P=this._getColumnInfoForPaste(t);var i=r.length?r[0].length:0;var f=-1;for(var I=0;I<P.length&&f<0;I++){if(!P[I].ignore){f=I;}}if(f<0||f>i-1){return Promise.resolve([]);}else{return C.parse(r,P).then(function(o){if(o.errors){var e=o.errors.map(function(a){return a.message;});var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),s,E=R.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_MESSAGE"),n=R.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_CORRECTION_NOTE");if(e.length>1){s=R.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_PLURAL",[e.length]);}else{s=R.getText("C_PASTE_HELPER_SAPFE_PASTE_ERROR_MESSAGE_SINGULAR");}e.unshift("");e.unshift(n);e.unshift(E);M.error(s,{icon:M.Icon.ERROR,title:R.getText("C_COMMON_SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR"),details:e.join("<br>")});return[];}else{return o.parsedData?o.parsedData:[];}});}}};return p;});
sap.ui.predefine('sap/fe/core/helpers/SemanticDateOperators',["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/FilterOperator","sap/ui/model/ValidateException"],function(F,O,M,V){"use strict";var s=["DATE","FROM","TO","DATERANGE"];var S={"DATE":{"key":"DATE","category":"DYNAMIC.DATE"},"FROM":{"key":"FROM","category":"DYNAMIC.DATE"},"TO":{"key":"TO","category":"DYNAMIC.DATE"},"DATERANGE":{"key":"DATERANGE","category":"DYNAMIC.DATERANGE"},"SPECIFICMONTH":{"key":"SPECIFICMONTH","category":"DYNAMIC.MONTH"},"TODAY":{"key":"TODAY","category":"FIXED.DATE"},"TODAYFROMTO":{"key":"TODAYFROMTO","category":"DYNAMIC.DATE.INT"},"YESTERDAY":{"key":"YESTERDAY","category":"FIXED.DATE"},"TOMORROW":{"key":"TOMORROW","category":"FIXED.DATE"},"LASTDAYS":{"key":"LASTDAYS","category":"DYNAMIC.DATE.INT"},"NEXTDAYS":{"key":"NEXTDAYS","category":"DYNAMIC.DATE.INT"},"THISWEEK":{"key":"THISWEEK","category":"FIXED.WEEK"},"LASTWEEK":{"key":"LASTWEEK","category":"FIXED.WEEK"},"LASTWEEKS":{"key":"LASTWEEKS","category":"DYNAMIC.WEEK.INT"},"NEXTWEEK":{"key":"NEXTWEEK","category":"FIXED.WEEK"},"NEXTWEEKS":{"key":"NEXTWEEKS","category":"DYNAMIC.WEEK.INT"},"THISMONTH":{"key":"THISMONTH","category":"FIXED.MONTH"},"LASTMONTH":{"key":"LASTMONTH","category":"FIXED.MONTH"},"LASTMONTHS":{"key":"LASTMONTHS","category":"DYNAMIC.MONTH.INT"},"NEXTMONTH":{"key":"NEXTMONTH","category":"FIXED.MONTH"},"NEXTMONTHS":{"key":"NEXTMONTHS","category":"DYNAMIC.MONTH.INT"},"THISQUARTER":{"key":"THISQUARTER","category":"FIXED.QUARTER"},"LASTQUARTER":{"key":"LASTQUARTER","category":"FIXED.QUARTER"},"LASTQUARTERS":{"key":"LASTQUARTERS","category":"DYNAMIC.QUARTER.INT"},"NEXTQUARTER":{"key":"NEXTQUARTER","category":"FIXED.QUARTER"},"NEXTQUARTERS":{"key":"NEXTQUARTERS","category":"DYNAMIC.QUARTER.INT"},"QUARTER1":{"key":"QUARTER1","category":"FIXED.QUARTER"},"QUARTER2":{"key":"QUARTER2","category":"FIXED.QUARTER"},"QUARTER3":{"key":"QUARTER3","category":"FIXED.QUARTER"},"QUARTER4":{"key":"QUARTER4","category":"FIXED.QUARTER"},"THISYEAR":{"key":"THISYEAR","category":"FIXED.YEAR"},"LASTYEAR":{"key":"LASTYEAR","category":"FIXED.YEAR"},"LASTYEARS":{"key":"LASTYEARS","category":"DYNAMIC.YEAR.INT"},"NEXTYEAR":{"key":"NEXTYEAR","category":"FIXED.YEAR"},"NEXTYEARS":{"key":"NEXTYEARS","category":"DYNAMIC.YEAR.INT"},"YEARTODATE":{"key":"YEARTODATE","category":"FIXED.YEAR"}};
function _(r){var D=r&&r.getText("C_DATE_RANGE");return new O({name:"DATERANGE",filterOperator:M.BT,tokenParse:"^#tokenText# \\(([^!].*) \\- (.+)\\)$",tokenFormat:"#tokenText# ({0} - {1})",valueTypes:[O.ValueType.Self,O.ValueType.Self],longText:D,tokenText:D,additionalInfo:"",validate:function(v,t){if(v.length<2){throw new V("Date Range must have two values");}else{var f=new Date(v[0]);var g=new Date(v[1]);if(f.getTime()>g.getTime()){throw new V("From Date Should Be Less Than To Date");}}O.prototype.validate.apply(this,[v,t]);}});}
function a(r){var D=r&&r.getText("C_DATE");return new O({name:"DATE",filterOperator:M.EQ,tokenParse:"^#tokenText# \\((.+)\\)$",tokenFormat:"#tokenText# ({0})",valueTypes:[O.ValueType.Self],longText:D,tokenText:D,additionalInfo:""});}
function b(r){var f=r&&r.getText("C_FROM");return new O({name:"FROM",filterOperator:M.GE,tokenParse:"^#tokenText# \\((.+)\\)$",tokenFormat:"#tokenText# ({0})",valueTypes:[O.ValueType.Self],longText:f,tokenText:f,additionalInfo:""});}
function c(r){var t=r&&r.getText("C_TO");return new O({name:"TO",filterOperator:M.LE,tokenParse:"^#tokenText# \\((.+)\\)$",tokenFormat:"#tokenText# ({0})",valueTypes:[O.ValueType.Self],longText:t,tokenText:t,additionalInfo:""});}
function d(o,f){if(!f){return true;}var f=Array.isArray(f)?f:[f],r;f.some(function(g){if(!g.path){return false;}var v=o[g.path];var E=g.exclude||false;var h;if(g.contains&&v){h=g.contains.split(",");r=E;for(var j=0;j<h.length;j++){if(E&&v.indexOf(h[j])>-1){r=false;return true;}else if(!E&&v.indexOf(h[j])>-1){r=true;return true;}}}if(g.equals&&v){h=g.equals.split(",");r=E;for(var j=0;j<h.length;j++){if(E&&v===h[j]){r=false;return true;}else if(!E&&v===h[j]){r=true;return true;}}}return false;});return r;}
var e={addSemanticDateOperators:function(){var r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");F.addOperator(_(r));F.addOperator(a(r));F.addOperator(b(r));F.addOperator(c(r));},getSupportedOperations:function(){return s;},getSemanticDateOperations:function(){return Object.keys(S);},removeSemanticDateOperators:function(){},getFilterOperations:function(o){var f=[];for(var n in S){var g=S[n];if(d(g,o)){f.push(g);}}return f.map(function(g){return g.key;});},hasSemanticDateOperations:function(C){var f=this.getSemanticDateOperations();for(var n in C){var g=C[n];var o=g.find(function(h){return f.indexOf(h.operator)>-1;});if(o){return false;}}return true;}};return e;},true);
sap.ui.predefine('sap/fe/core/services/view/TemplatingErrorPage.controller',["sap/ui/core/mvc/Controller","sap/fe/core/controllerextensions/InternalRouting"],function(C,I){"use strict";return C.extend("sap.fe.core.services.view.TemplatingErrorPage",{_routing:I});});
sap.ui.require.preload({
	"sap/fe/core/controls/ActionParameterDialog.fragment.xml":'<core:FragmentDefinition xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mdc="sap.ui.mdc" xmlns:mdcField="sap.ui.mdc.field" xmlns:form="sap.ui.layout.form" xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1" template:require="{MODEL:\'sap/ui/model/odata/v4/AnnotationHelper\',COMMON:\'sap/fe/macros/CommonHelper\',FIELD:\'sap/fe/macros/field/FieldHelper\',ID:\'sap/fe/core/helpers/StableIdHelper\',FE_MODEL:\'sap/fe/core/helpers/ModelHelper\',ValueHelpTemplating:\'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',Property:\'sap/fe/core/templating/PropertyFormatters\'}"><template:with path="entitySet&gt;" helper="FE_MODEL.getTargetEntitySet" var="esName"><form:SimpleForm binding="{$Parameter}"><template:repeat list="{action&gt;$Parameter}" var="parameter"><template:with path="parameter&gt;" helper="COMMON.gotoActionParameter" var="actionParameter"><template:if test="{= !${action&gt;$IsBound} || ${parameter&gt;$Name} !== ${action&gt;$Parameter/0/$Name} }"><Label unittest:id="ActionParameterDialogLabelExpressionTest" text="{actionParameter&gt;@com.sap.vocabularies.Common.v1.Label}"/><mdc:Field delegate="{name:\'sap/ui/mdc/odata/v4/FieldBaseDelegate\'}" unittest:id="ActionParameterDialogFieldExpressionTest" id="{= ID.generate([\'APD_\', ${parameter&gt;$Name}]) }" value="{parameter&gt;@@MODEL.format}" display="{actionParameter&gt;@@FIELD.getAPDialogDisplayFormat}" editMode="{actionParameter&gt;@@COMMON.getParameterEditMode}" width="100%" multipleLines="{= ${actionParameter&gt;@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter&gt;@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}" required="{= FIELD.isRequired(${actionParameter&gt;@@FIELD.fieldControl}, \'Editable\')}" change="{= \'.handleChange($event, \\\'\' + ${parameter&gt;$Name} + \'\\\')\' }" fieldHelp="{= FIELD.getActionParameterDialogFieldHelp(${actionParameter&gt;@}, ${actionName&gt;@sapui.name}, ${parameter&gt;$Name}) }" visible="{actionParameter&gt;@@COMMON.isVisible}"><template:if test="{= FIELD.checkFieldHelp(${actionParameter&gt;@}) }"><mdc:dependents><mdcField:FieldValueHelp unittest:id="ActionParameterDialogValuehelpExpressionTest" id="{= ID.generate([${actionName&gt;@sapui.name},${parameter&gt;$Name}]) }" delegate="{= FIELD.getFieldValueHelpDelegate(${action&gt;$IsBound}, ${esName&gt;@sapui.name}, ${actionName&gt;@sapui.name}, ${parameter&gt;$Name}) }" noDialog="{= ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} !== false) : false}" validateInput="{= ValueHelpTemplating.requiresValidation(${actionParameter&gt;@@Property.getProperty})}"><mdcField:FieldValueHelpMTableWrapper/></mdcField:FieldValueHelp></mdc:dependents></template:if></mdc:Field></template:if></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>',
	"sap/fe/core/controls/ActionPartial.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1" template:require="{macroLibrary:\'sap/fe/macros/macroLibrary\',MESSAGE:\'sap/base/strings/formatMessage\'}" core:require="{MESSAGE:\'sap/base/strings/formatMessage\'}"><Dialog state="Warning" showHeader="true" contentWidth="20rem" resizable="true" verticalScrolling="true" horizontalScrolling="true" class="sapUiContentPadding" title="{totals&gt;/label}"><template:if test="{= ${entityType&gt;@com.sap.vocabularies.UI.v1.HeaderInfo}}"><template:then><template:with path="entityType&gt;@com.sap.vocabularies.UI.v1.HeaderInfo" var="headerInfo"><VBox><Text text="{= MESSAGE( ${totals&gt;/total} === 1 ? ${sap.fe.i18n&gt;C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION} : ${sap.fe.i18n&gt;C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_PLURAL}, ${totals&gt;/total} ) }"/></VBox><List items="{path:\'notApplicable&gt;/\',templateShareable:false}" headerText="{headerInfo&gt;TypeNamePlural}" showSeparators="None" unittest:id="ActionPartialHeaderInfoListHeaderText"><items><CustomListItem><HBox justifyContent="Start"><Text text="{= \'{notApplicable&gt;\' + ${headerInfo&gt;Title/Value/$Path} + \'}\'  }" class="sapUiTinyMarginBegin sapUiTinyMarginTopBottom" unittest:id="ActionPartialHeaderInfoListItemText"/></HBox></CustomListItem></items></List></template:with></template:then><template:elseif test="{= !${entityType&gt;@com.sap.vocabularies.UI.v1.HeaderInfo}}"><HBox justifyContent="SpaceAround"><Text text="{= ${totals&gt;/total} === 1 ? MESSAGE(${sap.fe.i18n&gt;C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_SEMANTICKEY}) :                 MESSAGE(${sap.fe.i18n&gt;C_ACTION_PARTIAL_FRAGMENT_SAPFE_BOUND_ACTION_SEMANTICKEY_PLURAL}, ${totals&gt;/total})}" class="sapUiTinyMarginBegin sapUiTinyMarginTopBottom"/></HBox><List items="{path:\'notApplicable&gt;/\',templateShareable:false}" showSeparators="None" unittest:id="ActionPartialSemanticKeyListHeaderText"><items><CustomListItem><HBox justifyContent="SpaceAround"><template:repeat list="{path:\'entityType&gt;@com.sap.vocabularies.Common.v1.SemanticKey\'}" var="semanticKey"><template:with path="semanticKey&gt;$PropertyPath" var="item"><Text text="{= \'{notApplicable&gt;\' + ${semanticKey&gt;$PropertyPath} + \'}\'  }" class="sapUiTinyMarginBegin sapUiTinyMarginTopBottom" unittest:id="ActionPartialSemanticKeyListItemText"/></template:with></template:repeat></HBox></CustomListItem></items></List></template:elseif></template:if><beginButton><Button text="{sap.fe.i18n&gt;C_ACTION_PARTIAL_FRAGMENT_SAPFE_CONTINUE_ANYWAY}" press="onContinue" type="Emphasized"/></beginButton><endButton><Button text="{sap.fe.i18n&gt;C_COMMON_SAPFE_CLOSE}" press="onClose"/></endButton></Dialog></core:FragmentDefinition>',
	"sap/fe/core/controls/NonComputedVisibleKeyFieldsDialog.fragment.xml":'<core:FragmentDefinition xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mdc="sap.ui.mdc" xmlns:mdcField="sap.ui.mdc.field" xmlns:form="sap.ui.layout.form" xmlns:customData="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" template:require="{MODEL:\'sap/ui/model/odata/v4/AnnotationHelper\',COMMON:\'sap/fe/macros/CommonHelper\',ID:\'sap/fe/core/helpers/StableIdHelper\',ValueHelpTemplating:\'sap/fe/macros/internal/valuehelp/ValueHelpTemplating\',Property:\'sap/fe/core/templating/PropertyFormatters\'}"><template:with path="fields&gt;" var="allFields"><form:SimpleForm><template:repeat list="{allFields&gt;}" var="key"><template:with path="key&gt;" helper="COMMON.getPathToKey" var="immutableKey"><Label text="{= ${immutableKey&gt;@com.sap.vocabularies.Common.v1.Label}}"/><mdc:Field delegate="{name:\'sap/ui/mdc/odata/v4/FieldBaseDelegate\'}" id="{= ID.generate([\'CreateDialog\', ${entitySet&gt;@sapui.name}, ${immutableKey&gt;@sapui.name}]) }" value="{immutableKey&gt;@@MODEL.format}" width="100%" required="{= ${immutableKey&gt;@com.sap.vocabularies.Common.v1.FieldControl} &amp;&amp; ${immutableKey&gt;@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} &amp;&amp; ${immutableKey&gt;@com.sap.vocabularies.Common.v1.FieldControl/$EnumMember} === \'com.sap.vocabularies.Common.v1.FieldControlType/Mandatory\'}" display="{= ${immutableKey&gt;@@Property.hasValueHelp} ? \'DescriptionValue\' : \'Value\'}" change="{= \'.handleChange($event, \\\'\' + ${immutableKey&gt;@sapui.name} + \'\\\')\' }" liveChange=".handleLiveChange" fieldHelp="{= ${immutableKey&gt;@@Property.hasValueHelp} ? ID.generate([${immutableKey&gt;@sapui.name},\'VH\']) : undefined }" customData:fieldName="{immutableKey&gt;@sapui.name}"><template:if test="{immutableKey&gt;@@Property.hasValueHelp}"><template:then><mdc:dependents><mdcField:FieldValueHelp id="{= ID.generate([${immutableKey&gt;@sapui.name},\'VH\']) }" delegate="{= \'{name:\\\'sap/fe/macros/FieldValueHelpDelegate\\\', payload: {propertyPath: \\\'\'+${immutableKey&gt;@@Property.getPropertyPath}+\'\\\' } }\' }" validateInput="{= ValueHelpTemplating.requiresValidation(${immutableKey&gt;@@Property.getProperty})}" noDialog="{= ${immutableKey&gt;@@Property.hasValueHelpWithFixedValues}}"><mdcField:FieldValueHelpMTableWrapper/></mdcField:FieldValueHelp></mdc:dependents></template:then></template:if></mdc:Field></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>',
	"sap/fe/core/fpm/manifest.json":'{"_version":"1.14.0","sap.app":{"id":"sap.fe.core.fpm","type":"component","applicationVersion":{"version":"1.86.1"},"title":"Object Page","tags":{"keywords":["Object Page"]},"ach":"CA-UI5-FE","offline":false,"resources":"resources.json"},"sap.ui":{"technology":"UI5","deviceTypes":{"desktop":true,"tablet":true,"phone":true},"supportedThemes":["sap_fiori_3","sap_hcb","sap_bluecrystal","sap_belize","sap_belize_plus","sap_belize_hcw"]},"sap.ui5":{"config":{"sapFiori2Adaptation":{"style":true,"hierarchy":true}},"services":{"templatedViewService":{"factoryName":"sap.fe.core.services.TemplatedViewService","startup":"waitFor","settings":{"converterType":"None"}},"asyncComponentService":{"factoryName":"sap.fe.core.services.AsyncComponentService","startup":"waitFor"}},"handleValidation":true,"dependencies":{"minUI5Version":"1.86.2","libs":{"sap.f":{},"sap.fe.macros":{"lazy":true},"sap.m":{},"sap.ui.core":{},"sap.ui.layout":{},"sap.ui.mdc":{},"sap.ui.fl":{}}},"contentDensities":{"compact":true,"cozy":true}}}',
	"sap/fe/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.core","type":"library","embeds":["fpm"],"applicationVersion":{"version":"1.86.1"},"title":"UI5 library: sap.fe.core","description":"UI5 library: sap.fe.core","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.86","libs":{"sap.ui.core":{"minVersion":"1.86.2"},"sap.f":{"minVersion":"1.86.2"},"sap.fe.navigation":{"minVersion":"1.86.1"},"sap.fe.placeholder":{"minVersion":"1.86.1"},"sap.m":{"minVersion":"1.86.2"},"sap.ui.layout":{"minVersion":"1.86.2","lazy":true},"sap.ui.mdc":{"minVersion":"1.86.2","lazy":false},"sap.ui.fl":{"minVersion":"1.86.2"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en-GB","en-US-sappsd","en-US-saptrc","es","es-MX","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"css":false,"content":{"controls":[],"elements":[],"types":["sap.fe.core.CreationMode","sap.fe.core.VariantManagement"],"interfaces":[]}}}}',
	"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><MessagePage showHeader="false" icon="sap-icon://message-error" text="{sap.fe.i18n&gt;T_TEMPLATING_ERROR_PAGE_SAPFE_APPSTART_TEMPLATING_FAILED}" description="{= ${error&gt;/message} ? ${error&gt;/message} : \'\'}"/></mvc:View>'
},"sap/fe/core/library-preload"
);
//# sourceMappingURL=library-preload.js.map