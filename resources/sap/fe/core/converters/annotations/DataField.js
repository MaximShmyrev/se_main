sap.ui.define(["sap/fe/core/templating/UIFormatters","sap/fe/core/templating/PropertyHelper"],function(U,P){"use strict";var _={};var g=P.getAssociatedUnitProperty;var a=P.getAssociatedCurrencyProperty;var b=U.getDisplayMode;function i(j){return j.hasOwnProperty("Action");}_.isDataFieldForActionAbstract=i;function c(j){return j.hasOwnProperty("Value");}_.isDataFieldTypes=c;function d(j){var k,l,m,n,o,p;return((k=j.annotations)===null||k===void 0?void 0:(l=k.UI)===null||l===void 0?void 0:l.Hidden)===true||c(j)&&((m=j.Value)===null||m===void 0?void 0:(n=m.$target)===null||n===void 0?void 0:(o=n.annotations)===null||o===void 0?void 0:(p=o.UI)===null||p===void 0?void 0:p.Hidden)===true;}_.isDataFieldAlwaysHidden=d;function e(j,o){if(typeof o==="object"){var k,l;if(c(o)&&((k=o.Value)===null||k===void 0?void 0:(l=k.$target)===null||l===void 0?void 0:l.fullyQualifiedName)){var m,n,p,q;var r=j.getEntityPropertyFromFullyQualifiedName((m=o.Value)===null||m===void 0?void 0:(n=m.$target)===null||n===void 0?void 0:n.fullyQualifiedName);if((r===null||r===void 0?void 0:(p=r.annotations)===null||p===void 0?void 0:(q=p.Common)===null||q===void 0?void 0:q.SemanticObject)!==undefined){return j.getEntitySetBasedAnnotationPath(r===null||r===void 0?void 0:r.fullyQualifiedName);}}}else{var s,t;var u=j.getEntityPropertyFromFullyQualifiedName(o);if((u===null||u===void 0?void 0:(s=u.annotations)===null||s===void 0?void 0:(t=s.Common)===null||t===void 0?void 0:t.SemanticObject)!==undefined){return j.getEntitySetBasedAnnotationPath(u===null||u===void 0?void 0:u.fullyQualifiedName);}}return undefined;}_.getSemanticObjectPath=e;function f(p,j,r){function k(H,I){if(!r.properties.hasOwnProperty(H)){r.properties[H]=I;}return Object.keys(r.properties).indexOf(H);}function l(H){r.exportSettingsTemplate=r.exportSettingsTemplate?"".concat(r.exportSettingsTemplate).concat(H):"".concat(H);}if(p===null||p===void 0?void 0:p.path){var m,n,o;var q=p.path.indexOf("/")>-1?p.path.substring(0,p.path.lastIndexOf("/")+1):"";var t=p===null||p===void 0?void 0:(m=p.$target)===null||m===void 0?void 0:(n=m.annotations)===null||n===void 0?void 0:(o=n.Common)===null||o===void 0?void 0:o.Text;var v;var s;if(r.exportSettingsTemplate){l("\n");}if(t===null||t===void 0?void 0:t.path){var u=j.getDataModelObjectPath();var w=q+t.path;var x=b(p,u);var y;switch(x){case"Value":v=k(p.path,{value:p.$target});l("{".concat(v,"}"));break;case"Description":y=k(w,{value:t.$target,description:p.$target});k(p.path,{value:p.$target});l("{".concat(y,"}"));break;case"ValueDescription":v=k(p.path,{value:p.$target});y=k(w,{value:t.$target,description:p.$target});l("{".concat(v,"} ({").concat(y,"})"));break;case"DescriptionValue":y=k(w,{value:t.$target,description:p.$target});v=k(p.path,{value:p.$target});l("{".concat(y,"} ({").concat(v,"})"));break;}}else{var z,A,B,C,D,E;var F=a(p.$target)||g(p.$target);var G=(p===null||p===void 0?void 0:(z=p.$target)===null||z===void 0?void 0:(A=z.annotations)===null||A===void 0?void 0:(B=A.Measures)===null||B===void 0?void 0:B.ISOCurrency)||(p===null||p===void 0?void 0:(C=p.$target)===null||C===void 0?void 0:(D=C.annotations)===null||D===void 0?void 0:(E=D.Measures)===null||E===void 0?void 0:E.Unit);if(F){v=k(p.path,{value:p.$target});s=k(F.name,{value:G.$target});l("{".concat(v,"}  {").concat(s,"}"));}else{v=k(p.path,{value:p.$target});l("{".concat(v,"}"));}}}return r;}function h(j,k){var l,m,n;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{properties:{}};if(j.$Type==="com.sap.vocabularies.UI.v1.DataField"&&j.Value){var p=j.Value;r=f(p,k,r);}else if(j.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){switch((l=j.Target)===null||l===void 0?void 0:(m=l.$target)===null||m===void 0?void 0:m.$Type){case"com.sap.vocabularies.UI.v1.FieldGroupType":(n=j.Target.$target.Data)===null||n===void 0?void 0:n.forEach(function(o){r=h(o,k,r);});break;case"com.sap.vocabularies.UI.v1.DataPointType":r=f(j.Target.$target.Value,k,r);break;}}return r;}_.collectRelatedProperties=h;return _;},false);
