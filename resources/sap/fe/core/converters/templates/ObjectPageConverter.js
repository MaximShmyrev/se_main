sap.ui.define(["../controls/ObjectPage/SubSection","../controls/ObjectPage/HeaderFacet","./BaseConverter","../helpers/ID","../helpers/ConfigurableObject","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction","sap/fe/core/helpers/BindingExpression"],function(S,H,B,I,C,A,a,b){"use strict";var _={};var n=b.not;var e=b.equal;var c=b.compileBinding;var d=b.annotationExpression;var g=a.getFooterDefaultActions;var f=a.getHeaderDefaultActions;var r=A.removeDuplicateActions;var h=A.getActionsFromManifest;var P=C.Placement;var j=C.insertCustomElements;var k=I.SectionID;var l=I.CustomSectionID;var T=B.TemplateType;var m=H.getHeaderFacetsFromManifest;var o=H.getHeaderFacetsFromAnnotations;var p=S.createSubSections;var q=S.createCustomSubSections;function s(i,F){var G=Object.keys(i);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(i);if(F)J=J.filter(function(K){return Object.getOwnPropertyDescriptor(i,K).enumerable;});G.push.apply(G,J);}return G;}function t(F){for(var i=1;i<arguments.length;i++){var G=arguments[i]!=null?arguments[i]:{};if(i%2){s(Object(G),true).forEach(function(J){u(F,J,G[J]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(F,Object.getOwnPropertyDescriptors(G));}else{s(Object(G)).forEach(function(J){Object.defineProperty(F,J,Object.getOwnPropertyDescriptor(G,J));});}}return F;}function u(i,F,G){if(F in i){Object.defineProperty(i,F,{value:G,enumerable:true,configurable:true,writable:true});}else{i[F]=G;}return i;}var v=function(i,F){var G,J;return((G=i.ID)===null||G===void 0?void 0:G.toString())||((J=i.Label)===null||J===void 0?void 0:J.toString())||F;};function w(i,F){var G={id:"",key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:"{= ${ui>/editMode} === 'Editable' }",subSections:p(i,F)};return G;}function x(i){var F,G,J;var K=i.getEntityType();var L=((F=K.annotations)===null||F===void 0?void 0:(G=F.UI)===null||G===void 0?void 0:(J=G.Facets)===null||J===void 0?void 0:J.map(function(M){return y(M,i);}))||[];return L;}function y(i,F){var G,J;var K=k({Facet:i});var L={id:K,key:v(i,K),title:c(d(i.Label)),showTitle:!!i.Label,visible:c(n(e(d((G=i.annotations)===null||G===void 0?void 0:(J=G.UI)===null||J===void 0?void 0:J.Hidden),true))),subSections:p([i],F)};return L;}function z(i,F){var G={};Object.keys(i).forEach(function(J){G[J]=D(i[J],J,F);});return G;}function D(i,F,G){var J=i.id||l(F);var K=i.position;if(!K){K={placement:P.After};}var L;if(!i.subSections){L=u({},F,t({},i,{position:undefined,visible:true}));}else{L=i.subSections;}var M=q(L,G);var N={id:J,key:F,title:i.title,showTitle:!!i.title,visible:i.visible!==undefined?i.visible:true,position:K,subSections:j([],M,{"title":"overwrite","actions":"merge"})};return N;}var E=function(i){var F;var G=i.getManifestWrapper();var J;var K=i.getEntityType();var L=j(o(i),m(G.getHeaderFacets()));var M=f(i);var N=j(M,h(G.getHeaderActions(),i,M),{isNavigable:"overwrite"});var O=j(g(G.getViewLevel(),i),h(G.getFooterActions(),i),{isNavigable:"overwrite"});if(G.isHeaderEditable()&&((F=K.annotations.UI)===null||F===void 0?void 0:F.HeaderFacets)){var Q;J=w((Q=K.annotations.UI)===null||Q===void 0?void 0:Q.HeaderFacets,i);}var R=j(x(i),z(G.getSections(),i),{"title":"overwrite","visible":"overwrite","subSections":{"actions":"merge","title":"overwrite"}});return{template:T.ObjectPage,headerFacets:L,headerSection:J,headerActions:r(N),sections:R,footerActions:O,showHeader:G.getShowObjectPageHeader(),showAnchorBar:G.getShowAnchorBar(),useIconTabBar:G.useIconTabBar()};};_.convertPage=E;return _;},false);
