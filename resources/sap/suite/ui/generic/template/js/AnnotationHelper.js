sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/comp/smartfield/SmartField","sap/suite/ui/generic/template/genericUtilities/FeLogger","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/base/security/encodeXML","sap/suite/ui/generic/template/js/RuntimeFormatters","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/genericUtilities/testableHelper","sap/ui/Device","sap/m/library"],function(A,S,F,f,d,a,R,b,t,D,c){"use strict";var l=new F("js.AnnotationHelper").getLogger();function E(e,M){var i=M[e];var j=i&&i["sap.ui.generic.app"];return!!(j&&j.enableLazyLoading);}function g(e){l.error("Error creating stable id for facet with RecordType: "+e.RecordType+" and Target: "+(e.Target&&e.Target.AnnotationPath));var i=new Uint32Array(1),j=Math.pow(2,32);var w=window.crypto||window.msCrypto;var x=w&&w.getRandomValues(i)[0]/j;return Math.floor((x*99999)+1).toString();}function h(C,P){var N=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var e=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=e.length-1;i>=0;i--){if(e[i].PropertyPath===P){N=true;break;}}}var w=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var x=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=x.length-1;j>=0;j--){if(x[j].PropertyPath===P){w=true;break;}}}}else{w=true;}}var y={getFilterRestriction:function(){return w;},getSortRestriction:function(){return N;}};return y;}function k(L,e){return!!(L.name&&e&&e.some(function(i){return L.name===i.entitySet;}));}function m(e,i,P,I,j,N){var w=I?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+e+"/"+i+"/"+P+"/supported}"+w+" ? "+j+" : "+N+"}";}function n(L,e,j,M,w){var N;if(j){N=j.split("/")[0];}if(L&&e){for(var i=0;i<e.length;i++){if(L===e[i].entitySet&&(!N||N===e[i].navigationProperty)&&e[i].navigation&&e[i].navigation[M]){if(w){if(e[i].component&&e[i].component.settings&&e[i].component.settings.hideChevronForUnauthorizedExtNav){return e[i].navigation[M].target;}}else{return e[i].navigation[M].target;}}}}return null;}function o(L,e,M,i,I,j,T){var P=j?"1":"Navigation";if(T){return P;}var N=j?"0":"Inactive";var w=j?"":"'";var O=n(L.name,e,i,"display",true);if(O){var C=M["sap.app"].crossNavigation.outbounds[O];var x=C.semanticObject;var y=C.action;var z=L.name+(i?("::"+i.split("/")[0]):"");return m(x,y,z,I,w+P+w,w+N+w);}if(k(L,e)){return I?P:"{= ${ui>/editable} ? "+w+N+w+" : "+w+P+w+" }";}return N;}function p(L,e,M,i,I){return o(L,e,M,i,I,true);}function q(M,e,P){var i=P;var w=M.getODataEntityType(e);if(i.indexOf("/")>-1){var x=i.split("/");for(var j=0;j<x.length-1;j++){var y=M.getODataAssociationEnd(w,x[j]);w=M.getODataEntityType(y.type);}i=x[x.length-1];}var O=M.getODataProperty(w,i);return(!!O&&O.type==="Edm.Boolean");}function r(e){while(!e.getEntitySet){e=e.getParent();}return e;}function s(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="lineItemQualifier"){var e=C[i].getValue();if(e){return e;}}}}function u(e,i){var M=i.getModel();var j=M.getMetaModel();var C=r(e.getParent());var w=j.getODataEntitySet(C.getEntitySet());var x=j.getODataEntityType(w.entityType);var y=C.getCustomData();var L=x["com.sap.vocabularies.UI.v1.LineItem"];var z=x["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var B=s(y);if(B){z=x["com.sap.vocabularies.UI.v1.LineItem#"+B+"@com.sap.vocabularies.UI.v1.Criticality"];}if(L&&z){if(z.Path){var G=z.Path;var H=i.getObject(G);if(H){switch(H.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";}}}else if(z.EnumMember){var I=z.EnumMember;if(I){switch(I){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";}}}}return"None";}var r=t.testableStatic(r,"AnnotationHelper_getSmartTableControl");var s=t.testableStatic(s,"AnnotationHelper_getLineItemQualifier");var v={formatMessage:f,encodeHTML:function(H){return a(H);},getNewVariable:function(C){var V=C.getProperty();var e={set:function(i,P){i=typeof i==="object"?d({},i):i;if(P){e.value=e.value||{};e.value[P]=i;}else{e.value=i;}}};V.push(e);return"/variables/"+(V.length-1);},getMetaModelBinding:function(C){var M=C.getObject();var e=C.getObject("/metaModel");return e.createBindingContext(M);},getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{l.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getVisibiltyBasedOnImportance:function(V){if(V['com.sap.vocabularies.UI.v1.Importance']&&V['com.sap.vocabularies.UI.v1.Importance'].hasOwnProperty("EnumMember")){if(V['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/High'){return true;}else if((V['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Medium')&&(D.system.tablet||D.system.desktop)){return true;}else if(D.system.desktop){return true;}else{return false;}}},getValueListReadOnly:function(i,e,j){var M=i.getInterface(1).getModel();var P=i.getInterface(1).getPath()+'/Value';var T=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(P));var w=M.getObject(T);if(w['com.sap.vocabularies.UI.v1.TextArrangement']){return w['com.sap.vocabularies.UI.v1.TextArrangement'].EnumMember!=='com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate';}else if(w['com.sap.vocabularies.Common.v1.Text']){return true;}else{var x=M.getODataEntityType(e);if(x['com.sap.vocabularies.UI.v1.TextArrangement']){return x['com.sap.vocabularies.UI.v1.TextArrangement'].EnumMember!=='com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate';}}},getImportenceForTableColumns:function(V){if(V['com.sap.vocabularies.UI.v1.Importance']&&V['com.sap.vocabularies.UI.v1.Importance'].hasOwnProperty("EnumMember")){if(V['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Low'){return"Low";}else if(V['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Medium'){return"Medium";}}return"High";},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var e=function(i){return((i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(i.Inline&&i.Inline.Bool==="true"));};if(C.length){if(!C.every(e)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var e=function(i){return(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(e)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,w,x,y,z){var P="",B="",G={},H={},J=[],K;var L=I.getInterface(0);var M=I.getInterface(1).getModel();var N=[];var O=[];var Q=[];var T="false";w=w&&w.Data;for(var i=0;i<w.length;i++){x=w[i];M=I.getInterface(0).getModel();H=M.getODataEntityType(M.getContext(I.getInterface(0).getPath()).getObject().entityType);if(x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(x.Target.AnnotationPath.indexOf("/")>0){var U=x.Target.AnnotationPath.split("/")[0];var V=x.Target.AnnotationPath.split("/")[1].split("@")[1];H=M.getODataEntityType(M.getODataAssociationEnd(H,U).type);z=H[V];}else{z=H[x.Target.AnnotationPath.split("@")[1]];}}if(((x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&x.Inline&&x.Inline.Bool==="true")||x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){P=v.createP13NColumnForAction(L,x);}else if(x.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var W=v.getRelevantDataForAnnotationRecord(M,x.Value.Path,H);H=W.entityType;var X=W.dataFieldValuePath;J=(H&&H.property)||[];for(var j=0;j<J.length;j++){if(J[j].name===X){y=J[j];break;}}P=v.createP13N(I,e,y,x);}else if(x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(x.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){P=v.createP13NColumnForContactPopUp(I,e,x,z,x.Target.AnnotationPath);}else if(x.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){P=v.createP13NColumnForChart(I,e,x,z,x.Target.AnnotationPath);}else if(z.Visualization){P=v.createP13NColumnForIndicator(I,e,y,x,z,z.Value,x.Target.AnnotationPath);}}if(P){G=JSON.parse(P.replace(/\\/g,""));}if(!N.length&&G.leadingProperty){N.push(G.leadingProperty);}else{G.leadingProperty&&(Q.indexOf(G.leadingProperty)===-1)?Q.push(G.leadingProperty):Function.prototype;}G.navigationProperty&&(O.indexOf(G.navigationProperty)===-1)?O.push(G.navigationProperty):Function.prototype;G.additionalProperty&&(Q.indexOf(G.additionalProperty)===-1)?Q.push(G.additionalProperty):Function.prototype;if(T==="false"){T=G.actionButton;}}P="";B=v.createP13NColumnKey(C);K=v._determineColumnIndex(I.getInterface(1));P='\\{"columnKey":"'+B;P+='", "columnIndex":"'+K;P+='", "sortProperty":"'+"";P+='", "filterProperty":"'+"";if(N.length>0){P+='", "leadingProperty":"'+N.join();}if(O.length>0){P+='", "navigationProperty":"'+O.join();}if(Q.length>0){P+='", "additionalProperty":"'+Q.join();}P+='", "actionButton":"'+T+'"';P+=' \\}';return P;},tabItemHasPresentationVariant:function(e,V){var i=e[V];return!!(i&&(i.PresentationVariant||i.Visualizations||i.SortOrder));},getPresentationVariant:function(V,e){if(V.Visualizations||V.SortOrder){return V;}else if(V.PresentationVariant&&(V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath)){var i=V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath;return e[i.replace('@','')];}else if(V.PresentationVariant){return v.getPresentationVariant(V.PresentationVariant);}},getPresentationVariantVisualisation:function(e,V){var i=e[V];var P=v.getPresentationVariant(i,e);if(P.Visualizations){return P.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,V){var i=e[V];var P=v.getPresentationVariant(i,e);if(P.SortOrder){return v.getSortOrder(P.SortOrder);}},getSmartTableId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="listReport";if(e){i=i.concat(e);}return i;},getAnalyticalTableId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="analyticalTable";if(e){i=i.concat(e);}return i;},getGridTableId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="GridTable";if(e){i=i.concat(e);}return i;},getTreeTableId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="TreeTable";if(e){i=i.concat(e);}return i;},getRowActionsId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="rowActions";if(e){i=i.concat(e);}return i;},getResponsiveTableId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="responsiveTable";if(e){i=i.concat(e);}return i;},getAddEntryId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="addEntry";if(e){i=i.concat(e);}return i;},getDeleteEntryId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="deleteEntry";if(e){i=i.concat(e);}return i;},getShowDetailsId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="showDetails";if(e){i=i.concat(e);}return i;},getDraftObjectMarkerId:function(T){var e=v.getSuffixFromIconTabFilterKey(T);var i="DraftObjectMarker";if(e){i=i.concat(e);}return i;},getBreakoutActionButtonId:function(C,T){if(C.id){var e=v.getSuffixFromIconTabFilterKey(T);var i=C.id;if(e){i=i.concat(e);}return i;}},getIconTabFilterKey:function(T){if(T){if(T.key){return T.key;}else{return v.replaceSpecialCharsInId(T.annotationPath);}}},getSuffixFromIconTabFilterKey:function(T){var K=v.getIconTabFilterKey(T);if(K){return"-".concat(K);}else{return"";}},getIconTabFilterText:function(i,M,T){var e,j,w,x,y,z,B,C;if(T){var G=T.AnnotationPath;var H=G&&G.substring(0,G.indexOf('/'));e=i.getInterface(0).getModel();j=e.getData();w=j.metaModel;B=w.getODataEntityType(j.entityType);C=w.getODataAssociationEnd(B,H);z=w.getODataEntityType(C.type);}else{e=i.getModel();j=e.getData();w=j.metaModel;if(!!M.entitySet){x=w.getODataEntitySet(M.entitySet);y=x.entityType;}else{y=j.entityType;}z=w.getODataEntityType(y);}var I=z[M.annotationPath];if(I&&I.Text){return I.Text.String;}},getAltTextForImage:function(e){if(e["com.sap.vocabularies.Common.v1.Text"]){return e["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,e){var j=e["Action"]&&e["Action"].String;j=j&&j.split("/")[1];if(j){var w=i.getModel().getODataFunctionImport(j);}return!!w;},buildAnnotatedActionButtonEnablementExpression:function(i,e,j,w,I,T,C){var x,B,y,M;y=e&&e.Action&&e.Action.String;if(y){B=v.getStableIdPartForDatafieldActionButton(e,j,T,C);if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!e.RequiresContext||e.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){M=i.getInterface(0).getModel();x=M.getODataFunctionImport(y);if(!x){l.error("The function import "+y+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(x["sap:action-for"]&&x["sap:action-for"]!==""&&x["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}return true;}},buildActionButtonsCustomData:function(I,C,e,w,T,x){var y,M,z;var B=[];I=I.getInterface(0);M=I.getModel();if(C){for(var i=0;i<C.length;i++){y=C[i];z=null;if(y.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&y.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var G=M.getContext(I.getPath()+"/"+i+"/Target");var H=sap.ui.model.odata.AnnotationHelper.resolvePath(G);var J=M.getObject(H);if(J.Data&&J.Data.length>0){for(var j=0;j<J.Data.length;j++){z=v.generateAnnotatedActionCustomData(J.Data[j],e,T,x);if(z){B.push(z);}}}}else{z=v.generateAnnotatedActionCustomData(y,e,T,x);if(z){B.push(z);}}}}return btoa(JSON.stringify(B));},generateAnnotatedActionCustomData:function(e,i,T,C){var I;if((e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!((e.Inline&&e.Inline.Bool===true)||(e.Determining&&e.Determining.Bool===true))&&(e.Action&&e.Action.String.trim())){I=v.getStableIdPartForDatafieldActionButton(e,i,T,C);return{ID:I,RecordType:e.RecordType,Action:e.Action&&e.Action.String};}},getLabelForDFwithIBN:function(i,e,j,G){var M,T,w,P,x,y;if(e.Label){return e.Label.String;}else{M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=v.getTargetEntitySet(M,j,G.Target.AnnotationPath);w=M.getODataEntityType(T.entityType);}else{w=M.getODataEntityType(j.entityType);}if((e.Value&&e.Value.Path)||(e.IconUrl&&e.IconUrl.Path)){y=(e.Value&&e.Value.Path)?e.Value.Path:e.IconUrl.Path;P=M.getODataProperty(w,y);x=(P["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return x;}}}},getLinkTextForDFwithIBN:function(i,e,j,G){var w,T,P,x;var M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=v.getTargetEntitySet(M,j,G.Target.AnnotationPath);w=M.getODataEntityType(T.entityType);}else{w=M.getODataEntityType(j.entityType);}if(e.Value&&e.Value.Path){P=M.getODataProperty(w,e.Value.Path)||{};x=(P["com.sap.vocabularies.Common.v1.Text"]||e.Value).Path||"";return"{"+x+"}";}}},getTargetEntitySet:function(M,e,i){var N,j,w,x;N=i.split('/');if(N.length>1){j=N[0];}if(j){w=M.getODataEntityType(e.entityType);x=M.getODataAssociationSetEnd(w,j);if(x&&x.entitySet){return M.getODataEntitySet(x.entitySet);}}return e;},getApplicablePathForChartToolbarActions:function(I,C,e){var M=I.getInterface(0).getModel();var j=M.getODataEntityType(e);var w=(C&&C.Actions)||[];var x,y,O,z=[],B=[],G;for(var i=0;i<w.length;i++){if(w[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!w[i].Inline||w[i].Inline.Bool!=="true")&&(!w[i].Determining||w[i].Determining.Bool!=="true")){x=w[i].Action&&w[i].Action.String;y=M.getODataFunctionImport(x);if(y){z.push(y);}}}for(var i=0;i<z.length;i++){y=z[i];if(y&&y["sap:action-for"]&&y["sap:action-for"]!==""&&y["sap:action-for"]!==" "&&y["sap:applicable-path"]&&y["sap:applicable-path"]!==""&&y["sap:applicable-path"]!==" "){G=y["sap:applicable-path"];O=M.getODataProperty(j,G);if(O&&O["sap:aggregation-role"]==="dimension"){B.push(G);}else{l.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+G+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(B.length>0){return B.join();}},formatSmartField:function(i,e){var j={"Path":e.path};return A.simplePath(i.getModel()?i:i.getInterface(0),j);},buildBreadCrumbExpression:function(C,T,e,i){var B,j=sap.ui.model.odata.AnnotationHelper.format(C,e);if(e&&e.Path&&i&&i.String){var w=i.String.replace(/'/g,"\\'");B="{= $"+j+" || '"+w+"' }";return B;}else{if(!j){return i&&i.String||"[[no title]]";}return j;}},buildRatingIndicatorSubtitleExpression:function(e){if(e){return"{parts: [{path: '"+e.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(i){if(i){var e=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return e.getText("RATING_INDICATOR_SUBTITLE",[i,this.data("Subtitle")]);}else{var j=i>1?e.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):e.getText("RATING_INDICATOR_SUBTITLE_LABEL");return e.getText("RATING_INDICATOR_SUBTITLE",[i,j]);}}},buildRatingIndicatorFooterExpression:function(V,T){if(T){return"{parts: [{path: '"+V.Path+"'}, {path: '"+T.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+V.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(e,i){if(e){var j=this.getModel("i18n").getResourceBundle();if(i){return j.getText("RATING_INDICATOR_FOOTER",[e,i]);}else if(this.getCustomData().length>0){return j.getText("RATING_INDICATOR_FOOTER",[e,this.data("Footer")]);}else{var w=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return j.getText("RATING_INDICATOR_FOOTER",[e,w]);}}},buildRatingIndicatorAggregateCountExpression:function(V){return"{parts: [{path: '"+V.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(e){var i=this.getModel("i18n").getResourceBundle();var T;if(e){T=i.getText("RATING_INDICATOR_AGGREGATE_COUNT",[e]);}else if(this.getCustomData().length>0){T=i.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{T="";}return T;},getIdForMoreBlockContent:function(e){if(e["com.sap.vocabularies.UI.v1.PartOfPreview"]&&e["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(e){return v.checkFacetContent(e,false);},checkBlockContent:function(e){return v.checkFacetContent(e,true);},checkFacetContent:function(e,B){var P;var i=e.getInterface(0);var j=e.getModel().getProperty("",e);var w=e.getPath().split("/Facets");var C=i.getModel().getContext(w[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!j){return;}for(var x=0;x<j.length;x++){if(!B){if(j[x]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&j[x]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){P=i.getPath()+"/"+x;break;}}else{if(j[x].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!j[x]["com.sap.vocabularies.UI.v1.PartOfPreview"]||j[x]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){P=i.getPath()+"/"+x;break;}}}}return P;},isInlineCreate:function(e,i){var j=i[v.getStableIdPartFromFacet(e)];return!!(j&&j.createMode&&j.createMode==="inline");},getLoadingStrategy:function(e,i){var j=i&&i[v.getStableIdPartFromFacet(e)];var L=j&&j.loadingBehavior;if(!L){return"lazyLoading";}if(L.waitForViewportEnter){return L.waitForHeaderData?"lazyLoadingAfterHeader":"lazyLoading";}return L.waitForHeaderData?"activateAfterHeaderDataReceived":"activateWithBindingChange";},usesPreliminaryContext:function(e,i){var j=i[v.getStableIdPartFromFacet(e)];return!!(j&&j.preliminaryContext);},isInlineCreateSorting:function(e,i){var j=i[v.getStableIdPartFromFacet(e)];return!!(j&&j.disableDefaultInlineCreateSort);},isImageUrl:function(P){var e=P["com.sap.vocabularies.UI.v1.IsImageURL"]||P["com.sap.vocabularies.UI.v1.IsImageUrl"];if(e&&e.Bool&&e.Bool==="false"){return false;}else if(e){return true;}return false;},isPropertySemanticKey:function(I,e,P){var I=I.getInterface(0);var M=I.getModel();var j=M.getODataEntityType(e.entityType);if(j){var w=j["com.sap.vocabularies.Common.v1.SemanticKey"];if(w&&w.length>0){for(var i=0;i<w.length;i++){if(w[i].PropertyPath===P.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,e){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return sap.ui.require.toUrl(e)+"/"+i;}},formatImageUrl:function(i,I,e,j){if(I&&(I.Path||I.Apply)&&j){v.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return v._addFullPathToImageUrlIfNeeded(I.String,e);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=v._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,e);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},getAvatarInitials:function(i){return((i.Path&&("{"+i.Path+"}"))||i.String||"");},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,T,e,j){var w=null;if(I){w=I;}else{w=T;}return v.formatImageUrl(i,w,e,j);},getPathWithExpandFromHeader:function(i,e,N,I,T){var j=[],w;if((I||T)){var i=i.getInterface(0);var M=i.getModel();var x=M.getODataEntityType(e.entityType);var y=null;if(I){y=I;}else{y=T;}if(y&&y.Path&&x){var z=v._getNavigationPrefix(M,x,y.Path);if(z){j.push(z);}}}if(j.length>0){if(j.length>1){j=j.filter(function(B,C,G){return C==G.indexOf(B);});}w="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{w="{ path : '"+N+"' }";}if(w==="{}"){w="";}return w;},disableSemanticObjectLinksOnPopups:function(Q,e){var i="";if(Q&&Q.ignoredFields&&e&&e.Value&&e.Value.Path){if(Q.ignoredFields[e.Value.Path]){i=e.Value.Path;}}return i;},formatImageUrlRuntime:function(i,e){return v._addFullPathToImageUrlIfNeeded(i,e);},formatHeaderImage:function(i,H,e){if(H.ImageUrl){return v.formatImageUrl(i,H.ImageUrl,e,true);}else if(H.TypeImageUrl){return v.formatImageUrl(i,H.TypeImageUrl,e,true);}else{return"";}},matchesBreadCrumb:function(C,T){return T.entitySet===C.name;},getPersistencyKeyForSmartTable:function(e){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(e){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(L,e,i){return n(L,e,i,"create");},getDisplayNavigationIntent:function(L,e,i){return n(L,e,i,"display");},extensionPointFragmentExists:function(e,i){var I=v.getStableIdPartFromFacet(e);if(I===i){return true;}else{return false;}},containsFormWithBreakoutAction:function(e,i){var C=v.getStableIdPartFromFacet(e);if(C===i){if(e.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&e.Target&&e.Target.AnnotationPath&&e.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},setAriaText:function(i,e,j){if(j.Path){return"{parts: [{path: '"+e+"'}, {path: '"+j.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";}j=sap.ui.model.odata.AnnotationHelper.format(i,j);return"{parts: [{path: '"+e+"'}, {value: '"+j+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";},formatWithExpandSimple:function(i,e,w){if(!e){return"";}var x=[],y,z;var M=i&&i.getModel&&i.getModel();if(!M){i=i.getInterface(0);M=i.getModel();}if(w){z=M.getODataEntityType(w.entityType);}else{var B=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(B&&B.length&&B[0]){var C=M.getProperty(B[0]);var N=M.getODataEntityContainer().namespace;z=M.getODataEntityType(N+'.'+C.name);}}if(z){if(e&&e.Path){y=v._getNavigationPrefix(M,z,e.Path);if(y){x.push(y);}}else if(e&&e.Apply&&e.Apply.Name==="odata.concat"){e.Apply.Parameters.forEach(function(H){if(H.Type==="Path"){y=v._getNavigationPrefix(M,z,H.Value);if(y){if(x.indexOf(y)===-1){x.push(y);}}}});}if(x.length>0){var P=i.getSetting("preprocessorsData");if(P){var G=P.rootContextExpand||[];for(var j=0;j<x.length;j++){if(G.indexOf(x[j])===-1){G.push(x[j]);}}P.rootContextExpand=G;}}}return sap.ui.model.odata.AnnotationHelper.format(i,e);},formatWithExpandSimplePath:function(i,e,j,V){v.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);if(!!(V&&V.NumberOfFractionalDigits&&V.NumberOfFractionalDigits.Int)){var w={};w.path=e.Path;w.type="sap.ui.model.odata.type.Decimal";w.constraints={'scale':V.NumberOfFractionalDigits.Int};return JSON.stringify(w);}v.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.simplePath(i,e);},formatWithExpand:function(i,e,j){v.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);v.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.format(i,e);},_getNavigationPrefix:function(M,e,P){var j="";var w=P.split("/");if(w.length>1){for(var i=0;i<(w.length-1);i++){var x=M.getODataAssociationEnd(e,w[i]);if(x){e=M.getODataEntityType(x.type);if(j){j=j+"/";}j=j+w[i];}else{return j;}}}return j;},getCurrentPathWithExpand:function(i,C,e,N){i=i.getInterface(0);var j=[],w;var M=i.getModel();var x=M.getODataEntitySet(e.name||'');var y=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var z=M.getODataEntityType(e.entityType);j=v.getFacetExpand(y,M,z,x);if(j.length>0){w="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{w="{ path : '"+N+"' }";}if(w==="{}"){w="";}return w;},getCurrentPathWithExpandForContact:function(i,C,e,N){var j=[],w;i=i.getInterface(0);var M=i.getModel();var x=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var y=M.getODataEntityType(e.entityType);j=v.getFacetExpandForContact(x,M,y);if(j.length>0){w="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{w="{ path : '"+N+"' }";}if(w==="{}"){w="";}return w;},getFacetExpandForContact:function(e,M,w){var x=[],y;var G=function(P){if(P){var C=v._getNavigationPrefix(M,w,P);if(C){if(x.indexOf(C)===-1){x.push(C);}}}};if(e&&e.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){y=M.getObject(e)||{};for(var i in y){var P;var z=y[i];if(z&&z.Path){P=z.Path;G(P);}else if(Object.prototype.toString.call(z)==='[object Array]'){for(var j in z){var B=z[j];if(B&&B.uri&&B.uri.Path){P=B.uri.Path;}if(B&&B.address&&B.address.Path){P=B.address.Path;}G(P);}}}}return x;},getNavigationPathWithExpand:function(i,C,e,w){i=i.getInterface(0);var M=i.getModel();var x=M.getODataEntitySet(e.name||'');var y=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var N=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var z=N.replace("{","").replace("}","");var B;if(z){B=M.getODataEntityType(x.entityType);var G=M.getODataAssociationSetEnd(B,z);if(G&&G.entitySet){x=M.getODataEntitySet(G.entitySet);}}else{B=M.getODataEntityType(e.entityType);w=false;}var H=false;var I=v.getFacetExpand(y,M,B,x);var P=i.getSetting("preprocessorsData")||{};var J=P.rootContextExpand||[];if(I.length>0){if(z){H=true;}else{for(var j=0;j<I.length;j++){if(J.indexOf(I[j])===-1){J.push(I[j]);}}P.rootContextExpand=J;}}w=w&&(J.indexOf(z)===-1||I.some(function(K){return J.indexOf(z+"/"+K)===-1;}));if(H||w){N="{ path : '"+z+"', parameters : { ";if(H){N=N+"expand : '"+I.join(",")+"'";if(w){N=N+", ";}}if(w){N=N+"usePreliminaryContext: true, batchGroupId: 'facets'";}N=N+"} }";}if(N==="{}"){N="";}return N;},getFormGroupBindingString:function(i,C,e){var j=v.getNavigationPathWithExpand(i,C,e,true);return j;},getFacetExpand:function(j,M,w,x){var y=[],z=[],B,C=[];if(j){C=M.getObject(j)||[];}C=C.Data||C;var G=function(P,I){var J=v._getNavigationPrefix(M,w,P);if(J){if(z.indexOf(J)===-1){z.push(J);}}if(I){try{y=S.getSupportedAnnotationPaths(M,x,P,true)||[];}catch(e){y=[];}for(var i=0;i<y.length;i++){if(z.indexOf(y[i])===-1){z.push(y[i]);}}}};var H=function(P){if(P.Type==="LabeledElement"){G(P.Value.Path);}else if(P.Type==="Path"){G(P.Value);}};if(Array.isArray(C)){for(var i=0;i<C.length;i++){B=C[i];if(B.Value&&B.Value.Path){G(B.Value.Path,true);}if(B.Value&&B.Value.Apply&&B.Value.Apply.Name==="odata.concat"){B.Value.Apply.Parameters.forEach(H);}if(B.Action&&B.Action.Path){G(B.Action.Path);}if(B.Target){if(B.Target.Path){G(B.Target.Path);}if(B.Target.AnnotationPath){G(B.Target.AnnotationPath);}}if(B.SemanticObject&&B.SemanticObject.Path){G(B.SemanticObject.Path);}if(B.Url&&B.Url.Path){G(B.Url.Path);}if(B.Url&&B.Url.Apply&&B.Url.Apply.Parameters){B.Url.Apply.Parameters.forEach(H);}if(B.UrlContentType&&B.UrlContentType.Path){G(B.UrlContentType.Path);}}}else{if(C.name){G(C.name,true);}if(C.Value&&C.Value.Path){G(C.Value.Path,true);}if(C.Title&&C.Title.Path){G(C.Title.Path,true);}if(C.Criticality&&C.Criticality.Path){G(C.Criticality.Path,true);}}return z;},isSelf:function(P){if(P===undefined||(P&&P.indexOf('@')===0&&P.indexOf('/')===-1)){return true;}return false;},number:function(e){if(!e){return NaN;}else if(e.Decimal){return+e.Decimal;}else if(e.Path){return'{'+e.Path+'}';}else{return NaN;}},formatColor:(function(){function e(w){if(!w){return NaN;}else if(w.Decimal){return w.Decimal;}else if(w.EnumMember){return'\''+w.EnumMember+'\'';}else if(w.Path){return'${'+w.Path+'}';}else{return NaN;}}function i(w){var x=w.Criticality;return'{= '+e(x)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+e(x)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function j(w){var x=e(w.Value);var C=w.CriticalityCalculation;return'{= ('+x+' < '+e(C.DeviationRangeLowValue)+' || '+x+' > '+e(C.DeviationRangeHighValue)+') ? \'Error\' : ('+x+' < '+e(C.ToleranceRangeLowValue)+' || '+x+' > '+e(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(w){if(w.Criticality){return i(w);}else if(w.CriticalityCalculation){return j(w);}};})(),_determineColumnIndex:function(C){var e=C.getPath();var i=Number(e.slice(e.lastIndexOf("/")+1));var L=e.slice(0,e.lastIndexOf("/"));var j=C.getModel().getObject(L);var w=0;for(var x=0;x<i;x++){if((j[x].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||j[x].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!j[x].Inline||j[x].Inline.Bool==="false")){continue;}else{w++;}}return w;},suppressP13NDuplicateColumns:function(I,e){var j="";var w={};var C=",";var M=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var x=e[i].Value.Path;w[x]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){if(e[i].Value&&e[i].Value.Path){var x=e[i].Value.Path;if(!w[x]){j=j+C+x;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var T=M.getContext(I.getPath()+"/"+i+"/Target");var y=sap.ui.model.odata.AnnotationHelper.resolvePath(T);var z=M.getObject(y);if(y.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(z&&z.fn&&z.fn.Path){var x=z.fn.Path;if(!w[x]){j=j+C+x;}}}else if(y.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(z&&z.Value&&z.Value.Path){var x=z.Value.Path;if(!w[x]){j=j+C+x;}}}else if(y.indexOf('com.sap.vocabularies.UI.v1.Chart')>=0){if(e[i].Target&&e[i].Target.AnnotationPath){var x=e[i].Target.AnnotationPath.split("com.sap.vocabularies.UI.v1.Chart#")[1];if(!w[x]){j=j+C+x;}}}}}if(j.length>0){j=j.substring(1);}return j;},createP13NColumnForAction:function(C,e){var i=v._determineColumnIndex(C);var j=v.createP13NColumnKey(e);if(e&&e.Value&&e.Value.Path){var P='\\{"columnKey":"'+j+'", "leadingProperty":"'+e.Value.Path+'", "columnIndex":"'+i;var w=h(C,e.Value.Path);var N=w.getFilterRestriction();var x=w.getSortRestriction();if(!x){P+='", "sortProperty":"'+e.Value.Path;}if(!N){P+='", "filterProperty":"'+e.Value.Path;}P+='", "actionButton":"true" \\}';}else{var P='\\{"columnKey":"'+j+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return P;},createP13NColumnForContactPopUp:function(i,C,e,j,w){var P="";var N="";var M=i.getInterface(0).getModel();if(M){var x=M.getODataEntityType(C.entityType);if(x){N=v._getNavigationPrefix(M,x,w);}}var y=v.createP13NColumnKey(e);P+='\\{"columnKey":"'+y;if(j&&j.fn&&j.fn.Path){if(N){var z=M.getODataAssociationSetEnd(x,N);if(z&&z.entitySet){C=M.getODataEntitySet(z.entitySet);}var B=h(C,j.fn.Path);var G=B.getFilterRestriction();var H=B.getSortRestriction();P+='", "leadingProperty":"'+N+'/'+j.fn.Path+'", "additionalProperty":"'+N;if(!H){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!G){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}if(j.fn.EdmType==="Edm.String"){P+='", "type":"'+"string";}}else{var B=h(C,j.fn.Path);var G=B.getFilterRestriction();var H=B.getSortRestriction();P+='", "leadingProperty":"'+j.fn.Path+'", "filterProperty":"'+j.fn.Path+'", "additionalProperty":"'+j.fn.Path;if(!H){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!G){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}}}P+='", "navigationProperty":"'+N;var I=i.getInterface(1);var J=v._determineColumnIndex(I);if(J){P+='", "columnIndex":"'+J;}P+='" \\}';return P;},createP13NColumnForIndicator:function(i,C,e,j,w,x,y){var P="";var N="";var z=[];var M=i.getInterface(0).getModel();if(M){var B=M.getODataEntityType(C.entityType);if(B){N=v._getNavigationPrefix(M,B,y);}}var G=v.createP13NColumnKey(j);P='\\{"columnKey":"'+G;if(N){N=N+"/";}if(w.Value&&w.Value.Path){P+='", "leadingProperty":"'+N+w.Value.Path;z.push(N+w.Value.Path);}if(w.TargetValue&&w.TargetValue.Path){z.push(N+w.TargetValue.Path);}if(w.Criticality&&w.Criticality.Path){z.push(N+w.Criticality.Path);}if(z.length>0){var H="";z.forEach(function(Q){if(H){H=H+",";}H=H+Q;});P+='", "additionalProperty":"'+H;}var I=i.getInterface(2);var J=v._determineColumnIndex(I);if(J){P+='", "columnIndex":"'+J;}if(w&&w.Value&&w.Value.Path){var K=h(C,w.Value.Path);var L=K.getFilterRestriction();var O=K.getSortRestriction();if(!O){P+='", "sortProperty":"'+w.Value.Path;}if(!L){P+='", "filterProperty":"'+w.Value.Path;}}P+='" \\}';return P;},createP13NColumnForChart:function(i,C,e,j,w){var P="",x=[],N="";var M=i.getInterface(0).getModel();if(M){var y=M.getODataEntityType(C.entityType);if(y){N=v._getNavigationPrefix(M,y,w);}}var z=v.createP13NColumnKey(e);if(N){P='\\{"columnKey":"'+z+'", "leadingProperty":"'+N;N=N+"/";}else{P='\\{"columnKey":"'+z;}if(Array.isArray(j.Dimensions)){j.Dimensions.forEach(function(H){x.push(N+H.PropertyPath);});}if(Array.isArray(j.Measures)){j.Measures.forEach(function(H){x.push(N+H.PropertyPath);});}if(x.length>0){P+='", "additionalProperty":"'+x.join();}var B=i.getInterface(1);var G=v._determineColumnIndex(B);if(G){P+='", "columnIndex":"'+G;}P+='" \\}';return P;},createP13NColumnKey:function(e,C){var i="";var j="template";var w="::";if(e.RecordType==="com.sap.vocabularies.UI.v1.DataField"){i=e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){i=j+w+"DataFieldWithIntentBasedNavigation"+w+e.SemanticObject.String+w+e.Action.String+w+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i=j+w+"DataFieldWithNavigationPath"+w+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i=j+w+"DataFieldForIntentBasedNavigation"+w+e.SemanticObject.String+w+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){i=j+w+"DataFieldForAction"+w+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){i=j+w+"DataFieldForAnnotation"+w+e.Target.AnnotationPath;i=i.replace('@','');}}return i;},createP13N:function(i,C,e,j,w,x){var P="",y=[],N="";if(j.RecordType==="com.sap.vocabularies.UI.v1.DataField"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(j.Value.Path){var z=v.createP13NColumnKey(j,e);P='\\{"columnKey":"'+z+'", "leadingProperty":"'+j.Value.Path;var M=i.getInterface(0).getModel();if(M){var B=M.getODataEntityType(C.entityType);if(B){if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){var T=v.getTextArrangement(B,j);if(T){P+='", "description":"'+e["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+T;}}N=v._getNavigationPrefix(M,B,j.Value.Path);if(N){N=N+"/";}}}}else if(j.Value.Apply&&j.Value.Apply.Name==="odata.concat"){j.Value.Apply.Parameters.forEach(function(Q){if(Q.Type==="Path"){if(!P){P='\\{"columnKey":"'+Q.Value+'", "leadingProperty":"'+Q.Value;}else{y.push(Q.Value);}}});}if((e.type==="Edm.DateTime")&&(e["sap:display-format"]==="Date")){P+='", "type":"date';}else if(e.type==="Edm.String"){P+='", "type":"string';}if(j.Criticality&&j.Criticality.Path){y.push(j.Criticality.Path);}if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){y.push(N+e["com.sap.vocabularies.Common.v1.Text"].Path);}if(e["Org.OData.Measures.V1.ISOCurrency"]&&e["Org.OData.Measures.V1.ISOCurrency"].Path){y.push(N+e["Org.OData.Measures.V1.ISOCurrency"].Path);}if(e["Org.OData.Measures.V1.Unit"]&&e["Org.OData.Measures.V1.Unit"].Path){y.push(N+e["Org.OData.Measures.V1.Unit"].Path);}if(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].Path){y.push(N+e["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Apply&&j.Url.Apply.Parameters){j.Url.Apply.Parameters.forEach(function(Q){if(Q.Type==="LabeledElement"){y.push(Q.Value.Path);}});}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Path){y.push(j.Url.Path);}if(y.length>0){var G="";y.forEach(function(Q){if(G){G=G+",";}G=G+Q;});P+='", "additionalProperty":"'+G;}var H=h(C,e.name);var I=H.getFilterRestriction();var J=H.getSortRestriction();var K=v.checkMultiplicityForDataFieldAssociationInTable(i,C,j);if(!J){if(K){P+='", "sortProperty":"'+"";}else if(N){P+='", "sortProperty":"'+N+e.name;}else{P+='", "sortProperty":"'+e.name;}}if(!I){if(K){P+='", "filterProperty":"'+"";}else{P+='", "filterProperty":"'+e.name;}}var L=i.getInterface(2);var O=v._determineColumnIndex(L);if(O>=0){P+='", "columnIndex":"'+O;}}return P+'" \\}';},getSortOrder:function(P){var e='';for(var i=0;i<P.length;i++){if(!e){e=P[i].Property.PropertyPath;}else{e=e+', '+P[i].Property.PropertyPath;}if(P[i].Descending){e=e+' '+P[i].Descending.Bool;}}return e;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){l.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(e){var P="",I="",j;if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return v.replaceSpecialCharsInId(e.Action.String);}else if(e.RecordType&&(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(e.SemanticObject.String){I=v.replaceSpecialCharsInId(e.SemanticObject.String);}else if(e.SemanticObject.Path){I=v.replaceSpecialCharsInId(e.SemanticObject.Path);}if(e.Action&&e.Action.String){I=I+"::"+v.replaceSpecialCharsInId(e.Action.String);}else if(e.Action&&e.Action.Path){I=I+"::"+v.replaceSpecialCharsInId(e.Action.Path);}return I;}else if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return v.replaceSpecialCharsInId(e.Target.AnnotationPath);}else if(e.IconUrl&&(e.IconUrl.Path||e.IconUrl.String)){if(e.IconUrl.Path){I=v.replaceSpecialCharsInId(e.IconUrl.Path);}else if(e.IconUrl.String){j=e.IconUrl.String.replace("://","-");I=v.replaceSpecialCharsInId(j);}return I;}else if(e.Value&&e.Value.Path){return v.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+v.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{l.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(e){var P="";if(e.Value&&e.Value.Path){return v.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+v.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{l.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(e){return b.getStableId({type:"ObjectPage",subType:"Facet",bIsHeaderFacet:(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0),sRecordType:e.RecordType,sAnnotationPath:e.Target&&e.Target.AnnotationPath,sAnnotationId:e.ID&&e.ID.String})||g(e);},getVisibilityForExtensionPointReplaceHeader:function(e,M){var i="ReplaceHeaderExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,M){if(M){var i="ReplaceHeaderExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointNoImage:function(e,M){var i="NoImageExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,M){if(M){var i="NoImageExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointAfterImage:function(e,M){var i="AfterImageExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,M){if(M){var i="AfterImageExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,i,M,j){var w;var x=v.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){w=v.getStableIdPartFromDataPoint(j);}else{w=v.getStableIdPartFromDataField(j);}var I=x+"::"+w;var y="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;var z=M[y];if(z&&z['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,i,M,j){if(M){var w;var x=v.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){w=v.getStableIdPartFromDataPoint(j);}else{w=v.getStableIdPartFromDataField(j);}var I=x+"::"+w;var y="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[y];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,i,M,j){var w;var x=v.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){w=v.getStableIdPartFromDataPoint(j);}else{w=v.getStableIdPartFromDataField(j);}var I=x+"::"+w;var y="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;var z=M[y];if(z&&z['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,i,M,j){if(M){var w;var x=v.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){w=v.getStableIdPartFromDataPoint(j);}else{w=v.getStableIdPartFromDataField(j);}var I=x+"::"+w;var y="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[y];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,i,M,j){var w;var x=v.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){w=v.getStableIdPartFromDataPoint(j);}else{w=v.getStableIdPartFromDataField(j);}var I=x+"::"+w;var y="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;var z=M[y];if(z&&z['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,i,M,j){if(M){var w;var x=v.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){w=v.getStableIdPartFromDataPoint(j);}else{w=v.getStableIdPartFromDataField(j);}var I=x+"::"+w;var y="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[y];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,i,M){var j="BeforeHeaderFacet|"+e+"|headerEditable::"+v.getStableIdPartFromFacet(i);var w=M[j];if(w&&w['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,i,M){if(M){var j="BeforeHeaderFacet|"+e+"|headerEditable::"+v.getStableIdPartFromFacet(i);return M[j];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,i,M){var j="ReplaceHeaderFacet|"+e+"|headerEditable::"+v.getStableIdPartFromFacet(i);var w=M[j];if(w&&w['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,i,M){if(M){var j="ReplaceHeaderFacet|"+e+"|headerEditable::"+v.getStableIdPartFromFacet(i);return M[j];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,i,M){var j="AfterHeaderFacet|"+e+"|headerEditable::"+v.getStableIdPartFromFacet(i);var w=M[j];if(w&&w['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,i,M){if(M){var j="AfterHeaderFacet|"+e+"|headerEditable::"+v.getStableIdPartFromFacet(i);return M[j];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,i,M){if(M){var j="BeforeHeaderDataPoint|"+e+"|"+v.getStableIdPartFromDataPoint(i);return M[j];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,i,M){if(M){var j="ReplaceHeaderDataPoint|"+e+"|"+v.getStableIdPartFromDataPoint(i);return M[j];}return false;},extensionPointAfterHeaderDataPointExists:function(e,i,M){if(M){var j="AfterHeaderDataPoint|"+e+"|"+v.getStableIdPartFromDataPoint(i);return M[j];}return false;},getObjectPageExtensions:function(C){var M=C.getObject();for(var e in M){if(e.split('|').length===4&&!(M[e]['sap.ui.generic.app']&&M[e]['sap.ui.generic.app']['key'])){d(M[e],{'sap.ui.generic.app':{'key':e.split('|')[3]}});}}C.getModel().setProperty("/manifestViewExtensions",M);return"/manifestViewExtensions";},extensionPointBeforeSubSectionExists:function(e,i,M){if(M){var j="BeforeSubSection|"+e+"|"+i;return M[j];}return false;},extensionPointAfterSubSectionExists:function(e,i,M){if(M){var j="AfterSubSection|"+e+"|"+i;return M[j];}return false;},extensionPointReplaceSubSectionExists:function(e,i,M){if(M){var j="ReplaceSubSection|"+e+"|"+i;return M[j];}return false;},getExtensionPointFacetTitle:function(M,e){var i=e[M];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,i,M){var j="AfterFacet|"+e+"|"+v.getStableIdPartFromFacet(i);var w=M[j];if(w&&w['sap.ui.generic.app']&&w['sap.ui.generic.app'].title){return w['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,i,M){var j="BeforeSubSection|"+e+"|"+i;var w=M[j];if(w&&w['sap.ui.generic.app']&&w['sap.ui.generic.app'].title){return w['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,i,M){var j="AfterSubSection|"+e+"|"+i;var w=M[j];if(w&&w['sap.ui.generic.app']&&w['sap.ui.generic.app'].title){return w['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,i,M){var j="ReplaceSubSection|"+e+"|"+i;var w=M[j];if(w&&w['sap.ui.generic.app']&&w['sap.ui.generic.app'].title){return w['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,i,M){return E("BeforeSubSection|"+e+"|"+i,M);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,i,M){return E("AfterSubSection|"+e+"|"+i,M);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,i,M){return E("ReplaceSubSection|"+e+"|"+i,M);},isExtensionPointFacetLazyLoadingEnabled:function(M,e){return E(M,e);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,i,M){return E("AfterFacet|"+e+"|"+v.getStableIdPartFromFacet(i),M);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,i,M){return E("ReplaceFacet|"+e+"|"+v.getStableIdPartFromFacet(i),M);},getRepeatIndex:function(V){if(V&&V.getPath()){var P="0000000000";var e=P+((parseInt(V.getPath().substring(V.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return e.substr(e.length-P.length);}else{l.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(L,e,M,T,i,j){var I=!T.level;var w=I&&e.some(function(y){return y.navigationProperty;});var x=i||I;return o(L,e,M,j,x,false,w);},getRowActionCountForDetailPage:function(L,e,M,i,I){return p(L,e,M,i,I);},getRowActionCountForListReport:function(L,e,M,i){return p(L,e,M,"",true);},hasSubObjectPage:function(L,e){return k(L,e);},isRelatedEntityCreatable:function(I,e,j,w,x,y,z,C){var B=false;var M=I.getInterface(0).getModel();var G=e["Org.OData.Capabilities.V1.InsertRestrictions"];var H=M.getODataEntityType(e.entityType);var J;var K;if(v.hasSubObjectPage(j,w)||(y&&v.isInlineCreate(x,y))||!!C){if(z){B="{= ${ui>/editable}}";}else{B="{= !${ui>/editable}}";}J=v.handleNavigationRestrictions(M,e,j,"Insertable");if(J&&J["Insertable"]){if(J["Insertable"].Path){K=J["Insertable"].Path;B=z?"{= ${ui>/editable} ? ${"+K+"} : false}":"{= !${ui>/editable} ? ${"+K+"} : false}";}}else if(G&&G.NonInsertableNavigationProperties&&G.NonInsertableNavigationProperties.length>0){for(var i=0;i<G.NonInsertableNavigationProperties.length;i++){var N=G.NonInsertableNavigationProperties[i];var L=v._getNonInsertableNavigationPropertyPath(N);if(L){var O=M.getODataAssociationSetEnd(H,L);if(O&&O.entitySet===j.name){if(N.If&&N.If.length===2){var P=N.If[0];K=P.Not?P.Not.Path:P.Path;if(q(M,e.entityType,K)){v._actionControlExpand(I,K,H.name);if(z){if(P.Not){B="{= ${ui>/editable} ? ${"+K+"} : false}";}else{B="{= ${ui>/editable} ? !${"+K+"} : false}";}}else{if(P.Not){B="{= !${ui>/editable} ? ${"+K+"} : false}";}else{B="{= !${ui>/editable} ? !${"+K+"} : false}";}}}else{B=false;l.warning("Creatable-Path is not valid. Creation for "+j.name+" is disabled");}}else{B=false;}break;}}}}}return B;},_getNonInsertableNavigationPropertyPath:function(N){var e;if(N.NavigationPropertyPath){e=N.NavigationPropertyPath;}else if(N.If){e=N.If[1].NavigationPropertyPath;}return e;},areBooleanRestrictionsValidAndPossible:function(i,e,j,w,x,O){var y;var M=i.getInterface(0).getModel();var z=j.entityType;var B,C,G;if(x){y=M.getODataEntitySet(x);G=y.entityType;}var H=v.handleNavigationRestrictions(M,y,j,w);if(H){B=H[w];C=G;}else{B=e&&e[w];C=z;}var V=!B||(B.Bool?!B.Path:(!!B.Path&&q(M,C,B.Path)));if(!V){l.error("Service Broken: Restrictions annotations for entity type "+z+" for section '"+w+"' are invalid.");}return V&&(!!O||!B||B.Bool!=="false");},handleNavigationRestrictions:function(M,e,j,w){if(!e){return false;}var x={"Insertable":"InsertRestrictions","Deletable":"DeleteRestrictions","Updatable":"UpdateRestrictions"};var i,N;var y=e["Org.OData.Capabilities.V1.NavigationRestrictions"];if(y&&y.RestrictedProperties){var z=y.RestrictedProperties;for(i in z){N=z[i];var B=M.getODataEntityType(e.entityType);var C=N.NavigationProperty.NavigationPropertyPath;var G=M.getODataAssociationSetEnd(B,C);if(G&&G.entitySet===j.name&&N[x[w]]){return N[x[w]];}}}return false;},_isPropertyPathBoolean:function(M,e,P){return q(M,e,P);},_actionControlExpand:function(i,P,e){var w=[],x;i=i.getInterface(0);var M=i.getModel();var y=M.getODataEntityType(e);if(P){x=v._getNavigationPrefix(M,y,P);if(x){w.push(x);}}if(w.length>0){var z=i.getSetting("preprocessorsData");if(z){var B=z.rootContextExpand||[];for(var j=0;j<w.length;j++){if(B.indexOf(w[j])===-1){B.push(w[j]);}}z.rootContextExpand=B;}}},getEntityTypesForFormPersonalization:function(i,e,j){i=i.getInterface(0);var w=[];var M=i.getModel();var x=M.getODataEntitySet(j.name||'');var y=[];if(e.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&e.Facets){y=e.Facets;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){y.push(e);}y.forEach(function(e){var N;if(e.Target&&e.Target.AnnotationPath&&e.Target.AnnotationPath.indexOf("/")>0){N=e.Target.AnnotationPath.split("/")[0];var z=M.getODataEntityType(x.entityType);var B=M.getODataAssociationSetEnd(z,N);if(B&&B.entitySet){x=M.getODataEntitySet(B.entitySet);if(w.indexOf(x.entityType.split(".")[1])===-1){w.push(x.entityType.split(".")[1]);}}}else{if(w.indexOf(j.entityType.split(".")[1])===-1){w.push(j.entityType.split(".")[1]);}}});return w.join(", ");},_mapTextArrangement4smartControl:function(T){var e="descriptionAndId";switch(T){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":e="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":e="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":e="descriptionOnly";break;default:break;}return e;},getTextArrangementForSmartControl:function(i,e,j,w){i=i.getInterface(0);var x;var M=i.getModel();if(j.name==undefined){x=M.getODataEntityType(w.entityType);}else{x=M.getODataEntityType(j.entityType);}var T="descriptionAndId";if(M.getODataProperty(x,e.Value.Path)){var P=M.getODataProperty(x,e.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=v._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(x["com.sap.vocabularies.UI.v1.TextArrangement"]&&x["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=v._mapTextArrangement4smartControl(x["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return T;},formatSubSectionHeader:function(e,C){return e!=C?true:false;},getTitle:function(e,i,N){var j;var T=v.getTextArrangementObject(e,i,N);if(T){j=v.getTitleTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return j;},getDescription:function(e,i,N){var j;var T=v.getTextArrangementObject(e,i,N);if(T){j=v.getDescriptionTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return j;},getTextArrangementObject:function(e,i,N){var T,P,j;if(i){P=i.name;var w=i["com.sap.vocabularies.Common.v1.Text"];if(w){j=w.Path;}T=v.getTextArrangement(e,i);return{textArrangement:T,propertyPath:P,textPath:j};}},getTextArrangement:function(e,i){var T;if(i["com.sap.vocabularies.UI.v1.TextArrangement"]&&i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=v._mapTextArrangement4smartControl(i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!T){var P=i["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=v._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=v._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){T="descriptionAndId";}return T;},getTitleTextArrangementBindingPath:function(T,P,e){var i="{"+P+"}";var j="{"+e+"}";if(!e){return i;}if(T==="descriptionAndId"){return j;}else if(T==="descriptionOnly"){return j;}else if(T==="idAndDescription"){return i;}else if(T==="idOnly"){return i;}},getDescriptionTextArrangementBindingPath:function(T,P,e){var i="{"+P+"}";var j="{"+e+"}";if(!e){return"";}if(T==="descriptionAndId"){return i;}else if(T==="descriptionOnly"){return"";}else if(T==="idAndDescription"){return j;}else if(T==="idOnly"){return"";}},doesFieldGroupContainOnlyOneMultiLineDataField:function(e,i){if(e.Data.length!==1){return false;}if((i['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(e.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(e){return"formatted:"+e;},getFacetID:function(e,i){return e+"|"+v.getStableIdPartFromFacet(i);},isListReportTemplate:function(e){if(e){return e.template==="sap.suite.ui.generic.template.ListReport";}},getStableIdPartForDatafieldActionButton:function(e,i,T,C){var j="";var w="";var x="";if(i){x=v.getStableIdPartFromFacet(i);}if(e){w=v.getStableIdPartFromDataField(e);}j=(x!==""?x+"::":"")+"action::"+w;var y=v.getSuffixFromIconTabFilterKey(T);if(y){j=j.concat(y);}if(C){j=j+"::chart";}return j;},_hasCustomDeterminingActionsInListReport:function(e,M){if(M&&M[e]){var i=M[e];if(i.Actions){for(var j in i.Actions){if(i.Actions[j].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,T,e,M){var i="";C=C.getInterface(0);if(e&&M&&M["sap.suite.ui.generic.template.ObjectPage.view.Details"]){var j=M["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"];if(j&&j[e]){var w=j[e];if(w.Header&&w.Header.Actions){for(var x in w.Header.Actions){if(w.Header.Actions[x].determining){if(w.Header.Actions[x].applicablePath){if(i.length>0){i+=" || ";}i+="${path: '"+w.Header.Actions[x].applicablePath+"'}";}else{return true;}}}}}}if(T){for(var y=0;y<T.length;y++){if((T[y].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&T[y].Determining&&T[y].Determining.Bool==="true"){var z=C.getModel().getODataFunctionImport(T[y].Action.String,true);var B=C.getModel().getObject(z);if(B["sap:applicable-path"]){if(i.length>0){i+=" || ";}i+="${path: '"+B["sap:applicable-path"]+"'}";}else{return"true";}}}}if(i.length>0){return"{= "+i+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(T,e,M){if(e&&M&&M["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&v._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&M&&M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&v._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var i=0;i<T.length;i++){if((T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&T[i].Determining&&T[i].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(e,i,j){if(j["com.sap.vocabularies.UI.v1.Hidden"]){return v.getBindingForHiddenPath(j);}else if(v.isListReportTemplate(e)||!i){return true;}else{return"{path: '"+i+"'}";}},actionControlInline:function(e){if(!e){return true;}else{return"{path: '"+e+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,e,U){var P="0";if(e.Value&&e.Value.Path){var V="$"+sap.ui.model.odata.AnnotationHelper.format(i,e.Value);var T,j;if(e.TargetValue){T=sap.ui.model.odata.AnnotationHelper.format(i,e.TargetValue);T=e.TargetValue.Path?"$"+T:T;}if(U){U=U['Org.OData.Measures.V1.Unit']||U["Org.OData.Measures.V1.ISOCurrency"];if(U){j=sap.ui.model.odata.AnnotationHelper.simplePath(i,U);j=j&&U.Path?"$"+j:"'"+j+"'";}}var w="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var x="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var y="'{'= ({2} === ''%'') ? "+w+" : "+x+" '}'";P=f(y,[V,T,j]);}return P;},buildExpressionForProgressIndicatorDisplayValue:function(i,e,U){var P;var j=function(i,x){var y=v.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,x));var z="{path: '"+y+"'}";return z;};P=j(i,e.Value)+", "+j(i,e.TargetValue)+", "+j(i,U);var w="{ parts: ["+P+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return w;},getProgressIndicatorTooltip:function(i,U){if(U&&U['com.sap.vocabularies.Common.v1.QuickInfo']&&U['com.sap.vocabularies.Common.v1.QuickInfo'].String){return U['com.sap.vocabularies.Common.v1.QuickInfo'].String;}else{return'';}},formatDisplayValue:function(V,T,U){var e="";if(V!==null&&V!==undefined){V=V.toString();}if(V){var C=this;var i=C.getModel("i18n").getResourceBundle();var j=C.getCustomData();var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();V=sap.ui.core.format.NumberFormat.getInstance(L).format(V);T=T||j.filter(function(O){if(O.getKey()==="Target"){return O;}});T=typeof(T)==="object"?(T[0]&&T[0].getValue()):T;U=U||j.filter(function(O){if(O.getKey()==="UoM"){return O;}});U=typeof(U)==="object"?(U[0]&&U[0].getValue()):U;if(U){if(U==='%'){e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[V]);}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(L).format(T);e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[V,T,U]);}else{e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[V,U]);}}}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(L).format(T);e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[V,T]);}else{e=V;}}}else{l.warning("Value property is mandatory, the default (empty string) will be returned");}return e;},buildExpressionForProgressIndicatorCriticality:function(i,e){var j=sap.ui.core.ValueState.None;var w;var C=e.Criticality;if(C){w="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var x='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);j=f(w,x);}else if(C.EnumMember){var y="'"+C.EnumMember+"'";j=f(w,y);}else{l.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{l.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return j;},buildExpressionForButtonCriticality:function(e){var i=c.ButtonType.Default;var j;var C=e.Criticality;if(C){j="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+c.ButtonType.Reject+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+c.ButtonType.Accept+"'' : "+"''"+c.ButtonType.Default+"'' '}'";if(C.Path){var w="${"+C.Path+"}";i=f(j,w);}else if(C.EnumMember){var x="'"+C.EnumMember+"'";i=f(j,x);}else{l.warning("Case not supported, returning the default sap.m.ButtonType.Default");}}else{l.warning("Case not supported, returning the default sap.m.ButtonType.Default");}return i;},buildEmphasizedButtonExpression:function(i){if(!i){return c.ButtonType.Emphasized;}var e;var I;i.forEach(function(j){var C=j.Criticality;var w=j["com.sap.vocabularies.UI.v1.Hidden"];if(j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&!I&&C){switch(C.EnumMember){case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":case"1":case 1:case"3":case 3:if(!w){e=c.ButtonType.Default;I=true;}e=e||c.ButtonType.Default;break;default:e=c.ButtonType.Emphasized;}if(C.Path){e="{= ((${"+C.Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Negative') || (${"+C.Path+"} === '1') || (${"+C.Path+"} === 1) "+"|| (${"+C.Path+"} === 'com.sap.vocabularies.UI.v1.CriticalityType/Positive') || (${"+C.Path+"} === '3') || (${"+C.Path+"} === 3)) ? "+"'Default'"+" : "+"'Emphasized'"+" }";}}});return e||c.ButtonType.Emphasized;},trimCurlyBraces:function(e){return e?e.replace("{","").replace("}",""):undefined;},getEntitySetName:function(e,i){var j="";try{j=e.name||i.name;}catch(w){l.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return j;},getBreakoutActionEnabledKey:function(e,T){var B=v.getBreakoutActionButtonId(e,T);var i="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return i;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(e){if(e["com.sap.vocabularies.UI.v1.Hidden"]){return v.getBindingForHiddenPath(e);}else if(!!e.RequiresContext&&e.RequiresContext.Bool=="false"&&(!e.Inline||e.Inline.Bool==="false")){var i=e.SemanticObject.String;var j=e.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+i+"/"+j+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(L){var e,T,j,w,x,M,y,z,B,C,G,H,I,J,K,N,O,i;if(!L){return;}e=L.getPath();if(e.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}j=e&&e.lastIndexOf("/");w=e.substring(0,j);x=e.substring(j+1);M=L.getModel();G=M&&M.getObject(w);if(G){H=G["com.sap.vocabularies.Common.v1.SemanticKey"]&&G["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&G["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;I=G[x];J=G["com.sap.vocabularies.UI.v1.HeaderInfo"];K="";N="";if(J){K=J&&J["Title"]&&J["Title"].Value&&J["Title"].Value.Path;N=J&&J["Description"]&&J["Description"].Value&&J["Description"].Value.Path;}O=I&&I.length;T=e+"/";for(i=0;i<O;i++){if(I[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&I[i].Value.Path===H){if(v.isPropertyHidden(I[i])){continue;}T=T+i+'/Value/Path';return T;}if(I[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&I[i].Value.Path===K){if(v.isPropertyHidden(I[i])){continue;}y=true;C=i;}if(I[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&I[i].Value.Path===N){if(v.isPropertyHidden(I[i])){continue;}z=true;B=i;}}if(y){T=T+C+'/Value/Path';return T;}else if(z){T=T+B+'/Value/Path';return T;}}else{l.warning("No entity type provided");}},isPropertyHidden:function(L){var H=false;if(L["com.sap.vocabularies.UI.v1.Hidden"]||(L["com.sap.vocabularies.Common.v1.FieldControl"]&&L["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&L["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(e,i){var j;if(i.Label){return i.Label.String;}else{j=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return j;}},getColumnToolTip:function(e,i){var j;if(i.Label){return i.Label.String;}else{j=e["sap:quickinfo"]||(e["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return j;}},getTextForDataField:function(e){var V=e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path;return V;},getColumnCellFirstText:function(e,i,j,C){var w,T;T=v.getTextArrangement(j,e);switch(T){case"idAndDescription":w=i.Value.Path;if(!w){w=v.getTextForDataField(e);}break;case"idOnly":w=i.Value.Path;if(!w){w=v.getTextForDataField(e);}break;case"descriptionAndId":case"descriptionOnly":default:w=v.getTextForDataField(e);if(!w){w=i.Value.Path;}break;}if(w){if(C){return true;}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var x=v.formatDateTimeForCustomColumn(e.type,w);return x;}else{return"{"+w+"}";}}}},getColumnCellSecondText:function(e,i,j,C){var w;w=v.getTitlePath(e,i,j);if(w){if(C){return"{= ${path: '"+w+"'} ? true : false}";}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var x=v.formatDateTimeForCustomColumn(e.type,w);return x;}else{return"{"+w+"}";}}}else{return C?false:undefined;}},getTitlePath:function(e,i,j){var w,T;T=v.getTextArrangement(j,e);switch(T){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!i.Value.Path){break;}w=v.getTextForDataField(e);break;case"descriptionAndId":default:if(!v.getTextForDataField(e)){break;}w=i.Value.Path;break;}return w;},getHeaderVisibility:function(e,i,j){var T,w;T=v.getTitlePath(e,i,j);if(!T){if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){T=v.getColumnCellFirstText(e,i,j);return"{= "+T+" ? false : true}";}else{T=v.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}}else{w=v.getTextArrangement(j,e);if(!w||w==="descriptionAndId"){T=v.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}if(w==="idAndDescription"){T=v.getTitlePath(e,i,j);}}if(T){return"{= ${path: '"+T+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(e,i){if(e==="Edm.DateTimeOffset"){return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(e==="Edm.DateTime"){return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(e){var i;var j=[];for(i in e){if(i.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){j.push(e[i].String);}}if(j.length>0){return j;}},getColumnCellFirstTextVisibility:function(e,i,j){var C=true;var V=!!v.getColumnCellFirstText(e,i,j,C);return V;},getColumnCellSecondTextVisibility:function(e,i,j){var C=true;var V=v.getColumnCellSecondText(e,i,j,C);return V;},isSmartLink:function(e){var i;for(i in e){if(i.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},setRowHighlight:function(e,T,L,C){var i=(T.entitySet===L)?T.isDraft:(T.isDraft||T.level===0)&&C(L);var j=T.level>0&&(i||!T.isDraft);var w=i?"{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}":"{value: true}, {value: true}";var M=j?"{path: 'ui>/editable'}, {path: '_templPrivMessage>/'}":"{value: false}, {value: ''}";var x=e["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var y=(x&&x.Path)?", {path: '"+x.Path+"'}":"";return"{parts: ["+w+", "+M+y+", {path: ''}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(e,j,w){var x=this.getBindingContext();if(!x){return"None";}var M="None";var y=sap.ui.core.MessageType;if(w){var z=x.getMessages();for(var i=0;i<z.length;i++){var B=z[i];var T=B.getType();if(T===y.Error){return"Error";}if(T===y.Warning){M="Warning";}else if(T===y.Information&&M!==y.Warning){M="Information";}}}if(e===false&&j===false){return M==="None"?"Information":M;}var C=u(this,x);return(C==="Error"||C==="Warning"||M==="None")?C:M;},getGroupElementQualifier:function(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="sap-ui-custom-settings"){var e=C[i].getValue()['sap.ui.dt'].annotation;if(typeof e=="string"){e=JSON.parse(e);}if(e){return(e.value[0]=="@")?e.value.substring(1):e.value;}else{return null;}}}return null;},getDataFieldLabel:function(i,e,j){var w;if(j.Label){return sap.ui.model.odata.AnnotationHelper.format(i,j.Label);}else{w=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(w===""){var x=(e.extensions)?e.extensions.find(function(y){return y.name==="label";}):null;if(x!==undefined&&x!==null){if(x.length!==undefined&&x.length>0){w=x[0].value;}else{w=x.value;}}else{w="";}}return w;}},getDataFieldValue:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var j=A.format(i.getModel()?i:i.getInterface(0),e);if(M){j=j.replace("{","{ mode:'"+M+"', ");}return j;},getDataFieldValueSimplePath:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var j=A.simplePath(i.getModel()?i:i.getInterface(0),e);if(M){j=j.replace("{","{ mode:'"+M+"', ");}return j;},formatObjectMarker:function(e,i,j){if(e&&i&&j){return sap.m.ObjectMarkerType.Locked;}else if(e&&i&&!j){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(e,i,j){if(e&&i&&j){return true;}else if(e&&i&&!j){return true;}else{return false;}},setNoDataTextForSmartTable:function(e,i){i="::"+e+"--"+i;return"{parts: [{value: '"+i+"'}], formatter: '._templateFormatters.setNoDataTextForSmartTable'}";},getRelevantDataForAnnotationRecord:function(M,e,i){var N,j;while(e.indexOf('/')>-1){N=e.split("/")[0];e=e.split('/').slice(1).join('/');j=M.getODataAssociationEnd(i,N);i=M.getODataEntityType(j&&j.type);}return{"entityType":i,"association":j,"dataFieldValuePath":e};},getTextArrangementForSCFields:function(I,e,w,C){var M=I.getInterface(0).getModel();var x=M.getODataEntityType(w.entityType);var y=e.Value.Path;x=v.getRelevantDataForAnnotationRecord(M,e.Value.Path,x).entityType;var P=x.property||[];var z,T;for(var i=0;i<P.length;i++){if(y===P[i].name){z=P[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===z){return"idOnly";}}T=v.getTextArrangementForSmartControl(I,e,{},w);return T;},checkMultiplicityForDataFieldAssociation:function(i,e,j){if(j.Value&&j.Value.Path){var w=j.Value.Path;var M=i.getModel(0);var x=M.getODataEntityType(e.entityType);var y;if(!(w.indexOf('/')>-1)){return true;}while(w.indexOf('/')>-1){var N=w.split("/")[0];w=w.split('/').slice(1).join('/');x=M.getODataEntityType(y&&y.type)||x;y=M.getODataAssociationEnd(x,N);}if(y&&y.multiplicity==="*"){return false;}}return true;},checkMultiplicityForDataFieldAssociationInTable:function(i,e,j){if(j.Value&&j.Value.Path){var w=j.Value.Path;var M=i&&i.getModel&&i.getModel(0);var x=M&&M.getODataEntityType&&M.getODataEntityType(e.entityType);var y;if(!(w.indexOf('/')>-1)||!x){return false;}while(w.indexOf('/')>-1){var N=w.split("/")[0];w=w.split('/').slice(1).join('/');x=M.getODataEntityType(y&&y.type)||x;y=M.getODataAssociationEnd(x,N);}if(y&&y.multiplicity==="*"){return true;}}return false;},hasQuickViewFacet:function(I,e){var M=I.getModel();var w=M.getODataEntityType(e.entityType);var P=[];var x=[];var y,T,z,N,B;if(!w||!w.navigationProperty){return'\\{\\}';}var C=w.property||[];for(var i=0;i<C.length;i++){if(C[i]["com.sap.vocabularies.Common.v1.SemanticObject"]){P.push(C[i].name);}}for(var i=0;i<w.navigationProperty.length;i++){if(w.navigationProperty.name==="SiblingEntity"||w.navigationProperty.name==="DraftAdministrativeData"){continue;}T=M.getODataEntityType(M.getODataAssociationEnd(w,w.navigationProperty[i].name).type);if(T["com.sap.vocabularies.UI.v1.QuickViewFacets"]){z=M.getObject("/dataServices/schema");N=T.namespace;for(var j in z){if(z[j].namespace===N){y=z[j];break;}}var G;var H=y.association;var Q=w.navigationProperty[i].relationship;var J=Q.lastIndexOf(".");var K=Q.slice(J+1);for(var j in H){if(H[j].name===K){G=H[j];break;}}var L=(G.referentialConstraint&&G.referentialConstraint.dependent&&G.referentialConstraint.dependent.propertyRef)||[];for(var j=0;j<L.length;j++){if(P.indexOf(L[j].name)!==-1){x.push(L[j].name);}}}}if(x.length){B='\\{';for(var i=0;i<x.length;i++){B+='"'+x[i]+'":"true",';}return B.slice(0,-1)+'\\}';}else{return'\\{\\}';}},buildHeaderInfoCustomData:function(i,e){var H="";var j="";var I=false;var w=false;if(e&&e.Title&&e.Title.Value){H=e.Title.Value.Path?e.Title.Value.Path:(e.Title.Value.String||"");I=e.Title.Value.Path?true:false;w=false;if(e&&e.Description&&e.Description.Value){j=e.Description.Value.Path?e.Description.Value.Path:(e.Description.Value.String||"");w=e.Description.Value.Path?true:false;}}return'\{"headerTitle":"'+H+'"\,"isHeaderTitlePath":'+I+'\,"headerSubTitle":"'+j+'"\,"isHeaderSubTitlePath":'+w+'\}';},getPresentationVariantQualifier:function(e,V){var i=e[V];if(i.Visualizations||i.SortOrder){return V.split("#")[1]||"";}else if(i.PresentationVariant&&(i.PresentationVariant.Path||i.PresentationVariant.AnnotationPath)){var j=i.PresentationVariant.Path||i.PresentationVariant.AnnotationPath;return j.split("#")[1]||"";}else if(i.PresentationVariant){return"";}},getPresentationVariantInitialExpansionLevel:function(e,V){var i=e[V];var P=v.getPresentationVariant(i,e);if(P.InitialExpansionLevel){return P.InitialExpansionLevel.Int;}},getIconSemanticColor:function(i,C){var I="";if(C.EnumMember){I=C.EnumMember.split('/')[1];}else if(C.Value){var e=sap.ui.core.IconColor;switch(C.Value){case"0":I=e.Neutral;break;case"1":I=e.Negative;break;case"2":I=e.Critical;break;case"3":I=e.Positive;break;default:I="";}}else if(C.String){I=C.String;}else if(C.Path){I="{= $"+sap.ui.model.odata.AnnotationHelper.simplePath(i,C)+"}";}return I;}};v.setAriaText.requiresIContext=true;v.getLinkTextForDFwithIBN.requiresIContext=true;v.getLabelForDFwithIBN.requiresIContext=true;v.isPropertySemanticKey.requiresIContext=true;v.getRepeatIndex.requiresIContext=true;v.suppressP13NDuplicateColumns.requiresIContext=true;v.formatWithExpand.requiresIContext=true;v.formatWithExpandSimple.requiresIContext=true;v.getNavigationPathWithExpand.requiresIContext=true;v.getFormGroupBindingString.requiresIContext=true;v.getCurrentPathWithExpand.requiresIContext=true;v.getCurrentPathWithExpandForContact.requiresIContext=true;v.getEntityTypesForFormPersonalization.requiresIContext=true;v.getTextArrangementForSmartControl.requiresIContext=true;v.createP13N.requiresIContext=true;v.createP13NColumnForConnectedFields.requiresIContext=true;v.createP13NColumnForIndicator.requiresIContext=true;v.createP13NColumnForAction.requiresIContext=true;v.createP13NColumnForContactPopUp.requiresIContext=true;v.createP13NColumnForChart.requiresIContext=true;v.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;v.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;v.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;v.getProgressIndicatorTooltip.requiresIContext=true;v.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;v.areBooleanRestrictionsValidAndPossible.requiresIContext=true;v.isRelatedEntityCreatable.requiresIContext=true;v.buildBreadCrumbExpression.requiresIContext=true;v.getApplicablePathForChartToolbarActions.requiresIContext=true;v.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;v.getIconTabFilterText.requiresIContext=true;v.formatImageUrl.requiresIContext=true;v.getPathWithExpandFromHeader.requiresIContext=true;v.formatImageOrTypeUrl.requiresIContext=true;v.formatHeaderImage.requiresIContext=true;v.getDataFieldLabel.requiresIContext=true;v.getDataFieldValue.requiresIContext=true;v.getDataFieldValueSimplePath.requiresIContext=true;v.getActionButtonVisibility.requiresIContext=true;v.checkMultiplicityForDataFieldAssociation.requiresIContext=true;v.checkMultiplicityForDataFieldAssociationInTable.requiresIContext=true;v.getTextArrangementForSCFields.requiresIContext=true;v.hasQuickViewFacet.requiresIContext=true;v.buildActionButtonsCustomData.requiresIContext=true;v.buildHeaderInfoCustomData.requiresIContext=true;v.formatWithExpandSimplePath.requiresIContext=true;v.formatSmartField.requiresIContext=true;v.getIconSemanticColor.requiresIContext=true;v.getValueListReadOnly.requiresIContext=true;return v;},true);
